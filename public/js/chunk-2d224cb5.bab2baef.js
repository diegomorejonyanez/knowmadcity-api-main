(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224cb5"],{e23e:function(t,e,r){"use strict";r.r(e);var o,a,n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Layout",[r("PageHeader",{attrs:{title:t.title,items:t.items}})],1)},i=[],s=r("ade3"),c=r("1da1"),u=r("5530"),l=(r("2b3d"),r("d3b7"),r("3ca3"),r("ddb0"),r("96cf"),r("92c3")),d=r.n(l),f=r("2f62"),m=r("7bb1"),h=r("5658"),g=r("2579"),p=(a={components:{vueDropzone:d.a,Layout:h["a"],PageHeader:g["a"],ValidationProvider:m["b"],ValidationObserver:m["a"]},data:function(){return{title:"Administracion",items:[{text:"Notificaciones",active:!0}],dropzoneOptions:{thumbnailWidth:150,maxFilesize:.5,headers:{"My-Awesome-Header":"header value"}},ver:!1,url:"",url_firma:"",modal:!0,file:null,firma:null,email:"",password:"",totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"age",sortDesc:!1,fields:["Nombre","Tipo de proceso","Objetivo","Actions"],cargos:[],editMode:!1,form:{id:6,nombre:"",descripcion:"",status:null,created_at:"",updated_at:"",cliente_id:1}}},computed:Object(u["a"])({},Object(f["d"])(["counter"])),created:function(){this.listarUsers()},methods:Object(u["a"])(Object(u["a"])({onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}},Object(f["b"])(["guardarUsuario"])),{},(o={switchLoc:function(){var t=this;this.editMode?this.$refs.form.validate().then((function(e){e&&t.editarCargos()})):this.$refs.form.validate().then((function(e){e&&t.agregarCliente()}))},editarCliente:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a in r=new FormData,o=t.form,o)r.append(a,o[a]);return e.next=5,t.axios.post("api/cargos",r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){if(200==e.status)for(var r in t.$swal("Agregado exito!","","success"),t.listarCargos(),t.$root.$emit("bv::hide::modal","modal","#btnShow"),o)t.form[r]=""})).catch((function(e){console.log(e.response.data.menssage),t.$swal(e.response.data)}));case 5:case"end":return e.stop()}}),e)})))()}},Object(s["a"])(o,"editarCliente",(function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a in r=new FormData,o=t.form,o)r.append(a,o[a]);return e.next=5,t.axios.put("api/cargos",r).then((function(e){if(200==e.status)for(var r in t.$swal("Editado con exito","","success"),t.listarCargos(),t.$root.$emit("bv::hide::modal","modal","#btnShow"),o)t.form[r]=""})).catch((function(e){t.$swal("ocurrio un problema","","warning")}));case 5:case"end":return e.stop()}}),e)})))()})),Object(s["a"])(o,"eliminarCargos",(function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=new FormData,o.append("id",t),r.next=4,e.axios.post("api/cargos/delete",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){200==t.status&&(e.$swal("Eliminado con exito!","","success"),e.listarCargos())})).catch((function(t){console.log(t.response.data.menssage),e.$swal(t.response.data)}));case 4:case"end":return r.stop()}}),r)})))()})),Object(s["a"])(o,"eliminarCargo",(function(t){var e=this;this.$swal({title:"Desea borrar este cargo?",icon:"question",iconHtml:"",confirmButtonText:"Si",cancelButtonText:"No",showCancelButton:!0,showCloseButton:!0}).then((function(r){r.isConfirmed&&e.eliminarCargos(t)}))})),Object(s["a"])(o,"resete",(function(){var t=this.form;for(var e in t)this.form[e]=""})),Object(s["a"])(o,"setear",(function(t){for(var e=0;e<this.cargos.length;e++)if(this.cargos[e].id===t)return this.form.id=this.cargos[e].id,this.form.cargo=this.cargos[e].cargo,this.form.descripcion=this.cargos[e].descripcion,void this.$root.$emit("bv::show::modal","modal","#btnShow")})),Object(s["a"])(o,"listarCargos",(function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("api/cargos").then((function(e){t.cargos=e.data.rows})).catch((function(t){console.log("error"+t)}));case 2:case"end":return e.stop()}}),e)})))()})),Object(s["a"])(o,"setEmail",(function(){this.form.username=this.form.email,console.log("holas")})),Object(s["a"])(o,"setRoles",(function(){"Administrador"===this.form.tipo?(this.form.codigo="",this.form.entidad="No",this.form.cargo="",this.form.roles="3"):"Coordinador"===this.form.tipo?(this.form.entidad="No",this.form.cargo="",this.form.roles="2"):this.form.roles="1"})),Object(s["a"])(o,"onFileChange",(function(t){var e=t.target.files[0];this.url=URL.createObjectURL(e)})),Object(s["a"])(o,"toggleModal",(function(){this.modal=!this.modal})),Object(s["a"])(o,"session",(function(){if(localStorage.getItem("token")){var t=localStorage.getItem("token");this.guardarUsuario(t)}else this.$router.push({name:"Home"})})),o))},Object(s["a"])(a,"created",(function(){this.session(),this.listarCargos()})),Object(s["a"])(a,"mounted",(function(){})),Object(s["a"])(a,"computed",{rows:function(){return this.cargos.length}}),a),b=p,w=r("2877"),v=Object(w["a"])(b,n,i,!1,null,null,null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d224cb5.bab2baef.js.map