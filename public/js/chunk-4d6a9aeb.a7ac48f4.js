(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d6a9aeb"],{"2b58":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Layout",[i("PageHeader",{attrs:{title:e.title,items:e.items}}),i("OrgChart")],1)},r=[],o=i("ade3"),a=i("5530"),l=(i("f6560"),i("92c3")),d=i.n(l),c=i("2f62"),p=i("7bb1"),h=i("5658"),f=i("2579"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"tree",attrs:{id:"tree"}})},g=[],m=i("1da1"),y=(i("96cf"),function(e,t){var i=this;if(this.element=e,this.config={lazyLoading:!0,enableDragDrop:!1,enableSearch:!0,enableTouch:!1,miniMap:!1,nodeMenu:null,nodeContextMenu:null,menu:null,toolbar:!1,sticky:!0,nodeMouseClick:y.action.details,nodeMouseDbClick:y.none,mouseScrool:y.action.zoom,showXScroll:y.none,showYScroll:y.none,template:"ana",tags:{},min:!1,nodeBinding:{},linkBinding:{},searchFields:[],searchDisplayField:null,searchFieldsWeight:null,nodes:[],clinks:[],slinks:[],levelSeparation:60,siblingSeparation:20,subtreeSeparation:40,mixedHierarchyNodesSeparation:15,assistantSeparation:100,minPartnerSeparation:50,partnerChildrenSplitSeparation:20,partnerNodeSeparation:15,columns:10,padding:30,orientation:y.orientation.top,layout:y.normal,scaleInitial:1,scaleMin:.1,scaleMax:5,orderBy:null,editUI:null,searchUI:null,xScrollUI:null,yScrollUI:null,nodeMenuUI:null,nodeContextMenuUI:null,toolbarUI:null,notifierUI:null,menuUI:null,exportUrl:"https://balkan.app/export",collapse:{},expand:{},align:y.CENTER,UI:null,anim:{func:y.anim.outPow,duration:200},zoom:{speed:120,smooth:12},roots:null,state:null},t)for(var n in this.config)"object"!=typeof t[n]||Array.isArray(t[n])?void 0!==t[n]&&(this.config[n]=t[n]):this.config[n]=y._mergeObject(this.config[n],t[n]);if(this._layoutConfigs={base:{orientation:this.config.orientation,levelSeparation:this.config.levelSeparation,mixedHierarchyNodesSeparation:this.config.mixedHierarchyNodesSeparation,assistantSeparation:this.config.assistantSeparation,subtreeSeparation:this.config.subtreeSeparation,siblingSeparation:this.config.siblingSeparation,layout:this.config.layout,columns:this.config.columns,collapse:this.config.collapse,partnerNodeSeparation:this.config.partnerNodeSeparation}},this.config.tags)for(var r in this.config.tags){var o=this.config.tags[r];null!=o.subTreeConfig&&(this._layoutConfigs[r]={orientation:null!=o.subTreeConfig.orientation?o.subTreeConfig.orientation:this.config.orientation,levelSeparation:null!=o.subTreeConfig.levelSeparation?o.subTreeConfig.levelSeparation:this.config.levelSeparation,mixedHierarchyNodesSeparation:null!=o.subTreeConfig.mixedHierarchyNodesSeparation?o.subTreeConfig.mixedHierarchyNodesSeparation:this.config.mixedHierarchyNodesSeparation,assistantSeparation:null!=o.subTreeConfig.assistantSeparation?o.subTreeConfig.assistantSeparation:this.config.assistantSeparation,subtreeSeparation:null!=o.subTreeConfig.subtreeSeparation?o.subTreeConfig.subtreeSeparation:this.config.subtreeSeparation,siblingSeparation:null!=o.subTreeConfig.siblingSeparation?o.subTreeConfig.siblingSeparation:this.config.siblingSeparation,layout:null!=o.subTreeConfig.layout?o.subTreeConfig.layout:this.config.layout,columns:null!=o.subTreeConfig.columns?o.subTreeConfig.columns:this.config.columns,collapse:null!=o.subTreeConfig.collapse?o.subTreeConfig.collapse:this.config.collapse,partnerNodeSeparation:null!=o.subTreeConfig.partnerNodeSeparation?o.subTreeConfig.partnerNodeSeparation:this.config.partnerNodeSeparation})}if(this._event_id=y._guid(),!this.config.searchFields.length&&this.config.nodeBinding)for(var a in this.config.nodeBinding)-1==a.indexOf("img")&&"function"!=typeof this.config.nodeBinding[a]&&this.config.searchFields.push(this.config.nodeBinding[a]);y._validateConfig(this.config)&&(this.server=null,this._vScroll={},this.config.ui||(this.ui=y.ui),this.config.editUI?this.editUI=this.config.editUI:this.editUI=new y.editUI,this.editUI.init(this),null===this.server&&(this.server=new y.server(this.config,this._layoutConfigs)),this.config.searchUI?this.searchUI=this.config.searchUI:this.searchUI=new y.searchUI,this.searchUI.init(this),this.config.nodeMenuUI?this.nodeMenuUI=this.config.nodeMenuUI:this.nodeMenuUI=new y.menuUI,this.nodeMenuUI.init(this,this.config.nodeMenu),this.config.nodeContextMenuUI?this.nodeContextMenuUI=this.config.nodeContextMenuUI:this.nodeContextMenuUI=new y.menuUI,this.nodeContextMenuUI.init(this,this.config.nodeContextMenu),this.config.toolbarUI?this.toolbarUI=this.config.toolbarUI:this.toolbarUI=new y.toolbarUI,this.config.notifierUI?this.notifierUI=this.config.notifierUI:this.notifierUI=new y.notifierUI,this.notifierUI.init(this),this.config.menuUI?this.menuUI=this.config.menuUI:this.menuUI=new y.menuUI,this.menuUI.init(this,this.config.menu),this.config.xScrollUI||(this.xScrollUI=new y.xScrollUI(this.element,this.config,(function(){return{boundary:i.response.boundary,scale:i.getScale(),viewBox:i.getViewBox(),padding:i.config.padding}}),(function(e){i.setViewBox(e)}),(function(){i._draw(!0,y.action.xScroll)}))),this.config.yScrollUI||(this.yScrollUI=new y.yScrollUI(this.element,this.config,(function(){return{boundary:i.response.boundary,scale:i.getScale(),viewBox:i.getViewBox(),padding:i.config.padding}}),(function(e){i.setViewBox(e)}),(function(){i._draw(!0,y.action.xScroll)}))),this._gragStartedId=null,this._timeout=null,this._touch=null,this._initialized=!1,this._moveInterval=null,this._movePosition=null,this.response=null,this.nodes=null,this._setInitialSizeIfNotSet(),0<this.config.nodes.length&&this._draw(!1,y.action.init))});y.prototype.load=function(e){return this.config.nodes=e,this._draw(!1,y.action.init),this},y.prototype.loadXML=function(e){var t=y._xml2json(e);this.load(t)},y.prototype.getXML=function(){return y._json2xml(this.config.nodes)},y.prototype.on=function(e,t){return y.events.on(e,t,this._event_id),this},y.prototype.draw=function(e,t,i){null==e&&(e=y.action.update),this._draw(!1,e,t,i)},y.prototype._draw=function(e,t,i,n){var r=this;this._hideBeforeAnimationCompleted=!1;var o=t==y.action.init?null:this.getViewBox();this.server.read(e,this.width(),this.height(),o,t,i,(function(e){t!=y.action.exporting&&(r.nodes=e.nodes,r.visibleNodeIds=e.visibleNodeIds,r.roots=e.roots),r.editUI.fields=e.allFields;var o={defs:""};y.events.publish("renderdefs",[r,o]);var a=r.ui.defs(o.defs),l=r.getScale(e.viewBox);a+=r.ui.pointer(r.config,t,l);var s=r.getViewBox(),d=e.viewBox;o={content:a,res:e},y.events.publish("prerender",[r,o]),a=o.content;for(var c=0;c<e.visibleNodeIds.length;c++){var p=e.nodes[e.visibleNodeIds[c]],h=r._get(p.id);a+=r.ui.node(p,h,e.animations,r.config,void 0,void 0,void 0,t,l,r)}for(c=0;c<e.visibleNodeIds.length;c++)p=e.nodes[e.visibleNodeIds[c]],h=r._get(p.id),a+=r.ui.link(p,r,l,e.bordersByRootIdAndLevel,e.nodes),a+=r.ui.expandCollapseBtn(r,p,r._layoutConfigs,t,l);if(o={content:a,res:e},y.events.publish("render",[r,o]),a=o.content,a+=r.ui.lonely(r.config),t!==y.action.exporting){if(t!==y.action.centerNode&&t!==y.action.insert&&t!==y.action.expand&&t!==y.action.collapse&&t!==y.action.update||(d=s),t===y.action.init&&null!=s&&(d=s),r.response=e,w=r.ui.svg(r.width(),r.height(),d,r.config,a),r._initialized){var f=r.getSvg(),u=f.parentNode;u.removeChild(f),u.insertAdjacentHTML("afterbegin",w),r._attachEventHandlers(),r.xScrollUI.addListener(r.getSvg()),r.yScrollUI.addListener(r.getSvg()),r.xScrollUI.setPosition(),r.yScrollUI.setPosition()}else r.element.innerHTML=r.ui.css()+r.ui.exportMenuButton(r.config)+w,r._attachInitEventHandlers(),r._attachEventHandlers(),r.xScrollUI.create(r.width(),r.config.padding),r.xScrollUI.setPosition(),r.xScrollUI.addListener(r.getSvg()),r.yScrollUI.create(r.height(),r.config.padding),r.yScrollUI.setPosition(),r.yScrollUI.addListener(r.getSvg()),r.config.enableSearch&&r.searchUI.addSearchControl(),r.toolbarUI.init(r,r.config.toolbar);var g=!1;r.notifierUI.show(e.notif);var m=r.response.animations;if(0<m[0].length){for(r._hideBeforeAnimation(m[0].length),c=0;c<m[0].length;c++)m[0][c]=r.getNodeElement(m[0][c]);y.anim(m[0],m[1],m[2],r.config.anim.duration,r.config.anim.func,(function(){g||(n&&n(),y.events.publish("redraw",[r]),r._showAfterAnimation(),g=!0)}))}t===y.action.centerNode?y.anim(r.getSvg(),{viewbox:s},{viewbox:r.response.viewBox},r.config.anim.duration,r.config.anim.func,(function(){r.ripple(i.options.rippleId),g||(n&&n(),y.events.publish("redraw",[r]),r._showAfterAnimation(),g=!0)}),(function(){r.xScrollUI.setPosition(),r.yScrollUI.setPosition()})):!s||!r.response||s[0]==r.response.viewBox[0]&&s[1]==r.response.viewBox[1]&&s[2]==r.response.viewBox[2]&&s[3]==r.response.viewBox[3]||t!==y.action.insert&&t!==y.action.expand&&t!==y.action.collapse&&t!==y.action.update&&t!==y.action.init?0==m[0].length&&(g||(n&&n(),y.events.publish("redraw",[r]),g=!0)):y.anim(r.getSvg(),{viewbox:s},{viewbox:r.response.viewBox},500,y.anim.inOutPow,(function(){r.xScrollUI.setPosition(),r.yScrollUI.setPosition(),g||(n&&n(),y.events.publish("redraw",[r]),g=!0)})),r._initialized||(r._initialized=!0,y.events.publish("init",[r]))}else{var x=e.boundary,v=x.maxX-x.minX,b=x.maxY-x.minY,w=r.ui.svg(v,b,[x.minX,x.minY,v,b],r.config,a,l);n(w)}}),(function(e){y.events.publish("ready",[r,e])}))},y.prototype._setInitialSizeIfNotSet=function(){this.element.style.overflow="hidden",this.element.style.position="relative",0==this.element.offsetHeight&&(this.element.style.height="100%",0==this.element.offsetHeight&&(this.element.style.height="700px")),0==this.element.offsetWidth&&(this.element.style.width="100%",0==this.element.offsetWidth&&(this.element.style.width="700px"))},y.prototype.getViewBox=function(){var e=this.getSvg();return y._getViewBox(e)},y.prototype.setViewBox=function(e){this.getSvg().setAttribute("viewBox",e.toString())},y.prototype.width=function(){return this.element.offsetWidth},y.prototype.height=function(){return this.element.offsetHeight},y.prototype.getScale=function(e){return e||(e=this.getViewBox()),y.getScale(e,this.width(),this.height(),this.config.scaleInitial,this.config.scaleMax,this.config.scaleMin)},y.prototype.ripple=function(e,t,i){var n=this.getNode(e);if(null!=n){var r=this.getNodeElement(e);if(null!=r){var o=this.getScale(),a=n.w/2,l=n.h/2;if(void 0!==t&&void 0!==i){var s=r.getBoundingClientRect();a=t/o-s.left/o,l=i/o-s.top/o}var d=n.w,c=n.h,p=a<d-a?d-a:a,h=l<c-l?c-l:l,f=(h=h)<(p=p)?p:h,u=document.createElementNS("http://www.w3.org/2000/svg","g"),g=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),m=document.createElementNS("http://www.w3.org/2000/svg","rect"),x=document.createElementNS("http://www.w3.org/2000/svg","circle"),v=y.randomId();g.setAttribute("id",v);var b={ripple:y.t(n.templateName,n.min,this.getScale()).ripple,node:n};y.events.publish("ripple",[this,b]),m.setAttribute("x",b.ripple.rect?b.ripple.rect.x:0),m.setAttribute("y",b.ripple.rect?b.ripple.rect.y:0),m.setAttribute("width",b.ripple.rect?b.ripple.rect.width:n.w),m.setAttribute("height",b.ripple.rect?b.ripple.rect.height:n.h),m.setAttribute("rx",b.ripple.radius),m.setAttribute("ry",b.ripple.radius),x.setAttribute("clip-path","url(#"+v+")"),x.setAttribute("cx",a),x.setAttribute("cy",l),x.setAttribute("r",0),x.setAttribute("fill",b.ripple.color),x.setAttribute("class","ripple"),g.appendChild(m),u.appendChild(g),u.appendChild(x),r.appendChild(u),y.anim(x,{r:0,opacity:1},{r:f,opacity:0},500,y.anim.outPow,(function(){r.removeChild(u)}))}}},y.prototype.center=function(e,t,i){var n,r,o=e,a=!0,l=!0;t&&null!=t.parentState&&(n=t.parentState),t&&null!=t.childrenState&&(r=t.childrenState),t&&null!=t.rippleId&&(o=t.rippleId),t&&null!=t.vertical&&(a=t.vertical),t&&null!=t.horizontal&&(l=t.horizontal);var s={parentState:n,childrenState:r,rippleId:o,vertical:a,horizontal:l};this._draw(!1,y.action.centerNode,{id:e,options:s},i)},y.prototype.fit=function(e){this.config.scaleInitial=y.match.boundary,this._draw(!0,y.action.init,void 0,e)},y.prototype.toggleFullScreen=function(){var e=document.querySelector("[data-tlbr='fullScreen']");document.fullscreenElement==this.element||document.webkitFullscreenElement==this.element||document.mozFullScreenElement==this.element||document.msFullscreenElement==this.element?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),e&&(e.innerHTML=y.toolbarUI.openFullScreenIcon)):(this.element.requestFullscreen?this.element.requestFullscreen():this.element.mozRequestFullScreen?this.element.mozRequestFullScreen():this.element.webkitRequestFullscreen?this.element.webkitRequestFullscreen():this.element.msRequestFullscreen&&this.element.msRequestFullscreen(),e&&(e.innerHTML=y.toolbarUI.closeFullScreenIcon))},y.prototype.getNode=function(e){return this.nodes[e]},y.prototype.setLayout=function(e,t){t||(t="base"),this._layoutConfigs[t].layout=e,this._draw(!1,y.action.update)},y.prototype.setOrientation=function(e,t){t||(t="base"),this._layoutConfigs[t].orientation=e,this._draw(!1,y.action.update)},y.prototype.find=function(e){return this.search(e)},y.prototype.search=function(e,t,i){return y.isNullOrEmpty(t)&&(t=this.config.searchFields),y.isNullOrEmpty(i)&&(i=t),y._search.search(this.config.nodes,e,t,i,this.config.searchDisplayField,this.config.searchFieldsWeight)},y.prototype._hideBeforeAnimation=function(e){if(1!=this._hideBeforeAnimationCompleted&&!(e&&e<y.ANIM_THRESHOLD)){var t=this.element.getElementsByTagName("text");if(t.length>y.TEXT_THRESHOLD)for(var i=0;i<t.length;i++)t[i].style.display="none";var n=this.element.getElementsByTagName("image");if(n.length>y.IMAGES_THRESHOLD)for(i=0;i<n.length;i++)n[i].style.display="none";var r=this.element.querySelectorAll("[link-id]");if(r.length>y.LINKS_THRESHOLD)for(i=0;i<r.length;i++)r[i].style.display="none";var o=this.element.querySelectorAll("[control-expcoll-id]");if(o.length>y.EXPCOLL_THRESHOLD)for(i=0;i<o.length;i++)o[i].style.display="none";this._hideBeforeAnimationCompleted=!0}},y.prototype._showAfterAnimation=function(){for(var e=this.element.getElementsByTagName("text"),t=0;t<e.length;t++)e[t].style.display="";var i=this.element.getElementsByTagName("image");for(t=0;t<i.length;t++)i[t].style.display="";var n=this.element.querySelectorAll("[link-id]");for(t=0;t<n.length;t++)n[t].style.display="";var r=this.element.querySelectorAll("[control-expcoll-id]");for(t=0;t<r.length;t++)r[t].style.display="";this._hideBeforeAnimationCompleted=!1},y.prototype.isChild=function(e,t){for(var i=this.getNode(t);i;){if(i.id==e)return!0;i=i.parent?i.parent:i.stParent}return!1},y.prototype.getCollapsedIds=function(e){for(var t=[],i=0;i<e.childrenIds.length;i++){var n=this.getNode(e.childrenIds[i]);1==n.collapsed&&t.push(n.id)}return t},y.prototype.stateToUrl=function(){if(this.server.state){var e={};return e.exp=this.server.state.exp.join("*"),e.min=this.server.state.min.join("*"),e.adjustify=this.server.state.adjustify.x+"*"+this.server.state.adjustify.y,e.scale=this.server.state.scale,e.y=this.server.state.x,e.x=this.server.state.y,new URLSearchParams(e).toString()}return""},y.prototype.generateId=function(){for(;;){var e="_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4);if(!this.nodes.hasOwnProperty(e))return e}},y.prototype.destroy=function(){this._removeEvent(window,"resize"),y.events.removeForEventId(this._event_id),this.element.innerHTML=null},y.localStorage={},y.localStorage.getItem=function(e){return localStorage.getItem(e)},y.localStorage.setItem=function(e,t){try{localStorage.setItem(e,t)}catch(e){e.code==e.QUOTA_EXCEEDED_ERR?(console.warn("Local storage quota exceeded"),localStorage.clear()):(console.error("Local storage error code:"+e.code),console.error(e))}},y.prototype._canUpdateLink=function(e,t){if(null==t||null==t)return!1;if(null==e||null==e)return!1;if(e==t)return!1;var i=this.getNode(t),n=this.getNode(e);return!(i&&n&&(i.isAssistant||i.isPartner||i.hasPartners&&n.isAssistant||i.hasAssistants&&n.isPartner))&&!this.isChild(e,t)},y.prototype.updateNode=function(e,t,i){var n=this,r=this.get(e.id);if(!0===i&&!1===y.events.publish("update",[this,r,e]))return!1;this.update(e);var o=e.pid;null==o&&(o=e.stpid),this._draw(!1,y.action.update,{id:o},(function(){n.ripple(e.id),t&&t(),y.events.publish("updated",[n,r,e])}))},y.prototype.update=function(e){for(var t=0;t<this.config.nodes.length;t++)if(this.config.nodes[t].id==e.id){this.config.nodes[t]=e;break}return this},y.prototype.removeNode=function(e,t,i){var n=this,r=this._getNewPidsAndStpidsForIds(e);return(!0!==i||!1!==y.events.publish("remove",[this,e,r]))&&(this.remove(e),this._draw(!1,y.action.update,null,(function(){n.config.sticky&&y._moveToBoundaryArea(n.getSvg(),n.getViewBox(),n.response.boundary),t&&t(),y.events.publish("removed",[n,e,r])})),!0)},y.prototype.remove=function(e){var t=this.get(e);if(t)for(var i=this.config.nodes.length-1;0<=i;i--)this.config.nodes[i].pid!=e&&this.config.nodes[i].stpid!=e||(this.config.nodes[i].pid=t.pid,this.config.nodes[i].stpid=t.stpid),this.config.nodes[i].id==e&&this.config.nodes.splice(i,1);return this},y.prototype._getNewPidsAndStpidsForIds=function(e){var t=this.get(e),i={},n={};if(t)for(var r=this.config.nodes.length-1;0<=r;r--)this.config.nodes[r].pid==e?i[this.config.nodes[r].id]=t.pid:this.config.nodes[r].stpid==e&&(n[this.config.nodes[r].id]=t.stpid);return{newPidsForIds:i,newStpidsForIds:n}},y.prototype.addNode=function(e,t,i){var n=this;if(!0===i&&!1===y.events.publish("add",[this,e]))return!1;this.add(e),n._draw(!1,y.action.insert,{id:e.pid,insertedNodeId:e.id},(function(){n.ripple(e.id),t&&t(),y.events.publish("added",[n,e.id])})),y.events.publish("adding",[n,e.id])},y.prototype.add=function(e){return null==e.id&&console.error("Call addNode without id"),this.config.nodes.push(e),this},y.prototype._get=function(e){for(var t=0;t<this.config.nodes.length;t++)if(this.config.nodes[t].id==e)return this.config.nodes[t];return null},y.prototype.get=function(e){for(var t=0;t<this.config.nodes.length;t++)if(this.config.nodes[t].id==e)return JSON.parse(JSON.stringify(this.config.nodes[t]));return null},void 0===y&&(y={}),y._ajax=function(e,t,i,n,r){null==n&&(n="arraybuffer");var o=new XMLHttpRequest;o.onload=function(e){4==o.readyState&&200===this.status&&r(e.target.response)},o.onerror=function(e){r({error:e})},o.open(t,e),o.responseType=n,o.setRequestHeader("Content-Type","application/json"),null==i?o.send():o.send(i)},void 0===y&&(y={}),y.anim=function(e,t,i,n,r,o,a){var l,s=1,d=n/10+1;return document.getElementsByTagName("g"),Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]),Array.isArray(i)||(i=[i]),l=setInterval((function(){for(var c=0;c<e.length;c++)for(var p in i[c]){var h=y._arrayContains(["top","left","right","bottom","width","height"],p.toLowerCase())?"px":"";switch(p.toLowerCase()){case"d":var f=r((10*s-10)/n)*(i[c][p][0]-t[c][p][0])+t[c][p][0],u=r((10*s-10)/n)*(i[c][p][1]-t[c][p][1])+t[c][p][1];e[c].setAttribute("d",e[c].getAttribute("d")+" L"+f+" "+u);break;case"r":var g=r((10*s-10)/n)*(i[c][p]-t[c][p])+t[c][p];e[c].setAttribute("r",g);break;case"rotate3d":if(i[c][p]){var m=t[c][p],x=i[c][p],v=[0,0,0,0];for(var b in m)v[b]=r((10*s-10)/n)*(x[b]-m[b])+m[b];e[c].style.transform="rotate3d("+v.toString()+"deg)"}break;case"transform":if(i[c][p]){for(var b in m=t[c][p],x=i[c][p],v=[0,0,0,0,0,0],m)v[b]=r((10*s-10)/n)*(x[b]-m[b])+m[b];e[c].hasAttribute("transform")?e[c].setAttribute("transform","matrix("+v.toString()+")"):e[c].style.transform="matrix("+v.toString()+")"}break;case"viewbox":if(i[c][p]){for(var b in m=t[c][p],x=i[c][p],v=[0,0,0,0],m)v[b]=r((10*s-10)/n)*(x[b]-m[b])+m[b];e[c].setAttribute("viewBox",v.toString())}break;case"margin":if(i[c][p]){for(var b in m=t[c][p],x=i[c][p],v=[0,0,0,0],m)v[b]=r((10*s-10)/n)*(x[b]-m[b])+m[b];var w="";for(b=0;b<v.length;b++)w+=parseInt(v[b])+"px ";e[c]&&e[c].style&&(e[c].style[p]=w)}break;case"scrolly":g=r((10*s-10)/n)*(i[c][p]-t[c][p])+t[c][p],e[c].scrollTo(0,g);break;default:g=r((10*s-10)/n)*(i[c][p]-t[c][p])+t[c][p],e[c]&&e[c].style&&(e[c].style[p]=g+h)}}a&&a(),1+d<(s+=1)&&(clearInterval(l),o&&o(e))}),10)},y.anim.inPow=function(e){return e<0?0:1<e?1:Math.pow(e,2)},y.anim.outPow=function(e){return e<0?0:1<e?1:-1*(Math.pow(e-1,2)+-1)},y.anim.inOutPow=function(e){return e<0?0:1<e?1:(e*=2)<1?y.anim.inPow(e,2)/2:-.5*(Math.pow(e-2,2)+-2)},y.anim.inSin=function(e){return e<0?0:1<e?1:1-Math.cos(e*(Math.PI/2))},y.anim.outSin=function(e){return e<0?0:1<e?1:Math.sin(e*(Math.PI/2))},y.anim.inOutSin=function(e){return e<0?0:1<e?1:-.5*(Math.cos(Math.PI*e)-1)},y.anim.inExp=function(e){return e<0?0:1<e?1:Math.pow(2,10*(e-1))},y.anim.outExp=function(e){return e<0?0:1<e?1:1-Math.pow(2,-10*e)},y.anim.inOutExp=function(e){return e<0?0:1<e?1:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,10*(-2*e+1)))},y.anim.inCirc=function(e){return e<0?0:1<e?1:-(Math.sqrt(1-e*e)-1)},y.anim.outCirc=function(e){return e<0?0:1<e?1:Math.sqrt(1-(e-1)*(e-1))},y.anim.inOutCirc=function(e){return e<0?0:1<e?1:e<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(2*e-2)*(2*e-2))+1)},y.anim.rebound=function(e){return e<0?0:1<e?1:e<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-1.5/2.75)*(e-1.5/2.75)+.75):e<2.5/2.75?1-(7.5625*(e-2.25/2.75)*(e-2.25/2.75)+.9375):1-(7.5625*(e-2.625/2.75)*(e-2.625/2.75)+.984375)},y.anim.inBack=function(e){return e<0?0:1<e?1:e*e*(2.70158*e-1.70158)},y.anim.outBack=function(e){return e<0?0:1<e?1:(e-1)*(e-1)*(2.70158*(e-1)+1.70158)+1},y.anim.inOutBack=function(e){return e<0?0:1<e?1:e<.5?4*e*e*(7.1898*e-2.5949)*.5:.5*((2*e-2)*(2*e-2)*(3.5949*(2*e-2)+2.5949)+2)},y.anim.impulse=function(e){var t=2*e;return t*Math.exp(1-t)},y.anim.expPulse=function(e){return Math.exp(-2*Math.pow(e,2))},void 0===y&&(y={}),y.prototype._attachInitEventHandlers=function(e){this._addEvent(window,"resize",this._resizeHandler)},y.prototype._attachEventHandlers=function(e){e=this.getSvg();var t=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;this.config.enableTouch||t||/Mobi/i.test(navigator.userAgent)||/Android/i.test(navigator.userAgent)?(this._addEvent(e,"touchstart",this._globalMouseDownHandler),this._addEvent(e,"touchend",this._globalClickHandler)):(this._addEvent(e,"mousedown",this._globalMouseDownHandler),this._addEvent(e,"click",this._globalClickHandler),this._addEvent(e,"contextmenu",this._globalContextHandler),this._addEvent(e,"dblclick",this._globalDbClickHandler),this.config.mouseScrool!=y.action.zoom&&this.config.mouseScrool!=y.action.ctrlZoom||(this._addEvent(e,"DOMMouseScroll",this._mouseScrollHandler),this._addEvent(e,"mousewheel",this._mouseScrollHandler)));var i=this.getExportMenuButton();i&&this._addEvent(i,"click",this._exportMenuClickHandler)},y.prototype._addEvent=function(e,t,i,n){var r,o;function a(e){var t=i.apply(this,arguments);return!1===t&&(e.stopPropagation(),e.preventDefault()),t}n||(n=""),e.getListenerList||(e.getListenerList={}),e.getListenerList[t+n]||(r=this,o=i,i=function(){if(o)return o.apply(r,[this,arguments[0]])},e.addEventListener?"mousewheel"==t?e.addEventListener(t,a,{passive:!1}):e.addEventListener(t,a,!1):e.attachEvent("on"+t,(function(){var t=i.call(e,window.event);return!1===t&&(window.event.returnValue=!1,window.event.cancelBubble=!0),t})),e.getListenerList[t+n]=a)},y.prototype._removeEvent=function(e,t){if(e.getListenerList[t]){var i=e.getListenerList[t];e.removeEventListener(t,i,!1),delete e.getListenerList[t]}},void 0===y&&(y={}),y.VERSION="7.7.30",y.orientation={},y.orientation.top=0,y.orientation.bottom=1,y.orientation.right=2,y.orientation.left=3,y.orientation.top_left=4,y.orientation.bottom_left=5,y.orientation.right_top=6,y.orientation.left_top=7,y.CENTER=8,y.ORIENTATION=9,y.TEXT_THRESHOLD=250,y.IMAGES_THRESHOLD=70,y.LINKS_THRESHOLD=150,y.EXPCOLL_THRESHOLD=40,y.ANIM_THRESHOLD=50,y.ID="id",y.PID="pid",y.STPID="stpid",y.TAGS="tags",y.NODES="nodes",y.ELASTIC="elastic",y.MAX_DEPTH=200,y.SCALE_FACTOR=1.44,y.LAZY_LOADING_FACTOR=500,y.action={},y.action.expand=0,y.action.collapse=1,y.action.maximize=101,y.action.minimize=102,y.action.expandCollapse=501,y.action.edit=1,y.action.zoom=2,y.action.ctrlZoom=22,y.action.scroll=41,y.action.xScroll=3,y.action.yScroll=4,y.action.none=5,y.action.init=6,y.action.update=7,y.action.pan=8,y.action.centerNode=9,y.action.resize=10,y.action.insert=11,y.action.insertfirst=12,y.action.details=13,y.action.exporting=14,y.none=400001,y.scroll={},y.scroll.visible=1,y.scroll.smooth=12,y.scroll.speed=120,y.scroll.safari={smooth:12,speed:250},y.match={},y.match.height=100001,y.match.width=100002,y.match.boundary=100003,y.COLLAPSE_PARENT_NEIGHBORS=1,y.COLLAPSE_SUB_CHILDRENS=2,y.COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED=3,y.normal=0,y.mixed=1,y.tree=2,y.treeLeftOffset=3,y.treeRightOffset=4,y.nodeOpenTag='<g node-id="{id}" style="opacity: {opacity}" transform="matrix(1,0,0,1,{x},{y})" class="{class}" sl="{sl}" l={level} {lcn}>',y.linkOpenTag='<g link-id="[{id}][{child-id}]" class="{class}">',y.expcollOpenTag='<g control-expcoll-id="{id}" transform="matrix(1,0,0,1,{x},{y})"  style="cursor:pointer;">',y.linkFieldsOpenTag='<g transform="matrix(1,0,0,1,{x},{y}) rotate({rotate})">',y.grCloseTag="</g>",y.IT_IS_LONELY_HERE='<g transform="translate(-100, 0)" style="cursor:pointer;"  control-add="control-add"><text fill="#039be5">{link}</text></g>',y.RES={},y.RES.IT_IS_LONELY_HERE_LINK="It's lonely here, add your first node",y.FIRE_DRAG_NOT_CLICK_IF_MOVE=3,y.STRING_TAGS=!1,y.MAX_NODES_MESS="The trial has expired or 200 nodes limit was reached! <br /><a style='color: #039BE5;' target='_blank' href='https://balkangraph.com/OrgChartJS/Docs/Evaluation'>See more</a>",y.OFFLINE_MESS="The evaluation version requires internet connection! <br /><a style='color: #039BE5;' target='_blank' href='https://balkangraph.com/OrgChartJS/Docs/Evaluation'>See more</a>",y.SEARCH_PLACEHOLDER="Search",y.IMPORT_MESSAGE="Choose the columns (fields) in your data file that contain the required information.",y.FIXED_POSITION_ON_CLICK=!1,y.ADD_NEW_FIELD="Add new field",y.ASSISTANT="Assistant",y.A4w=595,y.A4h=842,y.A3w=842,y.A3h=1191,y.A2w=1191,y.A2h=1684,y.A1w=1684,y.A1h=2384,y.Letterw=612,y.Letterh=791,y.Legalw=612,y.Legalh=1009,y.LINK_ROUNDED_CORNERS=8,y.MOVE_STEP=5,y.MOVE_INTERVAL=25,y.MIXED_LAYOUT_ALL_NODES=!0,y.CLINK_CURVE=1,y.SEARCH_RESULT_LIMIT=10,y.input=function(e,t,i,n,r,o){null==n&&(n=!1);var a=document.createElement("div"),l=document.createElement("div"),s=document.createElement("input"),d=document.createElement("hr"),c=document.createElement("button");if(c.innerHTML="Upload",c.style.position="absolute",c.style.right=0,a.style.margin="14px 14px 7px 14px",a.style.textAlign="left",a.style.position="relative",a.setAttribute("data-field-name",e),d.style.border="1px solid #d7d7d7",d.style.backgroundColor="#d7d7d7",d.style.display="block",d.style.width="100%",l.style.color="#bcbcbc",s.style.border="none",s.style.outline="none",s.style.width="100%",s.setAttribute("val",""),r&&(s.style.width="80%"),s.style.fontSize="16px",s.readOnly=n,null!=t&&null!=t&&(s.value=t),null!=i&&null!=i&&(s.placeholder=i),null!=e&&null!=e&&(l.innerHTML=e),l.setAttribute("lbl",""),s.style.color="#7a7a7a",n||s.addEventListener("focus",(function(){var e=this.parentNode.getElementsByTagName("hr")[0];e.style.border="1px solid #039BE5",y.anim(e,{width:10},{width:a.clientWidth},250,y.anim.inOutSin)})),c.addEventListener("click",(function(){var e=this,t=document.createElement("INPUT");t.setAttribute("type","file"),t.style.display="none",t.onchange=function(){var t=this.files[0];y.events.publish("imageuploaded",[o,t,e.parentNode.querySelector("input")])},document.body.appendChild(t),t.click()})),s.addEventListener("blur",(function(){this.parentNode.getElementsByTagName("hr")[0].style.border="1px solid #d7d7d7"})),a.appendChild(l),a.appendChild(s),r&&a.appendChild(c),a.appendChild(d),y.addValidation){var p={wrapper:a,label:l,input:s,hr:d};y.addValidation(e,t,p)}return a},y._intersects=function(e,t,i){var n=e.x-i.siblingSeparation/4,r=e.y,o=e.x+e.w+i.siblingSeparation/4,a=e.y;switch(i.orientation){case y.orientation.right:case y.orientation.right_top:case y.orientation.left:case y.orientation.left_top:n=e.x,r=e.y-i.siblingSeparation/4,o=e.x,a=e.y+e.h+i.siblingSeparation/4}var l,s,d,c=t.p,p=t.q,h=t.r,f=t.s;return 0!=(l=(o-n)*(f-p)-(h-c)*(a-r))&&(s=((r-a)*(h-n)+(o-n)*(f-r))/l,0<(d=((f-p)*(h-n)+(c-h)*(f-r))/l)&&d<1&&0<s&&s<1)},y._addPoint=function(e,t,i,n,r){switch(i.orientation){case y.orientation.top:case y.orientation.top_left:return y._addPointTop(e,t,i,n,r);case y.orientation.bottom:case y.orientation.bottom_left:return y._addPointBottom(e,t,i,n,r);case y.orientation.left:case y.orientation.left_top:return y._addPointLeft(e,t,i,n,r);case y.orientation.right:case y.orientation.right_top:return y._addPointRight(e,t,i,n,r)}},y._addPointTop=function(e,t,i,n,r){var o,a,l;return"left"==r?o=e.leftNeighbor?e.x+(e.leftNeighbor.x+e.leftNeighbor.w-e.x)/2:e.x-i.siblingSeparation/2:"right"==r&&(o=e.rightNeighbor?e.x+e.w+(e.rightNeighbor.x-(e.x+e.w))/2:e.x+e.w+i.siblingSeparation/2),t.push([o,t[t.length-1][1]]),t.push([o,e.y-i.levelSeparation/3]),a=t[t.length-1][1],l=o,n.p=o,n.q=a,n.r=l,n},y._addPointBottom=function(e,t,i,n,r){var o,a,l;return"left"==r?o=e.leftNeighbor?e.x+(e.leftNeighbor.x+e.leftNeighbor.w-e.x)/2:e.x-i.siblingSeparation/2:"right"==r&&(o=e.rightNeighbor?e.x+e.w+(e.rightNeighbor.x-(e.x+e.w))/2:e.x+e.w+i.siblingSeparation/2),t.push([o,t[t.length-1][1]]),t.push([o,e.y+e.h+i.levelSeparation/3]),a=t[t.length-1][1],l=o,n.p=o,n.q=a,n.r=l,n},y._addPointLeft=function(e,t,i,n,r){var o,a=t[t.length-1][0];return"bottom"==r?o=e.rightNeighbor?e.y+e.h+(e.rightNeighbor.y-(e.y+e.h))/2:e.y+e.h+i.siblingSeparation/2:"top"==r&&(o=e.leftNeighbor?e.y+(e.leftNeighbor.y+e.leftNeighbor.h-e.y)/2:e.y-i.siblingSeparation/2),t.push([t[t.length-1][0],o]),t.push([e.x-i.levelSeparation/3,o]),a=t[t.length-1][0],s=o,n.p=a,n.q=o,n.s=s,n},y._addPointRight=function(e,t,i,n,r){var o,a=t[t.length-1][0];return"bottom"==r?o=e.rightNeighbor?e.y+e.h+(e.rightNeighbor.y-(e.y+e.h))/2:e.y+e.h+i.siblingSeparation/2:"top"==r&&(o=e.leftNeighbor?e.y+(e.leftNeighbor.y+e.leftNeighbor.h-e.y)/2:e.y-i.siblingSeparation/2),t.push([t[t.length-1][0],o]),t.push([e.x+e.w+i.levelSeparation/3,o]),a=t[t.length-1][0],s=o,n.p=a,n.q=o,n.s=s,n},y.editUI=function(){},y.editUI.prototype.init=function(e){this.obj=e,this.fields=null,this.node=null,this._event_id=y._guid()},y.editUI.prototype.on=function(e,t){return y.events.on(e,t,this._event_id),this},y.editUI.prototype.show=function(e,t){if(this.hide(),!1===y.events.publish("show",[this,e]))return!1;this.node=this.obj.getNode(e),this.wrapperElement=document.getElementById("bgEditForm"),this.wrapperElement&&this.obj.element.removeChild(this.wrapperElement),this.wrapperElement=document.createElement("div"),this.wrapperElement.className="edit-wrapper";var i=document.createElement("div");i.className="edit-view";var n=document.createElement("div");n.className="details-view";var r="400px";window.matchMedia("(max-width: 1150px)").matches&&(r="100%"),Object.assign(this.wrapperElement.style,{width:r,position:"absolute",top:0,right:"-150px",opacity:0,"border-left":"1px solid #d7d7d7","text-align":"left",height:"100%","background-color":"#ffffff"}),t?this._createDetailsView(this.node,n):this._createEditView(this.node,i)},y.editUI.prototype._createDetailsView=function(e,t){var i=this,n=document.createElement("div");n.className="edit-photo";var r=document.createElement("div"),o=document.createElement("div");o.className="edit-fields";var a=document.createElement("div");a.className="edit-tags",r.innerHTML='<svg style="width: 34px; height: 34px;"><path style="fill:#ffffff;" d="M21.205,5.007c-0.429-0.444-1.143-0.444-1.587,0c-0.429,0.429-0.429,1.143,0,1.571l8.047,8.047H1.111 C0.492,14.626,0,15.118,0,15.737c0,0.619,0.492,1.127,1.111,1.127h26.554l-8.047,8.032c-0.429,0.444-0.429,1.159,0,1.587 c0.444,0.444,1.159,0.444,1.587,0l9.952-9.952c0.444-0.429,0.444-1.143,0-1.571L21.205,5.007z"></path></svg>',Object.assign(r.style,{cursor:"pointer",width:"34px",height:"34px",position:"absolute",top:"7px",right:"7px"}),Object.assign(o.style,{"overflow-x":"hidden","overflow-y":"auto"}),Object.assign(n.style,{"background-color":"#039BE5","min-height":"50px",textAlign:"center",position:"relative"}),Object.assign(a.style,{margin:"12px"}),this.wrapperElement.appendChild(t),t.appendChild(n),t.appendChild(o),o.appendChild(a),n.appendChild(r),y.htmlRipple(n);for(var l=this.fields,s=this.obj._get(e.id),d=0;d<l.length;d++){var c=s[l[d]];if(y._fieldIsImg(this.obj.config,l[d])){var p=document.createElement("img");p.src=c,p.style.width="100px",p.style.margin="10px",p.style.borderRadius="50px",this._addField(n,p,l[d],"details")}else if("tags"==l[d]){if(c)for(var h=0;h<c.length;h++){var f=document.createElement("span");Object.assign(f.style,{"background-color":"#F57C00",color:"#ffffff",margin:"2px",padding:"2px 12px","border-radius":"10px",display:"inline-block",border:"1px solid #FFCA28","user-select":"none"}),f.innerHTML=c[h],this._addField(a,f,c[h],"details-tag")}}else this._addField(o,y.input(l[d],c,null,!0,void 0,i),l[d],"details")}this.obj.element.appendChild(this.wrapperElement),n.addEventListener("click",(function(){i.hide(!1)})),this.obj._hideBeforeAnimation(),y.anim(this.wrapperElement,{right:-150,opacity:0},{right:0,opacity:.9},300,y.anim.inOutSin,(function(){i.obj._showAfterAnimation(),o.style.height=i.obj.element.offsetHeight-n.offsetHeight+"px"}))},y.editUI.prototype._addField=function(e,t,i,n){var r={name:i,field:t,type:n};!1!==y.events.publish("field",[this,r])&&e.appendChild(r.field)},y.editUI.prototype._createEditView=function(e,t){var i=this,n=document.createElement("div");n.className="edit-photo";var r=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div");a.className="edit-fields";var l=document.createElement("div");l.className="edit-assistant-button-content",r.innerHTML='<svg style="width: 34px; height: 34px;"><path style="fill:#ffffff;" d="M21.205,5.007c-0.429-0.444-1.143-0.444-1.587,0c-0.429,0.429-0.429,1.143,0,1.571l8.047,8.047H1.111 C0.492,14.626,0,15.118,0,15.737c0,0.619,0.492,1.127,1.111,1.127h26.554l-8.047,8.032c-0.429,0.444-0.429,1.159,0,1.587 c0.444,0.444,1.159,0.444,1.587,0l9.952-9.952c0.444-0.429,0.444-1.143,0-1.571L21.205,5.007z"></path></svg>',this.wrapperElement.id="bgEditForm",Object.assign(r.style,{cursor:"pointer",width:"34px",height:"34px",position:"absolute",top:"7px",right:"7px"}),Object.assign(a.style,{"overflow-x":"hidden","overflow-y":"auto"}),Object.assign(n.style,{"background-color":"#039BE5","min-height":"50px",textAlign:"center",position:"relative"}),Object.assign(o.style,{margin:"14px 14px 7px",color:"#4285F4",cursor:"pointer"}),Object.assign(l.style,{margin:"14px 14px 7px",color:"rgb(188, 188, 188)"}),o.innerHTML=y.ADD_NEW_FIELD;var s=y._arrayContains(this.node.tags,"assistant")?"checked":"";l.setAttribute("data-field-name","isAssistant"),l.innerHTML='<div style="margin-top: 10px;display:inline-block;">'+y.ASSISTANT+'</div><label class="bg-switch"><input val type="checkbox" '+s+'><span class="bg-slider round"></span></label>',this.wrapperElement.appendChild(t),t.appendChild(n),t.appendChild(a),n.appendChild(r),y.htmlRipple(n);for(var d=this.fields,c=this.obj._get(e.id),p=0;p<d.length;p++){var h=c[d[p]];if("tags"!=d[p])if(y._fieldIsImg(this.obj.config,d[p])){if(h){var f=document.createElement("img");f.src=h,f.style.width="100px",f.style.margin="10px",f.style.borderRadius="50px",n.appendChild(f)}this._addField(a,y.input(d[p],h,null,!1,!0,i),d[p],"edit")}else this._addField(a,y.input(d[p],h,null,!1,void 0,i),d[p],"edit")}0==e.childrenIds.length&&e.parent&&this._addField(a,l,"isAssistant","edit"),this._addField(a,o,y.ADD_NEW_FIELD,"edit"),this.obj.element.appendChild(this.wrapperElement),n.addEventListener("click",(function(){i.hide(!0)})),o.addEventListener("click",(function(){if("Save"==o.innerHTML)y.anim(o,{opacity:1},{opacity:0},200,y.anim.inSin,(function(){o.innerHTML=y.ADD_NEW_FIELD,o.style.textAlign="left";var e=document.getElementById("bgNewField"),t=e.getElementsByTagName("input")[0].value;if(a.removeChild(e),t&&!y._arrayContains(i.fields,t)){var n=y.input(t);n.style.opacity=0,a.insertBefore(n,o),y.anim(n,{opacity:0},{opacity:1},200,y.anim.inSin,(function(){n.getElementsByTagName("input")[0].focus()}))}y.anim(o,{opacity:0},{opacity:1},200,y.anim.inSin)}));else{y.anim(o,{opacity:1},{opacity:0},200,y.anim.inSin,(function(){o.innerHTML="Save",o.style.textAlign="right",y.anim(o,{opacity:0},{opacity:1},200,y.anim.inSin)}));var e=y.input(null,null,"Field name");e.style.opacity=0,e.id="bgNewField",a.appendChild(e),y.anim(e,{opacity:0},{opacity:1},200,y.anim.inSin,(function(){e.getElementsByTagName("input")[0].focus()}))}})),this.obj._hideBeforeAnimation(),y.anim(this.wrapperElement,{right:-150,opacity:0},{right:0,opacity:.9},300,y.anim.inOutSin,(function(){i.obj._showAfterAnimation(),a.style.height=i.obj.element.offsetHeight-n.offsetHeight+"px",1<i.wrapperElement.getElementsByTagName("input").length&&i.wrapperElement.getElementsByTagName("input")[0].focus()}))},y.editUI.prototype.hide=function(e){if(this.wrapperElement){if(!1===y.events.publish("hide",[this]))return!1;var t=this.obj.get(this.node.id);if(e){for(var i=this.wrapperElement.querySelectorAll("[data-field-name]"),n=0;n<i.length;n++){var r=i[n].getAttribute("data-field-name");if(r){var o=i[n].querySelector("[val]").value;if(r===y.TAGS)t.tags=o.split(",");else if("isAssistant"===r){var a=i[n].querySelector("[val]").checked;a&&t.tags?y._arrayContains(this.node.tags,"assistant")||(y.STRING_TAGS?t.tags+=",assistant":t.tags.push("assistant")):a&&!t.tags?y.STRING_TAGS?t.tags="assistant":t.tags=["assistant"]:!a&&t.tags&&-1!=this.node.tags.indexOf("assistant")&&t.tags.splice(t.tags.indexOf("assistant"),1)}else(null!=t[r]||""!=o)&&(t[r]=o)}}var l=this;this.obj._hideBeforeAnimation(),y.anim(l.wrapperElement,{right:0,opacity:1},{right:-150,opacity:0},300,y.anim.inOutSin,(function(){l.obj._showAfterAnimation(),l.obj.updateNode(t,null,!0),l.obj.element.removeChild(l.wrapperElement),l.wrapperElement=null}))}else this.obj.element.removeChild(this.wrapperElement),this.wrapperElement=null}},y.prototype.getSvg=function(){var e=this.element.getElementsByTagName("svg");return e&&e.length?e[0]:null},y.prototype.getPointerElement=function(){return this.element.querySelector("g[data-pointer]")},y.prototype.getNodeElement=function(e){return this.element.querySelector("g[node-id='"+e+"']")},y.prototype.getExportMenuButton=function(){return this.element.querySelector("[control-export-menu]")},y.menuUI=function(){},y.menuUI.prototype.init=function(e,t){this.obj=e,this.wrapper=null,this.menu=t,this._event_id=y._guid()},y.menuUI.prototype.showStickIn=function(e,t,i,n){this._show(e,null,t,i,n)},y.menuUI.prototype.show=function(e,t,i,n,r){this._show(e,t,i,n,r)},y.menuUI.prototype._show=function(e,t,i,n,r){var o=this;this.hide();var a="";r||(r=this.menu);var l={firstNodeId:i,secondNodeId:n,menu:r};if(!1===y.events.publish("show",[this,l]))return!1;for(var s in r=l.menu){var d=r[s].icon,c=r[s].text;void 0===d&&(d=y.icon[s](24,24,"#7A7A7A")),"function"==typeof c&&(c=c()),"function"==typeof d&&(d=d()),a+='<div data-item="'+s+'" style="border-bottom: 1px solid #D7D7D7; padding: 7px 10px;color: #7A7A7A;">'+d+"<span>&nbsp;&nbsp;"+c+"</span></div>"}if(""!=a){if(this.wrapper=document.createElement("div"),Object.assign(this.wrapper.style,{opacity:0,"background-color":"#FFFEFF","box-shadow":"#DCDCDC 0px 1px 2px 0px",display:"inline-block",border:"1px solid #D7D7D7;border-radius:5px","z-index":1e3,position:"absolute","text-align":"left","user-select":"none"}),this.wrapper.className="chart-menu",this.wrapper.style.left="-99999px",this.wrapper.style.top="-99999px",this.wrapper.innerHTML=a,this.obj.element.appendChild(this.wrapper),null==t){var p=y._menuPosition(e,this.wrapper,this.obj.getSvg());e=p.x,t=p.y}var h=e+45;this.wrapper.style.left=h+"px",this.wrapper.style.top=t+"px",this.wrapper.style.left=h-this.wrapper.offsetWidth+"px";var f=e-this.wrapper.offsetWidth;y.anim(this.wrapper,{opacity:0,left:h-this.wrapper.offsetWidth},{opacity:1,left:f},300,y.anim.inOutPow);for(var u=this.wrapper.getElementsByTagName("div"),g=0;g<u.length;g++)(s=u[g]).addEventListener("mouseover",(function(){this.style.backgroundColor="#F0F0F0"})),s.addEventListener("mouseleave",(function(){this.style.backgroundColor="#FFFFFF"})),s.addEventListener("click",(function(e){var t,a=this.getAttribute("data-item");if(void 0===r[a].onClick)if("add"===a){var l={id:o.obj.generateId(),pid:i};o.obj.addNode(l,null,!0)}else if("edit"===a){var s=o.obj.getNode(i);o.obj.editUI.show(s.id)}else"details"===a?(s=o.obj.getNode(i),o.obj.editUI.show(s.id,!0)):"remove"===a?o.obj.removeNode(i,null,!0):"svg"===a?o.obj.exportSVG({filename:"OrgChart.svg",expandChildren:!1,nodeId:i}):"pdf"===a?o.obj.exportPDF({filename:"OrgChart.pdf",expandChildren:!1,nodeId:i}):"png"===a?o.obj.exportPNG({filename:"OrgChart.png",expandChildren:!1,nodeId:i}):"csv"===a?o.obj.exportCSV():"xml"===a&&o.obj.exportXML();else t=r[a].onClick.call(o.obj,i,n);0!=t&&o.hide()}))}},y.menuUI.prototype.hide=function(){null!=this.wrapper&&(this.obj.element.removeChild(this.wrapper),this.wrapper=null)},y.menuUI.prototype.on=function(e,t){return y.events.on(e,t,this._event_id),this},void 0===y&&(y={}),y.idb={version:1,dbName:"balkangraph",tableName:"orgchart-js",keyPath:"id"},y.idb.db=null,y.idb._open=function(e){if(y._browser().msie)e&&e(!1);else if((0<navigator.userAgent.toLowerCase().indexOf("safari")||0<navigator.userAgent.toLowerCase().indexOf("firefox"))&&window.location!==window.parent.location)e&&e(!1);else{if(!window.indexedDB)return console.error("Your browser doesn't support a stable version of IndexedDB."),void(e&&e(!1));if(null==y.idb.db){var t=indexedDB.open(y.idb.dbName,y.idb.version);t.onerror=function(t){console.error("Cannot open database!"),e&&e(!1)},t.onsuccess=function(t){y.idb.db=t.target.result,e&&e(!0)},t.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains(y.idb.tableName)&&t.deleteObjectStore(y.idb.tableName),t.createObjectStore(y.idb.tableName,{keyPath:y.idb.keyPath})}}else e&&e(!0)}},y.idb.read=function(e,t){y.idb._open((function(i){if(i){var n=y.idb.db.transaction([y.idb.tableName]).objectStore(y.idb.tableName).get(e);n.onerror=function(e){console.error("Unable to retrieve data from database!"),t&&t(!1)},n.onsuccess=function(e){n.result?t&&t(!0,n.result):t&&t(null)}}else t&&t(!1)}))},y.idb.write=function(e,t){y.idb.read(e.id,(function(i){if(null==i){var n=y.idb.db.transaction([y.idb.tableName],"readwrite").objectStore(y.idb.tableName).add(e);n.onerror=function(e){console.error("Unable to add data to database!"),t&&t(!1)},n.onsuccess=function(e){t&&t(!0)}}else t&&t(i)}))},y.idb.put=function(e,t){y.idb._open((function(i){if(i){var n=y.idb.db.transaction([y.idb.tableName],"readwrite").objectStore(y.idb.tableName).put(e);n.onerror=function(e){console.error("Unable to put data to database!"),t&&t(!1)},n.onsuccess=function(e){t&&t(!0)}}else t&&t(!1)}))},y.idb.delete=function(e,t){y.idb._open((function(i){if(i){var n=y.idb.db.transaction([y.idb.tableName],"readwrite").objectStore(y.idb.tableName).delete(e);n.onerror=function(e){console.error("Unable to retrieve data from database!"),t&&t(!1)},n.onsuccess=function(e){n.error?t&&t(!1):t&&t(!0)}}else t&&t(!1)}))},y.toolbarUI=function(){},y.toolbarUI.expandAllIcon='<svg style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="#757575" /></marker><line x1="11" y1="11" x2="6" y2="6" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="21" y1="11" x2="26" y2="6" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="21" y1="21" x2="26" y2="26" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="11" y1="21" x2="6" y2="26" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><rect x="12" y="12" width="8" height="8" fill="#757575"></rect></svg>',y.toolbarUI.fitIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><circle cx="16" cy="16" r="5" fill="#757575"></circle></svg>',y.toolbarUI.openFullScreenIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><line x1="5" y1="5" x2="27" y2="27" stroke-width="3" stroke="#757575"></line><line x1="5" y1="27" x2="27" y2="5" stroke-width="3" stroke="#757575"></line></svg>',y.toolbarUI.closeFullScreenIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><rect x="11" y="11" width="10" height="10" stroke-width="3" fill="none" stroke="#757575" ></rect></svg>',y.toolbarUI.zoomInIcon='<svg style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-top: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;" width="32px" height="32px" ><g><rect fill="#f9f9f9" x="0" y="0" width="32" height="32" ></rect><line x1="8" y1="16" x2="24" y2="16" stroke-width="3" stroke="#757575"></line><line x1="16" y1="8" x2="16" y2="24" stroke-width="3" stroke="#757575"></line></g><line x1="4" y1="32" x2="28" y2="32" stroke-width="1" stroke="#cacaca"></line></svg>',y.toolbarUI.zoomOutIcon='<svg style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); margin-bottom:7px; border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-bottom: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;" width="32px" height="32px" ><g><rect fill="#f9f9f9" x="0" y="0" width="32" height="32" ></rect><line x1="8" y1="16" x2="24" y2="16" stroke-width="3" stroke="#757575"></line></g></svg>',y.toolbarUI.layoutIcon='<svg data-tlbr="layout" style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M8,24 L16,14 L24,24"></path><path stroke-width="3" fill="none" stroke="#757575" d="M8,16 L16,8 L24,16"></path></svg>',y.toolbarUI.prototype.init=function(e,t){if(t){this.obj=e,this.toolbar=t,this._visible=!1,this.div=document.createElement("div"),this.div.classList.add("bg-toolbar-container"),Object.assign(this.div.style,{position:"absolute",padding:"3px",right:this.obj.config.padding+"px",bottom:this.obj.config.padding+"px"}),t.expandAll&&(this.div.innerHTML+='<div data-tlbr="expand">'+y.toolbarUI.expandAllIcon+"</div>"),t.fit&&(this.div.innerHTML+='<div data-tlbr="fit">'+y.toolbarUI.fitIcon+"</div>"),t.zoom&&(this.div.innerHTML+='<div data-tlbr="plus">'+y.toolbarUI.zoomInIcon+"</div>",this.div.innerHTML+='<div data-tlbr="minus">'+y.toolbarUI.zoomOutIcon+"</div>"),t.layout&&(this.div.innerHTML+='<div data-tlbr="layout">'+y.toolbarUI.layoutIcon+"</div>",this.layouts=document.createElement("div"),this.layouts.innerHTML='<svg data-layout="normal" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="32" x2="88" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="32" x2="32" y1="35" y2="41" stroke-width="1"></line><line stroke="#000000" x1="88" x2="88" y1="35" y2="41" stroke-width="1"></line></svg><svg data-layout="treeRightOffset" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="40" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="40" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="60" x2="35" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="35" x2="35" y1="35" y2="86" stroke-width="1"></line><line stroke="#000000" x1="35" x2="40" y1="86" y2="86" stroke-width="1"></line><line stroke="#000000" x1="35" x2="40" y1="54" y2="54" stroke-width="1"></line></svg><svg data-layout="treeLeftOffset" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="30" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="30" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="60" x2="85" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="85" x2="85" y1="35" y2="86" stroke-width="1"></line><line stroke="#000000" x1="80" x2="85" y1="86" y2="86" stroke-width="1"></line><line stroke="#000000" x1="80" x2="85" y1="54" y2="54" stroke-width="1"></line></svg><svg data-layout="mixed" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="41" stroke-width="1"></line><line stroke="#000000" x1="60" x2="60" y1="68" y2="73" stroke-width="1"></line></svg><svg data-layout="tree" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="73" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="86" stroke-width="1"></line><line stroke="#000000" x1="57" x2="63" y1="54" y2="54" stroke-width="1"></line><line stroke="#000000" x1="57" x2="63" y1="86" y2="86" stroke-width="1"></line></svg>',this.obj.element.appendChild(this.layouts),Object.assign(this.layouts.style,{position:"absolute",width:"100%",left:"0",bottom:"-145px","box-shadow":"0px 1px 4px rgba(0,0,0,0.3)","background-color":"#f9f9f9",height:"123px","padding-top":"20px","border-top":"1px solid #cacaca"})),t.fullScreen&&(this.div.innerHTML+='<div data-tlbr="fullScreen">'+y.toolbarUI.openFullScreenIcon+"</div>"),this.obj.element.appendChild(this.div),this.layoutBtn=this.div.querySelector('[data-tlbr="layout"]');var i=this.div.querySelector('[data-tlbr="plus"]'),n=this.div.querySelector('[data-tlbr="minus"]'),r=this.div.querySelector('[data-tlbr="fit"]'),o=this.div.querySelector('[data-tlbr="fullScreen"]'),a=this.div.querySelector('[data-tlbr="expand"]'),l=this;i&&i.addEventListener("click",(function(){l.obj.zoom(!0,null,!0)})),n&&n.addEventListener("click",(function(){l.obj.zoom(!1,null,!0)})),r&&r.addEventListener("click",(function(){l.obj.fit()})),o&&o.addEventListener("click",(function(){l.obj.toggleFullScreen()})),a&&a.addEventListener("click",(function(){l.obj.expand(null,"all")})),this.layoutBtn&&this.layoutBtn.addEventListener("click",(function(){l._visible?l.hideLayout():l.showLayout()})),this.layouts&&this.layouts.addEventListener("click",(function(e){for(var t=e.target;t;){if(t.hasAttribute&&t.hasAttribute("data-layout")){t=t.getAttribute("data-layout"),l.obj.setLayout(y[t]);break}t=t.parentNode}}))}},y.toolbarUI.prototype.showLayout=function(){this._visible=!0,this.layoutBtn.style.transform="rotate(180deg) translateX(0px) translateY(0px)",y.anim(this.div,{bottom:this.obj.config.padding},{bottom:this.obj.config.padding+145},this.obj.config.anim.duration,this.obj.config.anim.func),y.anim(this.layouts,{bottom:-145},{bottom:0},this.obj.config.anim.duration,this.obj.config.anim.func)},y.toolbarUI.prototype.hideLayout=function(){this._visible=!1,this.layoutBtn.style.transform="rotate(0deg) translateX(0px) translateY(0px)",y.anim(this.div,{bottom:this.obj.config.padding+145},{bottom:this.obj.config.padding},this.obj.config.anim.duration,this.obj.config.anim.func),y.anim(this.layouts,{bottom:0},{bottom:-145},this.obj.config.anim.duration,this.obj.config.anim.func)},y.notifierUI=function(){},y.notifierUI.prototype.init=function(e){this.obj=e},y.notifierUI.prototype.show=function(e,t){if(null!=e){1==e&&(e=y.MAX_NODES_MESS,t="#FFCA28"),2==e&&(e=y.OFFLINE_MESS,t="#FFCA28");var i=document.createElement("div");i.innerHTML=e,Object.assign(i.style,{position:"absolute","background-color":t,color:"#ffffff",padding:"15px","border-radius":"40px",opacity:0,overflow:"hidden","white-space":"nowrap","text-align":"center"}),this.obj.element.appendChild(i);var n=this.obj.width()/2-i.offsetWidth/2,r=this.obj.height()/2-i.offsetHeight/2;i.style.left=n+"px",i.style.top=r+"px";var o=i.offsetWidth;i.style.width="20px",y.anim(i,{opacity:0,width:10},{opacity:1,width:o},this.obj.config.anim.duration,this.obj.config.anim.func)}},y.icon={},y.icon.png=function(e,t,i){return'<svg width="'+e+'" height="'+t+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'" d="M146.747,276.708c0-13.998-9.711-22.352-26.887-22.352c-6.99,0-11.726,0.675-14.204,1.355v44.927 c2.932,0.676,6.539,0.896,11.52,0.896C135.449,301.546,146.747,292.28,146.747,276.708z"/><path fill="'+i+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M234.344,335.86v45.831h-31.601V229.524h40.184 l31.611,55.759c9.025,16.031,18.064,34.983,24.825,52.154h0.675c-2.257-20.103-2.933-40.643-2.933-63.44v-44.473h31.614v152.167 h-36.117l-32.516-58.703c-9.049-16.253-18.971-35.892-26.438-53.727l-0.665,0.222C233.906,289.58,234.344,311.027,234.344,335.86z M71.556,381.691V231.56c10.613-1.804,25.516-3.159,46.506-3.159c21.215,0,36.353,4.061,46.509,12.192 c9.698,7.673,16.255,20.313,16.255,35.219c0,14.897-4.959,27.549-13.999,36.123c-11.738,11.063-29.123,16.031-49.441,16.031 c-4.522,0-8.593-0.231-11.736-0.675v54.411H71.556V381.691z M453.601,523.353H97.2V419.302h356.4V523.353z M485.652,374.688 c-10.61,3.607-30.713,8.585-50.805,8.585c-27.759,0-47.872-7.003-61.857-20.545c-13.995-13.1-21.684-32.97-21.452-55.318 c0.222-50.569,37.03-79.463,86.917-79.463c19.644,0,34.783,3.829,42.219,7.446l-7.214,27.543c-8.369-3.617-18.752-6.55-35.458-6.55 c-28.656,0-50.341,16.256-50.341,49.22c0,31.382,19.649,49.892,47.872,49.892c7.895,0,14.218-0.901,16.934-2.257v-31.835h-23.493 v-26.869h56.679V374.688z"/></svg>'},y.icon.pdf=function(e,t,i){return'<svg width="'+e+'" height="'+t+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'" d="M160.381,282.225c0-14.832-10.299-23.684-28.474-23.684c-7.414,0-12.437,0.715-15.071,1.432V307.6 c3.114,0.707,6.942,0.949,12.192,0.949C148.419,308.549,160.381,298.74,160.381,282.225z"/><path fill="'+i+'" d="M272.875,259.019c-8.145,0-13.397,0.717-16.519,1.435v105.523c3.116,0.729,8.142,0.729,12.69,0.729 c33.017,0.231,54.554-17.946,54.554-56.474C323.842,276.719,304.215,259.019,272.875,259.019z"/><path fill="'+i+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M362.359,309.023c0,30.876-11.243,52.165-26.82,65.333 c-16.971,14.117-42.82,20.814-74.396,20.814c-18.9,0-32.297-1.197-41.401-2.389V234.365c13.399-2.149,30.878-3.346,49.304-3.346 c30.612,0,50.478,5.508,66.039,17.226C351.828,260.69,362.359,280.547,362.359,309.023z M80.7,393.499V234.365 c11.241-1.904,27.042-3.346,49.296-3.346c22.491,0,38.527,4.308,49.291,12.928c10.292,8.131,17.215,21.534,17.215,37.328 c0,15.799-5.25,29.198-14.829,38.285c-12.442,11.728-30.865,16.996-52.407,16.996c-4.778,0-9.1-0.243-12.435-0.723v57.67H80.7 V393.499z M453.601,523.353H97.2V419.302h356.4V523.353z M484.898,262.127h-61.989v36.851h57.913v29.674h-57.913v64.848h-36.593 V232.216h98.582V262.127z"/></svg>'},y.icon.svg=function(e,t,i){return'<svg width="'+e+'" height="'+t+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M338.871,225.672L284.545,386.96h-42.591 l-51.69-161.288h39.967l19.617,68.196c5.508,19.143,10.531,37.567,14.36,57.67h0.717c4.061-19.385,9.089-38.527,14.592-56.953 l20.585-68.918h38.77V225.672z M68.458,379.54l7.415-30.153c9.811,5.021,24.888,10.051,40.439,10.051 c16.751,0,25.607-6.935,25.607-17.465c0-10.052-7.662-15.795-27.05-22.734c-26.8-9.328-44.263-24.168-44.263-47.611 c0-27.524,22.971-48.579,61.014-48.579c18.188,0,31.591,3.823,41.159,8.131l-8.126,29.437c-6.465-3.116-17.945-7.657-33.745-7.657 c-15.791,0-23.454,7.183-23.454,15.552c0,10.296,9.089,14.842,29.917,22.731c28.468,10.536,41.871,25.365,41.871,48.094 c0,27.042-20.812,50.013-65.09,50.013C95.731,389.349,77.538,384.571,68.458,379.54z M453.601,523.353H97.2V419.302h356.4V523.353z M488.911,379.54c-11.243,3.823-32.537,9.103-53.831,9.103c-29.437,0-50.73-7.426-65.57-21.779 c-14.839-13.875-22.971-34.942-22.738-58.625c0.253-53.604,39.255-84.235,92.137-84.235c20.81,0,36.852,4.073,44.74,7.896 l-7.657,29.202c-8.859-3.829-19.849-6.95-37.567-6.95c-30.396,0-53.357,17.233-53.357,52.173c0,33.265,20.81,52.882,50.73,52.882 c8.375,0,15.072-0.96,17.94-2.395v-33.745h-24.875v-28.471h60.049V379.54L488.911,379.54z" /></svg>'},y.icon.csv=function(e,t,i){return'<svg width="'+e+'" height="'+t+'" viewBox="0 0 548.29 548.291" ><path fill="'+i+'" d="M486.2,196.121h-13.164V132.59c0-0.399-0.064-0.795-0.116-1.2c-0.021-2.52-0.824-5-2.551-6.96L364.656,3.677 c-0.031-0.034-0.064-0.044-0.085-0.075c-0.629-0.707-1.364-1.292-2.141-1.796c-0.231-0.157-0.462-0.286-0.704-0.419 c-0.672-0.365-1.386-0.672-2.121-0.893c-0.199-0.052-0.377-0.134-0.576-0.188C358.229,0.118,357.4,0,356.562,0H96.757 C84.893,0,75.256,9.649,75.256,21.502v174.613H62.093c-16.972,0-30.733,13.756-30.733,30.73v159.81 c0,16.966,13.761,30.736,30.733,30.736h13.163V526.79c0,11.854,9.637,21.501,21.501,21.501h354.777 c11.853,0,21.502-9.647,21.502-21.501V417.392H486.2c16.966,0,30.729-13.764,30.729-30.731v-159.81 C516.93,209.872,503.166,196.121,486.2,196.121z M96.757,21.502h249.053v110.006c0,5.94,4.818,10.751,10.751,10.751h94.973v53.861 H96.757V21.502z M258.618,313.18c-26.68-9.291-44.063-24.053-44.063-47.389c0-27.404,22.861-48.368,60.733-48.368 c18.107,0,31.447,3.811,40.968,8.107l-8.09,29.3c-6.43-3.107-17.862-7.632-33.59-7.632c-15.717,0-23.339,7.149-23.339,15.485 c0,10.247,9.047,14.769,29.78,22.632c28.341,10.479,41.681,25.239,41.681,47.874c0,26.909-20.721,49.786-64.792,49.786 c-18.338,0-36.449-4.776-45.497-9.77l7.38-30.016c9.772,5.014,24.775,10.006,40.264,10.006c16.671,0,25.488-6.908,25.488-17.396 C285.536,325.789,277.909,320.078,258.618,313.18z M69.474,302.692c0-54.781,39.074-85.269,87.654-85.269 c18.822,0,33.113,3.811,39.549,7.149l-7.392,28.816c-7.38-3.084-17.632-5.939-30.491-5.939c-28.822,0-51.206,17.375-51.206,53.099 c0,32.158,19.051,52.4,51.456,52.4c10.947,0,23.097-2.378,30.241-5.238l5.483,28.346c-6.672,3.34-21.674,6.919-41.208,6.919 C98.06,382.976,69.474,348.424,69.474,302.692z M451.534,520.962H96.757v-103.57h354.777V520.962z M427.518,380.583h-42.399 l-51.45-160.536h39.787l19.526,67.894c5.479,19.046,10.479,37.386,14.299,57.397h0.709c4.048-19.298,9.045-38.352,14.526-56.693 l20.487-68.598h38.599L427.518,380.583z" /></svg>'},y.icon.excel=function(e,t,i){return'<svg width="'+e+'" height="'+t+'" viewBox="0 0 512 512"><path fill="#ECEFF1" d="M496,432.011H272c-8.832,0-16-7.168-16-16s0-311.168,0-320s7.168-16,16-16h224 c8.832,0,16,7.168,16,16v320C512,424.843,504.832,432.011,496,432.011z" /><path fill="'+i+'" d="M336,176.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,176.011,336,176.011z" /><path fill="'+i+'" d="M336,240.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,240.011,336,240.011z" /><path fill="'+i+'" d="M336,304.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,304.011,336,304.011z" /><path fill="'+i+'" d="M336,368.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,368.011,336,368.011z" /><path fill="'+i+'" d="M432,176.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,176.011,432,176.011z" /><path fill="'+i+'" d="M432,240.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,240.011,432,240.011z" /><path fill="'+i+'" d="M432,304.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,304.011,432,304.011z" /><path fill="'+i+'" d="M432,368.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,368.011,432,368.011z" /><path fill="'+i+'"  d="M282.208,19.691c-3.648-3.04-8.544-4.352-13.152-3.392l-256,48C5.472,65.707,0,72.299,0,80.011v352 c0,7.68,5.472,14.304,13.056,15.712l256,48c0.96,0.192,1.952,0.288,2.944,0.288c3.712,0,7.328-1.28,10.208-3.68 c3.68-3.04,5.792-7.584,5.792-12.32v-448C288,27.243,285.888,22.731,282.208,19.691z" /><path fill="#FAFAFA" d="M220.032,309.483l-50.592-57.824l51.168-65.792c5.44-6.976,4.16-17.024-2.784-22.464 c-6.944-5.44-16.992-4.16-22.464,2.784l-47.392,60.928l-39.936-45.632c-5.856-6.72-15.968-7.328-22.56-1.504 c-6.656,5.824-7.328,15.936-1.504,22.56l44,50.304L83.36,310.187c-5.44,6.976-4.16,17.024,2.784,22.464 c2.944,2.272,6.432,3.36,9.856,3.36c4.768,0,9.472-2.112,12.64-6.176l40.8-52.48l46.528,53.152 c3.168,3.648,7.584,5.504,12.032,5.504c3.744,0,7.488-1.312,10.528-3.968C225.184,326.219,225.856,316.107,220.032,309.483z" /></svg>'},y.icon.edit=function(e,t,i){return'<svg width="'+e+'" height="'+t+'" viewBox="0 0 528.899 528.899"><path fill="'+i+'" d="M328.883,89.125l107.59,107.589l-272.34,272.34L56.604,361.465L328.883,89.125z M518.113,63.177l-47.981-47.981 c-18.543-18.543-48.653-18.543-67.259,0l-45.961,45.961l107.59,107.59l53.611-53.611 C532.495,100.753,532.495,77.559,518.113,63.177z M0.3,512.69c-1.958,8.812,5.998,16.708,14.811,14.565l119.891-29.069 L27.473,390.597L0.3,512.69z" /></svg>'},y.icon.details=function(e,t,i){return'<svg width="'+e+'" height="'+t+'" viewBox="0 0 512 512"><path fill="'+i+'" d="M447.933,103.629c-0.034-3.076-1.224-6.09-3.485-8.352L352.683,3.511c-0.004-0.004-0.007-0.005-0.011-0.008 C350.505,1.338,347.511,0,344.206,0H89.278C75.361,0,64.04,11.32,64.04,25.237v461.525c0,13.916,11.32,25.237,25.237,25.237 h333.444c13.916,0,25.237-11.32,25.237-25.237V103.753C447.96,103.709,447.937,103.672,447.933,103.629z M356.194,40.931 l50.834,50.834h-49.572c-0.695,0-1.262-0.567-1.262-1.262V40.931z M423.983,486.763c0,0.695-0.566,1.261-1.261,1.261H89.278 c-0.695,0-1.261-0.566-1.261-1.261V25.237c0-0.695,0.566-1.261,1.261-1.261h242.94v66.527c0,13.916,11.322,25.239,25.239,25.239 h66.527V486.763z"/><path fill="'+i+'" d="M362.088,164.014H149.912c-6.62,0-11.988,5.367-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,169.381,368.707,164.014,362.088,164.014z"/><path fill="'+i+'" d="M362.088,236.353H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,241.721,368.707,236.353,362.088,236.353z"/><path fill="'+i+'" d="M362.088,308.691H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.367,11.988-11.988C374.076,314.06,368.707,308.691,362.088,308.691z"/><path fill="'+i+'" d="M256,381.031H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988H256 c6.62,0,11.988-5.367,11.988-11.988C267.988,386.398,262.62,381.031,256,381.031z"/></svg>'},y.icon.remove=function(e,t,i){return'<svg width="'+e+'" height="'+t+'"  viewBox="0 0 900.5 900.5"><path fill="'+i+'" d="M176.415,880.5c0,11.046,8.954,20,20,20h507.67c11.046,0,20-8.954,20-20V232.487h-547.67V880.5L176.415,880.5z M562.75,342.766h75v436.029h-75V342.766z M412.75,342.766h75v436.029h-75V342.766z M262.75,342.766h75v436.029h-75V342.766z"/><path fill="'+i+'" d="M618.825,91.911V20c0-11.046-8.954-20-20-20h-297.15c-11.046,0-20,8.954-20,20v71.911v12.5v12.5H141.874 c-11.046,0-20,8.954-20,20v50.576c0,11.045,8.954,20,20,20h34.541h547.67h34.541c11.046,0,20-8.955,20-20v-50.576 c0-11.046-8.954-20-20-20H618.825v-12.5V91.911z M543.825,112.799h-187.15v-8.389v-12.5V75h187.15v16.911v12.5V112.799z"/></svg>'},y.icon.add=function(e,t,i){return'<svg width="'+e+'" height="'+t+'"   viewBox="0 0 922 922"><path fill="'+i+'" d="M922,453V81c0-11.046-8.954-20-20-20H410c-11.045,0-20,8.954-20,20v149h318c24.812,0,45,20.187,45,45v198h149 C913.046,473.001,922,464.046,922,453z" /><path fill="'+i+'" d="M557,667.001h151c11.046,0,20-8.954,20-20v-174v-198c0-11.046-8.954-20-20-20H390H216c-11.045,0-20,8.954-20,20v149h194 h122c24.812,0,45,20.187,45,45v4V667.001z" /><path fill="'+i+'" d="M0,469v372c0,11.046,8.955,20,20,20h492c11.046,0,20-8.954,20-20V692v-12.501V667V473v-4c0-11.046-8.954-20-20-20H390H196 h-12.5H171H20C8.955,449,0,457.955,0,469z" /></svg>'},y.icon.search=function(e,t,i){return'<svg width="'+e+'" height="'+t+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 485.213 485.213"><path fill="'+i+'" d="M471.882,407.567L360.567,296.243c-16.586,25.795-38.536,47.734-64.331,64.321l111.324,111.324 c17.772,17.768,46.587,17.768,64.321,0C489.654,454.149,489.654,425.334,471.882,407.567z" /><path fill="'+i+'" d="M363.909,181.955C363.909,81.473,282.44,0,181.956,0C81.474,0,0.001,81.473,0.001,181.955s81.473,181.951,181.955,181.951 C282.44,363.906,363.909,282.437,363.909,181.955z M181.956,318.416c-75.252,0-136.465-61.208-136.465-136.46 c0-75.252,61.213-136.465,136.465-136.465c75.25,0,136.468,61.213,136.468,136.465 C318.424,257.208,257.206,318.416,181.956,318.416z" /><path fill="'+i+'" d="M75.817,181.955h30.322c0-41.803,34.014-75.814,75.816-75.814V75.816C123.438,75.816,75.817,123.437,75.817,181.955z" /></svg>'},y.icon.xml=function(e,t,i){return'<svg width="'+e+'" height="'+t+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'"  d="M488.426,197.019H475.2v-63.816c0-0.401-0.063-0.799-0.116-1.205c-0.021-2.534-0.827-5.023-2.562-6.992L366.325,3.691 c-0.032-0.031-0.063-0.042-0.085-0.073c-0.633-0.707-1.371-1.298-2.151-1.804c-0.231-0.158-0.464-0.287-0.706-0.422 c-0.676-0.366-1.393-0.675-2.131-0.896c-0.2-0.053-0.38-0.135-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.87v160.542 c0,17.044,13.824,30.876,30.873,30.876h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87V227.89C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.51c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M369.531,374.53h-32.058l-2.156-55.519 c-0.644-17.434-1.298-38.518-1.298-59.611h-0.633c-4.514,18.516-10.547,39.166-16.137,56.162l-17.645,56.601h-25.618 l-15.494-56.157c-4.725-16.996-9.671-37.658-13.123-56.6h-0.43c-0.854,19.585-1.508,41.961-2.586,60.038l-2.576,55.086h-30.343 l9.26-145.035h43.677l14.207,48.421c4.517,16.774,9.041,34.847,12.258,51.843h0.654c4.081-16.77,9.038-35.923,13.774-52.064 l15.493-48.199h42.82L369.531,374.53z M69.992,374.53l41.955-73.385l-40.444-71.65h37.655l12.688,26.465 c4.316,8.828,7.533,15.928,10.99,24.092h0.422c3.438-9.242,6.23-15.694,9.893-24.092l12.274-26.465h37.434l-40.89,70.796 l43.044,74.239h-37.866l-13.134-26.257c-5.376-10.108-8.817-17.639-12.909-26.04h-0.433c-3.009,8.401-6.674,15.932-11.19,26.04 l-12.042,26.257H69.992z M453.601,523.353H97.2V419.302h356.4V523.353z M485.325,374.53h-90.608V229.495h32.933v117.497h57.682 v27.538H485.325z"/></svg>'},y.prototype.exportPDF=function(e,t){e=this._defaultExportOptions(e,"pdf"),this._export(e,t)},y.prototype.exportPNG=function(e,t){e=this._defaultExportOptions(e,"png"),this._export(e,t)},y.prototype.exportSVG=function(e,t){e=this._defaultExportOptions(e,"svg"),this._export(e,t)},y.prototype._defaultExportOptions=function(e,t){return null==e&&(e={}),"svg"==t?(e.ext="svg",e.mime="image/svg+xml"):"pdf"==t?(e.mime="application/pdf",e.ext="pdf"):"png"==t&&(e.mime="image/png",e.ext="png"),null==e.margin&&(e.margin=[50,40,50,40]),null==e.padding&&(e.padding=0),null==e.landscape&&(e.landscape=!1),null==e.filename&&(e.filename="OrgChart."+e.ext),null==e.scale&&(e.scale="fit"),null==e.format&&(e.format="fit"),null==e.header&&(e.header=""),null==e.footer&&(e.footer="Page {current-page} of {total-pages}"),null==e.openInNewTab&&(e.openInNewTab=!1),e},y.prototype._export=function(e,t){var i=this,n={id:e.nodeId,expandChildren:e.expandChildren};e.margin&&e.margin[0]<2&&(e.margin[0]=2),e.margin&&e.margin[1]<2&&(e.margin[1]=2),e.margin&&e.margin[2]<2&&(e.margin[2]=2),e.margin&&e.margin[3]<2&&(e.margin[3]=2),this._draw(!1,y.action.exporting,n,(function(n){var r=document.createElement("div");if(r.innerHTML=n,0<e.padding){var o=r.querySelector("svg"),a=y._getViewBox(o);a[0]-=e.padding,a[1]-=e.padding,a[2]+=2*e.padding,a[3]+=2*e.padding,o.setAttribute("viewBox",a.join()),o.setAttribute("width",a[2]),o.setAttribute("height",a[3])}if("svg"==e.ext)if(t)t(e,r.innerHTML);else{var l={content:r.innerHTML,options:e,styles:""},s=y.events.publish("exportstart",[i,l]);if(l.styles&&(r.childNodes[0].insertAdjacentHTML("afterbegin",l.styles),l.content=r.innerHTML),!1===s)return!1;if(!1===(s=y.events.publish("exportend",[i,l])))return!1;y._downloadFile(e.mime,l.content,l.options.filename,l.options.openInNewTab)}else i._pages(e,r.querySelector("svg"),(function(n){var o={content:r.innerHTML,options:e,pages:n,styles:""};if(!1===y.events.publish("exportstart",[i,o]))return!1;t||y.loading.show(i),t?t(i,o,r.querySelector("svg")):(o=JSON.stringify(o),y._ajax(i.config.exportUrl+"/v3","POST",o,"arraybuffer",(function(t){var n=y.events.publish("exportend",[i,t]);if(y.loading.hide(i),!1===n)return!1;y._downloadFile(e.mime,t,e.filename,e.openInNewTab)})))}))}))},y.prototype.exportCSV=function(e){e||(e="OrgChart.csv");var t={ext:"csv",filename:e,nodes:JSON.parse(JSON.stringify(this.config.nodes))};if(!1===y.events.publish("exportstart",[this,t]))return!1;var i=y._json2csv(t.nodes),n={ext:t.ext,filename:t.filename,nodes:t.nodes,content:i};if(!1===y.events.publish("exportend",[this,n]))return!1;y._downloadFile("text/csv;charset=utf-8;","\ufeff"+n.content,n.filename,n.openInNewTab)},y.prototype.exportXML=function(e){e||(e="OrgChart.xml");var t={ext:"xml",filename:e,nodes:JSON.parse(JSON.stringify(this.config.nodes))};if(!1===y.events.publish("exportstart",[this,t]))return!1;var i=y._json2xml(t.nodes),n={ext:t.ext,filename:t.filename,nodes:t.nodes,content:i};if(!1===y.events.publish("exportend",[this,n]))return!1;y._downloadFile("application/xml",n.content,n.filename,n.openInNewTab)},y.prototype._pages=function(e,t,i){"A4"==e.format&&"fit"!=e.scale||"A3"==e.format&&"fit"!=e.scale||"A2"==e.format&&"fit"!=e.scale||"A1"==e.format&&"fit"!=e.scale||"Letter"==e.format&&"fit"!=e.scale||"Legal"==e.format&&"fit"!=e.scale?i(this._pagesA100(e,t,e.scale)):"A4"==e.format&&"fit"==e.scale||"A3"==e.format&&"fit"==e.scale||"A2"==e.format&&"fit"==e.scale||"A1"==e.format&&"fit"==e.scale||"Letter"==e.format&&"fit"==e.scale||"Legal"==e.format&&"fit"==e.scale?i(this._pagesAfit(e,t)):"fit"==e.format&&i(this._pagesFit(e,t))},y.prototype._pagesFit=function(e,t){var i=t.getAttribute("width"),n=t.getAttribute("height"),r=y._getViewBox(t),o={w:parseFloat(i),h:parseFloat(n)};return[{vb:r,size:{w:o.w+(e.margin[1]+e.margin[3]),h:o.h+(e.margin[0]+e.margin[2])},innerSize:o}]},y.prototype._pagesAfit=function(e,t){var i=t.getAttribute("width"),n=0,r=0;switch(e.format){case"A4":n=y.A4w,r=y.A4h;break;case"A3":n=y.A3w,r=y.A3h;break;case"A2":n=y.A2w,r=y.A2h;break;case"A1":n=y.A1w,r=y.A1h;break;case"Letter":n=y.Letterw,r=y.Letterh;break;case"Legal":n=y.Legalw,r=y.Legalh}var o=e.landscape?r-(e.margin[1]+e.margin[3]):n-(e.margin[1]+e.margin[3]),a=(e.landscape,e.margin[0],e.margin[2],o/i);return this._pagesA100(e,t,100*a)},y.prototype._pagesA100=function(e,t,i){var n=y._getViewBox(t),r=0,o=0;switch(e.format){case"A4":r=y.A4w,o=y.A4h;break;case"A3":r=y.A3w,o=y.A3h;break;case"A2":r=y.A2w,o=y.A2h;break;case"A1":r=y.A1w,o=y.A1h;break;case"Letter":r=y.Letterw,o=y.Letterh;break;case"Legal":r=y.Legalw,o=y.Legalh}var a=n[0],l=n[1],s=n[2],d=n[3],c={w:e.landscape?o-(e.margin[1]+e.margin[3]):r-(e.margin[1]+e.margin[3]),h:e.landscape?r-(e.margin[0]+e.margin[2]):o-(e.margin[0]+e.margin[2])},p={w:e.landscape?o:r,h:e.landscape?r:o};t.setAttribute("preserveAspectRatio","xMinYMin slice"),t.setAttribute("width",c.w),t.setAttribute("height",c.h);for(var h=c.w*(100/i),f=c.h*(100/i),u=a,g=l,m=[];u<s+a;){for(;g<d+l;){var x=[u,g,h,f];x=x.join(),m.push({vb:x,innerSize:c,size:p}),g+=f}u+=h,g=l}return m},void 0===y&&(y={}),y.events=function(){var e={};return{on:function(t,i,n){Array.isArray(e[t])||(e[t]=[]),e[t].push({listener:i,event_id:n})},removeAll:function(t){Array.isArray(e[t])||(e[t]=[]),e[t]=[]},removeForEventId:function(t){for(var i in e)if(Array.isArray(e[i]))for(var n=e[i].length-1;0<=n;n--)e[i][n].event_id==t&&e[i].splice(n,1)},publish:function(t,i){if(e[t]){for(var n=[],r=0;r<e[t].length;r++){var o=e[t][r];null!=o.event_id&&o.event_id!=i[0]._event_id||n.push(o.listener)}if(0<n.length){var a=!0;for(r=0;r<n.length;r++)1==i.length?a=n[r](i[0])&&a:2==i.length?a=n[r](i[0],i[1])&&a:3==i.length?a=n[r](i[0],i[1],i[2])&&a:4==i.length?a=n[r](i[0],i[1],i[2],i[3])&&a:5==i.length&&(a=n[r](i[0],i[1],i[2],i[3],i[4])&&a);return a}}}}}(),y.prototype.importCSV=function(){var e=this,t=document.createElement("INPUT");t.setAttribute("type","file"),t.setAttribute("accept",".csv"),t.style.display="none",t.onchange=function(t){var i=t.target,n=new FileReader;n.onload=function(){var t=n.result,i=y._csvToArray(t,","),r=[],o=i[0];y._importSetColumnNames(o,(function(t){for(var n=1;n<i.length;n++){for(var o={},a=0;a<i[n].length;a++){var l=t[a],s=i[n][a];if("tags"==l&&""!=s)s=s.split(",");else if("tags"==l&&""==s)continue;o[l]=s}""!=o.id.trim()&&r.push(o)}var d={nodes:r,columnNames:i[0]};0!=y.events.publish("import",[e,d])&&(e.config.nodes=r,e.draw())}))},n.readAsText(i.files[0])},t.click()},y._importSetColumnNames=function(e,t){if(-1==e.indexOf("id")||-1==e.indexOf("pid")){var i=document.createElement("DIV"),n=document.createElement("P");n.style.padding="5px",n.style.color="rgb(122, 122, 122)",n.innerHTML=y.IMPORT_MESSAGE,i.appendChild(n);var r=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div"),l=document.createElement("span");r.setAttribute("id","sampleDialog"),r.style.height="260px",r.style.width="400px",r.style.background="white",r.style.border="0.5px solid grey",r.style.position="fixed",r.style.overflow="hidden",r.style.zIndex="99",o.setAttribute("id","title"),o.style.backgroundColor="#e5e5e5",o.style.fontWeight="bold",o.style.color="rgb(122, 122, 122)",o.style.height="20px",o.style.padding="3px 0 0 7px",l.setAttribute("id","close"),l.style.cursor="pointer",l.style.position="absolute",l.style.color="rgb(122, 122, 122)",l.style.fontWeight="bold",l.style.top="2px",l.style.zIndex=100,a.setAttribute("id","content"),a.style.padding="2px",o.innerHTML="Import Organizational Chart Data",l.innerHTML="&times;";var s=document.createElement("HR");s.style.height="0.1px",s.style.backgroundColor="#aeaeae",s.style.border="none",s.style.margin="0",r.appendChild(o),r.appendChild(s),a.appendChild(i),r.appendChild(a),r.appendChild(l),document.body.appendChild(r),y._importCenter(r),l.style.left=r.offsetWidth-20+"px";var d=document.createElement("div");d.setAttribute("id","overlay"),d.style.width="100%",d.style.height="100%",d.style.left=0,d.style.top=0,d.style.position="fixed",d.style.background="grey",d.style.opacity="0.5",d.style.zIndex=98,document.body.appendChild(d),r._overlay=d;var c=document.createElement("LABEL"),p=document.createTextNode("Name:");c.setAttribute("for","id-select"),c.appendChild(p),c.style.fontSize="16px",c.style.color="rgb(122, 122, 122)",c.style.padding="5px",c.style.margin="5px",c.style.width="30%",c.style.textAlign="right",c.style.display="inline-block",i.appendChild(c);var h=document.createElement("SELECT");h.id="id-select",h.style.fontSize="16px",h.style.color="rgb(122, 122, 122)",h.style.padding="5px",h.style.margin="5px",h.style.width="60%",h.style.border="1px solid #aeaeae",i.appendChild(h);var f=document.createElement("BR");i.appendChild(f);for(var u=0;u<e.length;u++){(b=document.createElement("option")).setAttribute("value",e[u]);var g=document.createTextNode(e[u]);b.appendChild(g),h.appendChild(b)}var m=document.createElement("LABEL"),x=document.createTextNode("Reports to:");m.setAttribute("for","pid-select"),m.appendChild(x),m.style.fontSize="16px",m.style.color="rgb(122, 122, 122)",m.style.padding="5px",m.style.margin="5px",m.style.width="30%",m.style.textAlign="right",m.style.display="inline-block",i.appendChild(m);var v=document.createElement("SELECT");for(v.id="pid-select",v.style.fontSize="16px",v.style.color="rgb(122, 122, 122)",v.style.padding="5px",v.style.margin="5px",v.style.width="60%",v.style.border="1px solid #aeaeae",i.appendChild(v),u=0;u<e.length;u++){var b;(b=document.createElement("option")).setAttribute("value",e[u]),g=document.createTextNode(e[u]),b.appendChild(g),v.appendChild(b)}var w=document.createElement("BUTTON");w.innerHTML="Import",w.style.fontSize="16px",w.style.color="rgb(122, 122, 122)",w.style.padding="5px 20px",w.style.margin="20px auto",w.style.display="block",w.onclick=function(){r.style.display="none",r._overlay&&r._overlay.parentNode.removeChild(r._overlay);var i=h.options[h.selectedIndex].value,n=e.indexOf(i);e[n]="id";var o=v.options[v.selectedIndex].value,a=e.indexOf(o);e[a]="pid",t(e)};var _=document.createElement("DIV");return _.appendChild(w),i.appendChild(_),l.onclick=function(e){r._overlay&&r._overlay.parentNode.removeChild(r._overlay),r.parentNode.removeChild(r),e.stopPropagation()},o.onmousedown=function(e){e=e||window.event,r._dragging=!0,r._originalLeft=r.offsetLeft,r._originalTop=r.offsetTop,r._mouseLeft=e.clientX,r._mouseTop=e.clientY},document.onmousemove=function(e){e=e||window.event,r._dragging&&(r.style.left=r._originalLeft+e.clientX-r._mouseLeft+"px",r.style.top=r._originalTop+e.clientY-r._mouseTop+"px")},document.onmouseup=function(e){e=e||window.event,r._dragging&&(r.style.left=r._originalLeft+e.clientX-r._mouseLeft+"px",r.style.top=r._originalTop+e.clientY-r._mouseTop+"px",r._dragging=!1)},r}t(e)},y._importCenter=function(e){e&&(e.style.left=(window.innerWidth-e.offsetWidth)/2+"px",e.style.top=(window.innerHeight-e.offsetHeight)/2+"px")},y.prototype.importXML=function(){var e=this,t=document.createElement("INPUT");t.setAttribute("type","file"),t.setAttribute("accept",".xml"),t.style.display="none",t.onchange=function(t){var i=t.target,n=new FileReader;n.onload=function(){var t=n.result,i=y._xml2json(t);0!=y.events.publish("import",[e,i])&&(e.config.nodes=i,e.draw())},n.readAsText(i.files[0])},t.click()},y.prototype.expand=function(e,t,i){var n={id:e,ids:t};this._draw(!1,y.action.expand,n,i)},y.prototype.collapse=function(e,t,i){var n={id:e,ids:t};this._draw(!1,y.action.collapse,n,i)},y.prototype.expandCollapse=function(e,t,i,n){Array.isArray(t)||(t=[]),Array.isArray(i)||(i=[]);var r={id:e,expandIds:t,collapseIds:i,ids:t.concat(i)};this._draw(!1,y.action.collapse,r,n)},y.prototype.expandCollapseToLevel=function(e,t,i,n){this.config.collapse=t,null==i&&(i={}),this.config.expand=i;var r={id:e,method:"expandCollapseToLevel"};this._draw(!1,y.action.collapse,r,n)},y.prototype.maximize=function(e,t,i,n){var r=this,o={id:e,options:{}};o.options.horizontal=!1,o.options.vertical=!1,t&&(o.options.horizontal=t),i&&(o.options.vertical=i),this._draw(!1,y.action.maximize,o,(function(){r.ripple(e),n&&n()}))},y.prototype.minimize=function(e,t){var i=this,n={id:e};this._draw(!1,y.action.minimize,n,(function(){i.ripple(e),t&&t()}))},y.prototype._expCollHandler=function(e){this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide();var t=this.getNode(e),i=this.getCollapsedIds(t);if(i.length){if(!1===y.events.publish("expcollclick",[this,!1,e,i]))return!1;this.expand(e,i,!1)}else{if(!1===y.events.publish("expcollclick",[this,!0,e,t.childrenIds]))return!1;this.collapse(e,t.childrenIds,!1)}},String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"g"),t)},String.prototype.splice=function(e,t,i){return this.slice(0,e)+i+this.slice(e+Math.abs(t))},String.prototype.insert=function(e,t){return 0<e?this.substring(0,e)+t+this.substr(e):t+this},Array.prototype.has=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return!0;return!1},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i},writable:!0,configurable:!0}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)}),y.prototype._globalMouseDownHandler=function(e,t){var i={move:"mousemove",up:"mouseup",leave:"mouseleave"};if(-1!=t.type.indexOf("touch")&&(1==t.touches.length?this._touch={x:t.touches[0].clientX,y:t.touches[0].clientY}:this._touch=null,i={move:"touchmove",up:"touchend",touchstart:"touchstart"}),e==t.target)return t.stopPropagation(),t.preventDefault(),void this._mouseDownHandler(e,t,i);if(this.config.nodeMouseClick==y.action.pan){for(var n=t.target;n!=e&&!n.hasAttribute("control-expcoll-id");)n=n.parentNode;if(!n.hasAttribute("control-expcoll-id"))return t.stopPropagation(),t.preventDefault(),void this._mouseDownHandler(e,t,i)}for(var r=t.target;r!=e;){if(r.hasAttribute("node-id"))return t.stopPropagation(),-1==t.type.indexOf("touch")&&t.preventDefault(),void this._nodeMouseDownHandler(r,t,i);r=r.parentNode}},y.prototype._globalClickHandler=function(e,t){if(-1!=t.type.indexOf("touch")&&this._touch&&1==t.changedTouches.length){if(t.changedTouches.length){var i=t.changedTouches[0].clientX,n=t.changedTouches[0].clientY,r=y.t(this.config.template,!1,this.getScale()).size,o=this.getScale(),a=Math.abs(i-this._touch.x)/o,l=Math.abs(n-this._touch.y)/o;if(this._touch=null,a>r[0]/10)return;if(l>r[1]/10)return}}else if(-1!=t.type.indexOf("touch")&&null==this._touch)return;for(var s=t.target;s!=e;){if(s.hasAttribute("control-expcoll-id")){var d=s.getAttribute("control-expcoll-id"),c=this.getNode(d);return void this._expCollHandler(c.id)}if(s.hasAttribute("node-id"))return d=s.getAttribute("node-id"),c=this.getNode(d),void this._nodeClickHandler(c.id,t);if(s.hasAttribute("control-node-menu-id"))return d=s.getAttribute("control-node-menu-id"),c=this.getNode(d),void this._nodeMenuClickHandler(c.id,s,t);if(s.hasAttribute("control-add"))return void this._lonelyButtonHandler();s=s.parentNode}},y.prototype._globalContextHandler=function(e,t){for(var i=t.target;i!=e;){if(i.hasAttribute("node-id")){var n=i.getAttribute("node-id"),r=this.getNode(n);return void this._nodeContextHandler(r.id,t)}i=i.parentNode}},y.prototype._nodeContextHandler=function(e,t){t.preventDefault(),this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide();var i=this.get(e),n=null;if(null!=i&&Array.isArray(i.tags))for(var r=0;r<i.tags.length;r++){var o=i.tags[r];this.config.tags[o]&&this.config.tags[o].nodeContextMenu&&(n=this.config.tags[o].nodeContextMenu)}this.nodeContextMenuUI.show(t.pageX,t.pageY,e,null,n)},y.prototype._globalDbClickHandler=function(e,t){for(var i=t.target;i!=e;){if(i.hasAttribute("node-id")){var n=i.getAttribute("node-id"),r=this.getNode(n);return void this._nodeDbClickHandler(r.id,t)}i=i.parentNode}},y.prototype._mouseScrollHandler=function(e,t){if(this.config.mouseScrool!=y.action.ctrlZoom||t.ctrlKey){var i=this,n=!1,r=this.config.zoom.speed,o=this.config.zoom.smooth,a=0,l=this.getScale(),s=y._centerPointInPercent(i.getSvg(),t.pageX,t.pageY),d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,20)};t.preventDefault();var c=t.delta||t.wheelDelta;void 0===c&&(c=-t.detail),c=Math.max(-1,Math.min(1,c)),a+=-c*r,n||function e(){n=!0;var t=(a-l)/o;0<t?t++:t--,l+=t,i.zoom(1-t/12/50,s),parseInt(l)==parseInt(a)?n=!1:d(e)}()}},y.prototype._nodeMouseDownHandler=function(e,t,i){if(this.config.enableDragDrop){var n=y._getClientXY(t),r=e.getAttribute("node-id"),o=this.getNode(r);e._dragEventFired=!1;var a=null,l=null;this._gragStartedId=r,document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none";var s=this,d=this.getSvg(),c={x:n.x,y:n.y},p=y._getTransform(e),h=p[4],f=p[5],u=s.getScale(),g=e.cloneNode(!0);d.insertBefore(g,d.firstChild),g.style.opacity=.7;var m=function(e,t){if(null!=e){t.classList.remove("drag-over");for(var i=s.getNode(a),n=y.getStParentNodes(i),r=0;r<n.length;r++){var o=s.getNodeElement(n[r].id);o&&(o.style.opacity=1)}}},x=function(t){if(c){var i=y._getClientXY(t),n=document.elementFromPoint(i.x,i.y),r=y._getOffsetXY(s.element,t),x={left:s.width()-(r.x+s.config.padding)<0,right:r.x-s.config.padding<0,down:s.height()-(r.y+s.config.padding)<0,up:r.y-s.config.padding<0};if(x.left||x.right||x.up||x.down){d.classList&&(d.classList.remove("cursor-grab"),d.classList.add("cursor-move"),d.classList.remove("cursor-nodrop"),d.classList.remove("cursor-copy"));var b=p[4],w=p[5],_=c.x,k=c.y,S=i.x,C=i.y;s.startMove(x,(function(e){p[4]=b+e.x,p[5]=w+e.y,c.x=_-e.xWithoutScale,c.y=k-e.yWithoutScale,i.x=S-e.xWithoutScale,i.y=C-e.yWithoutScale,g.setAttribute("transform","matrix("+p.toString()+")")}))}else{if(s.stopMove(),d.classList&&(d.classList.add("cursor-grab"),d.classList.remove("cursor-move"),d.classList.remove("cursor-nodrop"),d.classList.remove("cursor-copy")),m(a,l),l=a=null,s.config.enableDragDrop)for(;null!=n&&n!=d;){if(n.hasAttribute&&n.hasAttribute("node-id")){var I=n.getAttribute("node-id");if(s._gragStartedId&&I!=s._gragStartedId){a=I,l=n;break}}n=n.parentNode}if(null!=a){l.classList.add("drag-over");for(var A=s.getNode(a),E=y.getStParentNodes(A),L=0;L<E.length;L++){var M=s.getNodeElement(E[L].id);M&&(M.style.opacity=.1)}!s._canUpdateLink(o.id,a)&&d.classList?(d.classList.remove("cursor-grab"),d.classList.remove("cursor-move"),d.classList.remove("cursor-copy"),d.classList.add("cursor-nodrop")):d.classList&&(d.classList.remove("cursor-grab"),d.classList.remove("cursor-move"),d.classList.add("cursor-copy"),d.classList.remove("cursor-nodrop"))}var N=(i.x-c.x)/u,T=(i.y-c.y)/u;p[4]=h+N,p[5]=f+T,!e._dragEventFired&&(Math.abs(i.x-c.x)>y.FIRE_DRAG_NOT_CLICK_IF_MOVE||Math.abs(i.y-c.y)>y.FIRE_DRAG_NOT_CLICK_IF_MOVE)&&(!1===y.events.publish("drag",[s,I])&&v(),e._dragEventFired=!0),g.setAttribute("transform","matrix("+p.toString()+")")}}},v=function(e){if(s.stopMove(),d.classList&&(d.classList.remove("cursor-grab"),d.classList.remove("cursor-move"),d.classList.remove("cursor-nodrop"),d.classList.remove("cursor-copy")),d.removeEventListener(i.move,x),d.removeEventListener(i.up,v),i.leave&&d.removeEventListener(i.leave,v),o.id==a||null==a)return d.removeChild(g),void(s._gragStartedId=null);var t=s.getNode(a);if(!1===y.events.publish("drop",[s,o.id,t.id]))return m(a,l),d.removeChild(g),void(s._gragStartedId=null);if(s._canUpdateLink(o.id,a)){var n=s.get(o.id);n.pid=a,n.stpid=null,s.updateNode(n,null,!0)}else d.removeChild(g),m(a,l);s._gragStartedId=null};d.addEventListener(i.move,x),d.addEventListener(i.up,v),i.leave&&d.addEventListener(i.leave,v)}},y.prototype._resizeHandler=function(e,t){var i=this.getViewBox(),n=this.getSvg(),r=n.getAttribute("width"),o=n.getAttribute("height"),a=r/i[2],l=o/i[3],s=l<a?l:a;n.setAttribute("width",this.width()),n.setAttribute("height",this.height()),i[2]=this.width()/s,i[3]=this.height()/s,this.setViewBox(i),this.xScrollUI.create(this.width()),this.yScrollUI.create(this.height()),this._draw(!1,y.action.resize)},y.prototype._nodeDbClickHandler=function(e,t){if(!1===y.events.publish("dbclick",[this,this.get(e)]))return!1;this._commonClickHandler(e,t,this.config.nodeMouseDbClick)},y.prototype._nodeClickHandler=function(e,t){var i=this.getNodeElement(e);if(i._dragEventFired)i._dragEventFired=!1;else{if(!1===y.events.publish("click",[this,{node:this.getNode(e),event:t}]))return!1;this._commonClickHandler(e,t,this.config.nodeMouseClick)}},y.prototype._commonClickHandler=function(e,t,i){this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide();var n=this.getNode(e);if(i==y.action.expandCollapse){var r=this.getCollapsedIds(n);if(r.length){if(!1===y.events.publish("expcollclick",[this,!1,e,r]))return!1;this.expand(e,r,!1)}else{if(!1===y.events.publish("expcollclick",[this,!0,e,n.childrenIds]))return!1;this.collapse(e,n.childrenIds,!1)}this.ripple(n.id,t.clientX,t.clientY)}i==y.action.edit&&(this.editUI.show(n.id),this.ripple(n.id,t.clientX,t.clientY)),i==y.action.details&&(this.editUI.show(n.id,!0),this.ripple(n.id,t.clientX,t.clientY))},y.prototype._menuHandlerMouseDownHandler=function(e,t){t.stopPropagation(),t.preventDefault()},y.prototype._nodeMenuClickHandler=function(e,t,i){this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide();var n=this.getNode(e),r=null;if(Array.isArray(n.tags))for(var o=0;o<n.tags.length;o++){var a=n.tags[o];this.config.tags[a]&&this.config.tags[a].nodeMenu&&(r=this.config.tags[a].nodeMenu)}this.nodeMenuUI.showStickIn(t,e,null,r)},y.prototype._exportMenuClickHandler=function(e,t){t.stopPropagation(),t.preventDefault(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.show(e.offsetLeft,e.offsetTop)},y.prototype._lonelyButtonHandler=function(){!1!==this.addNode({id:this.generateId()},null,!0)&&this.center(x.id)},y.prototype._move=function(e,t,i){i[0]=t,i[1]=e,this.setViewBox(i),this.xScrollUI.setPosition(),this.yScrollUI.setPosition()},y.prototype.startMove=function(e,t){if(e){if(this._movePosition=e,!this._moveInterval){var i=this,n=this.getViewBox().slice(0),r=this.getScale(),o=0,a=0;this._moveInterval=setInterval((function(){var e={x:0,y:0,xWithoutScale:0,yWithoutScale:0};i._movePosition.left&&(o++,e.x=o*y.MOVE_STEP/r,e.xWithoutScale=o*y.MOVE_STEP),i._movePosition.right&&(o++,e.x=-o*y.MOVE_STEP/r,e.xWithoutScale=-o*y.MOVE_STEP),i._movePosition.up&&(a++,e.y=-a*y.MOVE_STEP/r,e.yWithoutScale=-a*y.MOVE_STEP),i._movePosition.down&&(a++,e.y=a*y.MOVE_STEP/r,e.yWithoutScale=a*y.MOVE_STEP),i.setViewBox([n[0]+e.x,n[1]+e.y,n[2],n[3]]),i.xScrollUI.setPosition(),i.yScrollUI.setPosition(),t&&t(e)}),y.MOVE_INTERVAL)}}else console.error("movePosition parameter not defined")},y.prototype.stopMove=function(){this._moveInterval&&(clearInterval(this._moveInterval),this._moveInterval=null,this._movePosition=null)},void 0===y&&(y={}),y.node=function(e,t,i,n){this.templateName=n,this.id=e,this.pid=t,this.children=[],this.childrenIds=[],this.parent=null,this.stpid=null,this.stParent=null,this.stChildren=[],this.stChildrenIds=[],this.tags=i,this.tags||(this.tags=[])};var x=new y.node;y.prototype._mouseDownHandler=function(e,t,i){var n=this;document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none",this.editUI.hide(),this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide();var r=this.getViewBox(),o=this.getScale(),a=y._getClientTouchesXY(t,0),l=y._getClientTouchesXY(t,1),s={diffX:0,diffY:0,x0:a.x,y0:a.y,type:"pan",viewBoxLeft:r[0],viewBoxTop:r[1]};t.touches&&1<t.touches.length&&(s.type="pinch",s.dist=Math.sqrt((a.x-l.x)*(a.x-l.x)+(a.y-l.y)*(a.y-l.y)));var d=this.getPointerElement();if("pan"==s.type){this._hideBeforeAnimation();var c=y._getOffsetXY(this.element,t),p=c.x/o+r[0]-16/o,h=c.y/o+r[1]-16/o;d.style.display="inherit",d.setAttribute("transform","matrix(0,0,0,0,"+p+","+h+")"),y.anim(d,{transform:[0,0,0,0,p,h],opacity:0},{transform:[1/o,0,0,1/o,p,h],opacity:1},300,y.anim.outBack)}var f=function(e){var t=y._getClientTouchesXY(e,0);if(s&&"pan"==s.type){n._hideBeforeAnimation(),s.diffX=t.x-s.x0,s.diffY=t.y-s.y0;var i=-s.diffY/o+s.viewBoxTop,a=-s.diffX/o+s.viewBoxLeft;n._move(i,a,r)}else if(s&&"pinch"==s.type){var l=y._getClientTouchesXY(e,1),d=Math.sqrt((t.x-l.x)*(t.x-l.x)+(t.y-l.y)*(t.y-l.y)),c=1+(d-s.dist)/(s.dist/100)/100;s.dist=d;var p=y._pinchMiddlePointInPercent(n.element,n.width(),n.height(),e);n.zoom(c,p)}},u=function(){"pan"==s.type&&n.config.sticky?y._moveToBoundaryArea(e,n.getViewBox(),n.response.boundary,(function(){n._draw(!0,y.action.pan)})):"pan"!=s.type||n.config.sticky||n._draw(!0,y.action.pan),s=null,d.style.display="none",e.removeEventListener(i.move,f),e.removeEventListener(i.up,u),i.leave&&e.removeEventListener(i.leave,u),i.touchstart&&e.removeEventListener(i.touchstart,u)};e.addEventListener(i.move,f),e.addEventListener(i.up,u),i.leave&&e.addEventListener(i.leave,u),i.touchstart&&e.addEventListener(i.touchstart,u)},void 0===y&&(y={}),void 0===y.remote&&(y.remote={}),y.LIMIT_NODES=!0,y.remote._fromResDTO=function(e,t,i,n,r){var o=t[e.id];e.x=o.p[0],e.y=o.p[1],e.w=o.p[2],e.h=o.p[3],null!=o.ln&&(e.leftNeighbor=r[o.ln]),null!=o.rn&&(e.rightNeighbor=r[o.rn]);for(var a=0;a<e.stChildren.length;a++)y.remote._fromResDTO(e.stChildren[a],t,i,n,r);for(a=0;a<e.children.length;a++)y.remote._fromResDTO(e.children[a],t,i,n,r)},y.remote._toReqDTO=function(e,t){var i={p:[e.id,null!=e.parent?e.parent.id:null,null!=e.stParent?e.stParent.id:null,e.w,e.h]};0<e.children.length&&(i.c=y.remote._convertToIdArray(e.children)),0<e.stChildren.length&&(i.v=y.remote._convertToIdArray(e.stChildren)),null!=e.layout&&0!=e.layout&&(i.l=e.layout),e.isAssistant&&(i.a=1),e.isSplit&&(i.s=e.isSplit),e.padding&&(i.q=e.padding),e.lcn&&(i.k=e.lcn),e.stContainerNodes&&(i.b=y.remote._convertToIdArray(e.stContainerNodes)),e._m&&(i.m=e._m.id),e.isPartner&&(i.i=e.isPartner),e.hasPartners&&(i.g=e.hasPartners),e.ppid&&(i.u=e.ppid),e.partnerSeparation&&(i.e=e.partnerSeparation),t.push(i);for(var n=0;n<e.stChildren.length;n++)y.remote._toReqDTO(e.stChildren[n],t);for(n=0;n<e.children.length;n++)y.remote._toReqDTO(e.children[n],t)},y.remote._toReqLayoutConfigsDTO=function(e){var t={};for(var i in e){var n=e[i];t[i]||(t[i]=[]),t[i][0]=n.orientation,t[i][1]=n.levelSeparation,t[i][2]=n.mixedHierarchyNodesSeparation,t[i][3]=n.subtreeSeparation,t[i][4]=n.siblingSeparation,t[i][5]=n.layout,t[i][6]=n.columns,t[i][7]=n.collapse,t[i][8]=n.assistantSeparation,t[i][9]=n.partnerNodeSeparation}return t},y.remote._convertToIdArray=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].id);return t},y.remote._setPositions=function(e,t,i,n){for(var r=[],o=[],a=y.remote._toReqLayoutConfigsDTO(t),l=0;l<e.length;l++)o.push(e[l].id),y.remote._toReqDTO(e[l],r);var s={n:r,c:a,r:o,v:"7.2.0"};if(y.LIMIT_NODES||(s.l=!0),null!=y.remote._fromReqDTO)y.remote._fromReqDTO(s.n,s.r,s.c,(function(t){for(var r=0;r<e.length;r++)y.remote._fromResDTO(e[r],t,0,e,n);i()}));else{s=JSON.stringify(s);var d=y.localStorage.getItem(s);d?y.remote._proceed(e,JSON.parse(d),n,i):y.remote._findRegion((function(t){y._ajax(t,"post",s,"json",(function(t){t.error?i(2):(y.remote._proceed(e,t,n,i),y.localStorage.setItem(s,JSON.stringify(t)))}))}))}},y.remote._proceed=function(e,t,i,n){if("string"==typeof t&&(t=JSON.parse(t)),t.limit&&1==t.limit)n(t.limit);else{for(var r=0;r<e.length;r++)y.remote._fromResDTO(e[r],t,0,e,i);n()}},y.remote._findRegion=function(e){var t=y.localStorage.getItem("funcUrl");if(t)e(t);else{for(var i=["au-e","au-se","brs","ca","ca-e","easia","eus-2","eus","fr","ind","jp-e","jp-w","kr","n-eu","se-asia","s-ind","uk-s","uk-w","us","us-n-c","us-s-c","w-c-us","w-eu","w-ind","w-us-2","wus"],n=[],r=0;r<i.length;r++)n.push(new XMLHttpRequest);for(r=0;r<i.length;r++)!function(){var t="https://"+i[r]+"-balkangraph.azurewebsites.net/api/OrgChartJS",o=n[r];o.onreadystatechange=function(){if(4==this.readyState&&200==this.status){y.localStorage.setItem("funcUrl",t),e(t);for(var i=0;i<n.length;i++)n[i].abort()}},o.open("GET",t,!0),o.send()}()}},y.searchUI=function(){},y.searchUI.prototype.init=function(e){this.obj=e},y.searchUI.prototype.hide=function(){var e=this.obj.element.querySelector('[data-id="search"]');if(e){var t=e.querySelector('[data-id="cell-1"]'),i=this.obj.element.getElementsByTagName("input")[0],n=this.obj.element.querySelector('[data-id="container"]');i.value="",n.innerHTML="","none"!=t.style.display&&"none"!=e.style.display&&y.anim(t,{opacity:t.style.opacity},{opacity:0},200,y.anim.inOutSin,(function(){t.style.display="none",y.anim(e,{width:300,opacity:1},{width:50,opacity:0},300,y.anim.inBack,(function(){e.style.display="none"}))}))}},y.searchUI.prototype.show=function(e){var t=this.obj.element.querySelector('[data-id="search"]'),i=t.querySelector('[data-id="cell-1"]');i.style.display="none",t.style.width="50px",t.style.display="block",t.style.opacity=0,y.anim(t,{width:50,opacity:0},{width:300,opacity:1},300,y.anim.outBack,(function(){i.style.display="inherit",i.style.opacity=0,y.anim(i,{opacity:0},{opacity:1},200,y.anim.inOutSin),e&&e()}))},y.searchUI.prototype.addSearchControl=function(){var e=this,t=document.createElement("div");t.innerHTML=y.searchUI.createSearchIcon(this.obj.config.padding),t.innerHTML+=y.searchUI.createInputField(this.obj.config.padding),this.obj.element.appendChild(t);var i=this.obj.element.querySelector('[data-id="search-icon"]'),n=this.obj.element.querySelector('[data-id="search"]'),r=this.obj.element.getElementsByTagName("input")[0];i.addEventListener("mouseover",(function(){e.show()})),n.addEventListener("mouseleave",(function(){document.activeElement!=r&&e.hide()})),n.addEventListener("click",(function(){r.focus()})),r.addEventListener("keypress",(function(e){13==e.keyCode&&e.preventDefault()})),r.addEventListener("keyup",(function(t){40==t.keyCode?o():38==t.keyCode?a():13==t.keyCode?l():27==t.keyCode?e.hide():e._serverSearch(this.value)}));var o=function(){var e=n.querySelectorAll("[data-search-item-id]"),t=n.querySelector('[data-selected="yes"]');null==t&&0<e.length?(e[0].setAttribute("data-selected","yes"),e[0].style.backgroundColor="#F0F0F0"):0<e.length&&t.nextSibling&&(t.setAttribute("data-selected","no"),t.style.backgroundColor="inherit",t.nextSibling.setAttribute("data-selected","yes"),t.nextSibling.style.backgroundColor="#F0F0F0")},a=function(){var e=n.querySelectorAll("[data-search-item-id]"),t=n.querySelector('[data-selected="yes"]');null==t&&0<e.length?(e[e.length-1].setAttribute("data-selected","yes"),e[e.length-1].style.backgroundColor="#F0F0F0"):0<e.length&&t.previousSibling&&(t.setAttribute("data-selected","no"),t.style.backgroundColor="inherit",t.previousSibling.setAttribute("data-selected","yes"),t.previousSibling.style.backgroundColor="#F0F0F0")},l=function(){var t=n.querySelector('[data-selected="yes"]');if(t){var i=t.getAttribute("data-search-item-id"),r=y.events.publish("searchclick",[e.obj,i]);null!=r&&1!=r||e.obj.center(i)}}},y.searchUI.prototype.find=function(e){var t=this;this.show((function(){var i=t.obj.element.getElementsByTagName("input")[0];i.value=e,t._serverSearch(e),i.focus()}))},y.searchUI.prototype._serverSearch=function(e){for(var t=this,i=this.obj.element.querySelector('[data-id="container"]'),n=this.obj.element.querySelector('[data-id="search"]'),r=y._search.search(this.obj.config.nodes,e,this.obj.config.searchFields,this.obj.config.searchFields,this.obj.config.searchDisplayField,this.obj.config.searchFieldsWeight),o=y._getFistImgField(this.obj.config),a="",l=0;l<r.length&&!(l>=y.SEARCH_RESULT_LIMIT);l++){var s=r[l],d="";if(o){var c=this.obj._get(s.id);"function"==typeof o?d=o(this.obj,this.obj.getNode(s.id),c):c[o]&&(d=c[o]),d&&(d='<img style="padding: 2px 0px  2px 7px;width:32px;height:32px;" src="'+d+'" / >')}var p="",h="";this.obj.config.searchDisplayField==s.__searchField?p=s.__searchMarks:this.obj.config.searchDisplayField?(p=s[this.obj.config.searchDisplayField],y.isNullOrEmpty(p)&&(p=""),h=s.__searchMarks):p=s.__searchMarks,a+=y.searchUI.createItem(d,s.id,p,h)}i.innerHTML=a;var f=n.querySelectorAll("[data-search-item-id]");for(l=0;l<f.length;l++)f[l].addEventListener("click",(function(){var e=y.events.publish("searchclick",[t.obj,this.getAttribute("data-search-item-id")]);null!=e&&1!=e||t.obj.center(this.getAttribute("data-search-item-id"))})),f[l].addEventListener("mouseover",(function(){this.setAttribute("data-selected","yes"),this.style.backgroundColor="#F0F0F0"})),f[l].addEventListener("mouseleave",(function(){this.style.backgroundColor="inherit",this.setAttribute("data-selected","no")}))},y.searchUI.createInputField=function(e){return'<div data-id="search" style="display:none;border-radius: 20px 20px;padding:5px; box-shadow: #808080 0px 1px 2px 0px; font-family:Roboto-Regular, Helvetica;color:#7a7a7a;font-size:14px;border:1px solid #d7d7d7;width:300px;position:absolute;top:'+e+"px;left:"+e+'px;background-color:#ffffff;"><div><div style="float:left;">'+y.icon.search(32,32,"#757575")+'</div><div data-id="cell-1" style="float:right; width:83%"><input placeholder="'+y.SEARCH_PLACEHOLDER+'" style="font-size:14px;font-family:Roboto-Regular, Helvetica;color:#7a7a7a;width:100%;border:none;outline:none; padding-top:10px;" type="text" /></div><div style="clear:both;"></div></div><div data-id="container"></div></div>'},y.searchUI.createItem=function(e,t,i,n){return'<div data-search-item-id="'+t+'" style="border-top:1px solid #d7d7d7; padding: 7px 0 7px 0;cursor:pointer;"><div style="float:left;">'+e+'</div><div style="float:right; width:83%"><div style="overflow:hidden; white-space: nowrap;text-overflow:ellipsis;text-align:left;">'+i+'</div><div style="overflow:hidden; white-space: nowrap;text-overflow:ellipsis;text-align:left;">'+n+'</div></div><div style="clear:both;"></div></div>'},y.searchUI.createSearchIcon=function(e){return'<div data-id="search-icon" style="padding:5px; position:absolute;top:'+e+"px;left:"+e+'px;border:1px solid transparent;"><div><div style="float:left;">'+y.icon.search(32,32,"#757575")+"</div></div></div>"},void 0===y&&(y={}),y.server=function(e,t){this.config=e,this.layoutConfigs=t,this.visibleNodeIds=[],this.viewBox=null,this.action=null,this.actionParams=null,this.nodes={},this.oldNodes={},this.maxX=null,this.maxY=null,this.minX=null,this.minY=null,this.bordersByRootIdAndLevel=null,this.roots=null,this.state=null,this.vbIsInitializedFromState=!1},y.server.prototype.read=function(e,t,i,n,r,o,a,l){var s=this;y.state._get(this.config.state,t,i,(function(d){s.state=d,s.action=r,s.actionParams=o,r==y.action.init&&s.state?(s.viewBox=s.state.vb,s.vbIsInitializedFromState=!0):(s.viewBox=n,s.vbIsInitializedFromState=!1);var c=s.maxX,p=s.maxY,h=s.minX,f=s.minY,u=s.bordersByRootIdAndLevel,g=s.roots,m=s.nodes;if(e){var x=y.server._getResponse(t,i,s.visibleNodeIds,s.config,c,p,h,f,s.viewBox,g,s.action,s.actionParams,m,s.oldNodes,s.vbIsInitializedFromState);r!=y.action.exporting&&(s.maxX=c,s.maxY=p,s.minX=h,s.minY=f,s.roots=g,s.nodes=m,s.visibleNodeIds=x.visibleNodeIds),x.bordersByRootIdAndLevel=u,x.roots=g,x.adjustify={x:0,y:0},s.state&&(x.adjustify=s.state.adjustify),a(x)}else s.oldNodes=m||null,s._read((function(e){c=e.maxX,p=e.maxY,h=e.minX,f=e.minY,u=e.bordersByRootIdAndLevel,g=e.roots,m=e.nodes;var n=y.server._getResponse(t,i,s.visibleNodeIds,s.config,c,p,h,f,s.viewBox,g,s.action,s.actionParams,m,s.oldNodes,s.vbIsInitializedFromState);n.notif=e.limit,n.roots=g,n.bordersByRootIdAndLevel=u,n.adjustify=e.adjustify,r!=y.action.exporting&&(s.maxX=c,s.maxY=p,s.minX=h,s.minY=f,s.roots=g,s.nodes=m,s.visibleNodeIds=n.visibleNodeIds,s.bordersByRootIdAndLevel=u),a(n)}),l)}))},y.server.prototype._read=function(e,t){var i=this,n=y.server._createNodes(i.config,i.layoutConfigs,i.action,i.actionParams,i.oldNodes,i.state);t(n);var r=n.nodes,o=n.roots,a=y.remote;null==a&&(a=y.local),a._setPositions(o,i.layoutConfigs,(function(t){var n=y.server._doNotChangePositionOfClickedNodeIfAny(o,r,i.action,i.actionParams,i.oldNodes,i.config.orientation);i.state&&i.action==y.action.init&&(n=i.state.adjustify);for(var a={minX:null,minY:null,maxX:null,maxY:null},l={},s=0;s<o.length;s++)y.server._setMinMaxXYAdjustifyIterate(o[s],o[s],a,0,l,n,i.config.orientation);e({minX:a.minX,minY:a.minY,maxX:a.maxX,maxY:a.maxY,bordersByRootIdAndLevel:l,nodes:r,roots:o,limit:t,adjustify:n})}),r)},void 0===y&&(y={}),y.server._initDinamicNode=function(e,t,i){t&&(e.lcn=t),i&&(e.isAssistant=!0);var n=y.t(e.templateName);e.w=n&&n.size?n.size[0]:0,e.h=n&&n.size?n.size[1]:0,e.isSplit="split"==e.templateName},y.server._setCollpasedProperty=function(e,t,i,n,r,o,a){null==e.collapsed&&t.collapse&&t.collapse.allChildren?e.collapsed=!0:null==e.collapsed&&(e.collapsed=!1),r==y.action.expand&&-1!=i.ids.indexOf(e.id)&&(e.collapsed=!1),r==y.action.collapse&&(i.expandIds||i.collapseIds)?i.expandIds&&-1!=i.expandIds.indexOf(e.id)?e.collapsed=!1:i.collapseIds&&-1!=i.collapseIds.indexOf(e.id)&&(e.collapsed=!0):r==y.action.collapse&&-1!=i.ids.indexOf(e.id)&&(e.collapsed=!0),r==y.action.expand&&"all"==i.ids&&(e.collapsed=!1),r==y.action.exporting&&i.expandChildren&&(e.collapsed=!1),r==y.action.init&&null!=a?e.collapsed=!a.exp.has(e.id):r==y.action.init?e.collapsed=t.collapse&&o>=t.collapse.level-1&&-1==n.indexOf(e.id):r!=y.action.centerNode&&r!=y.action.insert||-1!=n.indexOf(e.id)&&(e.collapsed=!1)},y.server._initNode=function(e,t,i,n,r,o,a,l,s,d,c){var p=o[i||"base"];null==e.parent&&y.server._setCollpasedProperty(e,p,s,l,r,n-1,c);for(var h=0;h<e.childrenIds.length;h++){var f=t[e.childrenIds[h]];y.server._setCollpasedProperty(f,p,s,l,r,n,c),f.collapsed||(f.parent=e,-1==f.tags.indexOf("left-partner")&&-1==f.tags.indexOf("right-partner")&&-1==f.tags.indexOf("partner")&&null==f.ppid||-1==d.indexOf(e.id)&&d.push(e.id),e.children.push(f))}if(e.min||r!=y.action.minimize||s.id!=e.id||(e.min=!0),!0===e.min&&r==y.action.maximize&&s.id==e.id&&(e.min=!1),r==y.action.init&&null!=c&&(e.min=c.min.has(e.id)),!e.min)for(h=0;h<e.stChildrenIds.length;h++)((f=t[e.stChildrenIds[h]]).stParent=e).stChildren.push(f);var u=y.t(e.templateName,e.min);e.w=u&&u.size?u.size[0]:0,e.h=u&&u.size?u.size[1]:0,e.padding=u&&u.padding?u.padding:[0,0,0,0],null!=n&&(e.level=n),i&&(e.lcn=i);var g=y._getSubLevels(e.tags,a.tags);0<g&&(e.subLevels=g),-1!=e.tags.indexOf("assistant")&&null!=e.parent&&(e.isAssistant=!0),y.events.publish("node-created",[e])},y.server._iterate=function(e,t,i,n,r,o,a,l,s,d,c,p,h,f,u,g){if(y.server._initNode(t,i,s,n,p,d,c,h,f,u,g),t.isAssistant&&(o[t.pid]||(o[t.pid]=[]),o[t.pid].push(t.id)),0<t.subLevels&&a.push(t.id),!t.isAssistant&&0==t.childrenIds.length&&t.parent&&!l[t.pid]){for(var m=[],x=0,v=0,b=0;b<t.parent.children.length;b++){var w=t.parent.children[b];-1==w.tags.indexOf("partner")&&-1==w.tags.indexOf("assistant")&&0==w.childrenIds.length?m.push(w.id):-1!=w.tags.indexOf("assistant")?x++:-1!=w.tags.indexOf("partner")&&v++}(y.MIXED_LAYOUT_ALL_NODES&&1<m.length&&m.length==t.parent.childrenIds.length-x-v||!y.MIXED_LAYOUT_ALL_NODES&&1<m.length)&&(l[t.pid]=m)}t.stChildren.length&&(e.stContainerNodes||(e.stContainerNodes=[]),e.stContainerNodes.push(t));for(var _=0;_<t.stChildren.length;_++){var k="";for(b=0;b<t.tags.length;b++)if(d[t.tags[b]]){k=t.tags[b];break}r.push(t.stChildren[_].id),y.server._iterate(e,t.stChildren[_],i,0,r,o,a,l,k,d,c,p,h,f,u,g)}for(n++,_=0;_<t.children.length;_++)y.server._iterate(e,t.children[_],i,n,r,o,a,l,s,d,c,p,h,f,u,g)},y.server._createNodes=function(e,t,i,n,r,o){for(var a=e.nodes,l={},s=[],d=[],c=0;c<a.length;c++){var p,h=a[c];p=y.STRING_TAGS?h.tags?h.tags.split(","):[]:Array.isArray(h.tags)?h.tags.slice(0):[];var f=y._getTemplate(p,e.tags,e.template),u=new y.node(h.id,h.pid,p,f);null!=h.ppid&&(u.ppid=h.ppid),y.isNullOrEmpty(h.stpid)||(u.stpid=h.stpid),null!=e.orderBy&&(u.order=y.server._getOrderFieldValue(h,e.orderBy)),l[h.id]=u,s.push(h.id)}for(null!=e.orderBy&&s.sort((function(t,i){var n=l[t].order,r=l[i].order;return"number"==typeof n||"number"==typeof r?(null==n&&(n=-1),null==r&&(r=-1),e.orderBy.desc?r-n:n-r):"string"==typeof n||"string"==typeof r?(null==n&&(n=""),null==r&&(r=""),e.orderBy.desc?r.localeCompare(n):n.localeCompare(r)):void 0})),c=0;c<s.length;c++){var g=s[c],m=(u=l[g],r?r[g]:null),x=l[u.stpid],v=l[u.pid];if(x||(u.stpid=null),v||(u.pid=null),x){var b=r?r[x.id]:null;b&&(x.min=b.min),x.stChildrenIds.push(u.id)}else v?(m&&(u.collapsed=m.collapsed,u.min=m.min),v.childrenIds.push(u.id)):(m&&(u.collapsed=m.collapsed,u.min=m.min),d.push(u));i==y.action.init&&(u.min=y._getMin(u,e))}if(null!=e.roots)for(d=[],c=0;c<e.roots.length;c++){var w=l[e.roots[c]];w&&(w.pid&&(-1<(D=(v=l[w.pid]).childrenIds.indexOf(w.id))&&v.childrenIds.splice(D,1),w.pid=null),d.push(w))}i==y.action.exporting&&null!=n.id&&(u=l[n.id])&&(u.pid=null,d=[u]);var _=[];if(i==y.action.init&&e.expand&&e.expand.nodes&&null==o)for(c=0;c<e.expand.nodes.length;c++)for(u=l[e.expand.nodes[c]],!0===e.expand.allChildren&&y.server._addExpandedNodeIdsIterate(u,l,_);u;)_.push(u.id),null==u.pid&&null!=u.stpid?(u=l[u.stpid]).min=!1:u=l[u.pid];else if(i==y.action.centerNode){for(var k=l[n.id];k;){if(_.push(k.id),n.options.parentState===y.COLLAPSE_PARENT_NEIGHBORS&&k)for(c=0;c<k.childrenIds.length;c++)(R=l[k.childrenIds[c]]).collapsed=!0;null==k.pid&&null!=k.stpid?(k=l[k.stpid]).min=!1:k=l[k.pid]}if(k=l[n.id],n.options.childrenState===y.COLLAPSE_SUB_CHILDRENS)for(c=0;c<k.childrenIds.length;c++){(C=l[k.childrenIds[c]]).collapsed=!1;for(var S=0;S<C.childrenIds.length;S++)l[C.childrenIds[S]].collapsed=!0}if(n.options.parentState===y.COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED&&(v=l[k.pid]))for(c=0;c<v.childrenIds.length;c++){var C;if((C=l[v.childrenIds[c]])!=k)for(C.collapsed=!1,S=0;S<C.childrenIds.length;S++)l[C.childrenIds[S]].collapsed=!0}}else if(i==y.action.insert)for(u=l[n.insertedNodeId];u;)_.push(u.id),null==u.pid&&null!=u.stpid?(u=l[u.stpid]).min=!1:u=l[u.pid];var I=[],A={},E=[],L={},M=[];for(c=0;c<d.length;c++)y.server._iterate(d[c],d[c],l,0,I,A,E,L,"",t,e,i,_,n,M,o);for(c=d.length-1;0<=c;c--)d[c].collapsed&&d.splice(c,1);for(c=0;c<M.length;c++){u=l[M[c]];var N=[],T=[],O=[],B={},P=0,F=0,z=0,H=[],j=[];for(S=0;S<u.children.length;S++)(R=u.children[S]).isAssistant||(-1!=R.tags.indexOf("right-partner")?(R.isPartner=1,R.children=[],T.push(R.id)):-1!=R.tags.indexOf("left-partner")?(R.isPartner=2,R.children=[],O.push(R.id)):-1==R.tags.indexOf("partner")||P%2?-1!=R.tags.indexOf("partner")&&P%2?(R.isPartner=2,R.children=[],O.push(R.id),P++):null!=R.ppid?(B[R.ppid]||(B[R.ppid]=[]),B[R.ppid].push(R.id)):N.push(R.id):(R.isPartner=1,R.children=[],T.push(R.id),P++));for(u.children=[],S=0;S<T.length;S++){var R=l[T[S]];u.children.push(R)}for(S=0;S<O.length;S++)R=l[O[S]],u.children.push(R);for(S=O.length-1;0<=S;S--)if(B[O[S]])for(var U=0;U<B[O[S]].length;U++)u.children.push(l[B[O[S]][U]]),F++,-1==j.indexOf(O[S])&&j.push(O[S]);for(S=0;S<N.length;S++)R=l[N[S]],u.children.push(R);for(S=0;S<T.length;S++)if(B[T[S]])for(U=0;U<B[T[S]].length;U++)u.children.push(l[B[T[S]][U]]),z++,-1==H.indexOf(T[S])&&H.push(T[S]);u.partnerSeparation=Math.max(j.length,H.length)*e.partnerChildrenSplitSeparation+e.minPartnerSeparation,N.length||!F||z?N.length||F||!z?N.length||1!=F||1!=z?N.length||F||z?!N.length||F||z?N.length&&(F||z)?u.hasPartners=7:u.hasPartners=1:u.hasPartners=6:u.hasPartners=5:u.hasPartners=4:u.hasPartners=3:u.hasPartners=2}for(c=0;c<E.length;c++)if((ie=t[(u=l[E[c]]).lcn?u.lcn:"base"]).layout==y.normal||!L[u.pid])for(S=0;S<u.subLevels;S++){var D,Y=new y.node(u.id+"_sub_level_index_"+S,u.pid,[],"subLevel");y.server._initDinamicNode(Y,u.lcn),(v=u.parent)&&(-1<(D=v.children.indexOf(u))&&(v.children.splice(D,1),v.children.splice(D,0,Y)),Y.children.push(u),Y.parent=v,u.parent=Y,l[Y.id]=Y)}for(var X in A){(v=l[X]).hasAssistants=!0,Y=new y.node(v.id+"_split_0",v.id,["assistant"],"split"),y.server._initDinamicNode(Y,v.lcn,!0),l[Y.id]=Y;var q=[];for(S=v.children.length-1;0<=S;S--)(R=v.children[S]).isAssistant?(R.parent=null,v.children.splice(S,1),q.splice(0,0,R.id)):R.isPartner||((R.parent=Y).children.unshift(R),v.children.splice(S,1));if(q.length%2){var V=l[q[q.length-1]],W=new y.node(V.id+"_mirror",V.pid,[],"mirror");y.server._initDinamicNode(W,V.lcn,!0),V._m=W.id,W.isAssistant=!0,W.w=V.w,W.h=V.h,l[W.id]=W,q.splice(q.length-1,0,W.id)}var G=1;for(S=q.length-1;0<=S;S--)if(S%2&&S!=q.length-1){var K=new y.node(v.id+"_split_"+G,null,[],"split");y.server._initDinamicNode(K,v.lcn,!0),l[K.id]=K,q.splice(S,0,K.id),G++}else S%2&&q.splice(S,0,Y.id);for(S=0;S<q.length;S+=3){var J=null;J=0==S?v:l[q[S-2]];var Z=l[q[S]],$=l[q[S+1]],Q=l[q[S+2]];Z.parent=J,$.parent=J,(Q.parent=J).children.push(Z),J.children.push($),J.children.push(Q)}}var ee=!1;for(var te in t)if((ie=t[te]).layout==y.mixed||ie.layout==y.tree||ie.layout==y.treeRightOffset||ie.layout==y.treeLeftOffset){ee=!0;break}if(ee)for(var X in L){var ie;if((ie=t[(v=l[X]).lcn?v.lcn:"base"]).layout==y.mixed||ie.layout==y.tree||ie.layout==y.treeRightOffset||ie.layout==y.treeLeftOffset){var ne={pnode:v,layout:ie.layout,childrenIds:L[X]};if(y.events.publish("layout",[ne]),ne.layout==y.mixed){var re=ne.childrenIds;for(c=re.length-1;0<=c;c--)if(v=(R=l[re[c]]).parent,R.layout=y.mixed,0<c){for(S=v.children.length-1;0<=S;S--)R.id==v.children[S].id&&v.children.splice(S,1);var oe=l[re[c-1]];R.parent=oe,R.layout=y.mixed,oe.children.push(R)}}else if(ne.layout==y.tree||ne.layout==y.treeRightOffset||ne.layout==y.treeLeftOffset){Y=new y.node(v.id+"_split_0",v.id,[],"split"),y.server._initDinamicNode(Y,v.lcn),(l[Y.id]=Y).layout=y.tree;var ae=[];for(c=ne.childrenIds.length-1;0<=c;c--){for(R=l[ne.childrenIds[c]],S=0;S<v.children.length;S++)v.children[S].id==R.id&&v.children.splice(S,1);if(R.parent=null,R.layout=y.tree,ne.layout==y.treeRightOffset&&ae.splice(0,0,R.id),ne.layout==y.treeLeftOffset||ne.layout==y.treeRightOffset){var le=new y.node(R.id+"_mirror",null,[],"mirror");y.server._initDinamicNode(le,R.lcn),le.layout=y.tree,l[le.id]=le,ae.splice(0,0,le.id)}ne.layout!=y.treeRightOffset&&ae.splice(0,0,R.id)}for(G=1,S=ae.length-1;0<=S;S--)S%2&&S!=ae.length-1?(K=new y.node(v.id+"_split_"+G,null,[],"split"),y.server._initDinamicNode(K,v.lcn),K.layout=y.tree,l[K.id]=K,ae.splice(S,0,K.id),G++):S%2&&ae.splice(S,0,Y.id);for(S=0;S<ae.length;S+=3)J=null,0==S&&(J=v),Z=l[ae[S]],$=l[ae[S+1]],Q=l[ae[S+2]],0!=S&&(J=l[ae[S-3]]),0==S||$||(J=l[ae[S-2]]),(Z.parent=J).children.push(Z),$&&(0!=S&&(J=l[ae[S-2]]),($.parent=J).children.push($)),Q&&(0!=S&&(J=l[ae[S-1]]),(Q.parent=J).children.push(Q))}}}return{nodes:l,roots:d}},y.server._getOrderFieldValue=function(e,t){var i=t;return t.field&&(i=t.field),e[i]},y.server._getNodeWidth=function(e,t){switch(t.orientation){case y.orientation.top:case y.orientation.top_left:case y.orientation.bottom:case y.orientation.bottom_left:return e.w;case y.orientation.right:case y.orientation.right_top:case y.orientation.left:case y.orientation.left_top:return e.h}return 0},y.server._isVisible=function(e,t,i,n){if(null!=e.x&&null!=e.y){if(t.lazyLoading&&n!==y.action.exporting){function r(e,t){var i=e.x,n=e.y,r=e.w,o=e.h,a=t[0]-y.LAZY_LOADING_FACTOR,l=t[2]+y.LAZY_LOADING_FACTOR+t[0],s=t[1]-y.LAZY_LOADING_FACTOR,d=t[3]+y.LAZY_LOADING_FACTOR+t[1],c=a<i+r&&i<l;return c&&(c=s<n+o&&n<d),c}if(r(e,i))return!0;for(var o=0;o<e.children.length;o++)if(r(e.children[o],i))return!0;return!1}return!0}},y.server.getAllFields=function(e){var t=[y.TAGS];for(var i in e.nodeBinding)t.push(e.nodeBinding[i]);for(i=0;i<e.nodes.length;i++)for(var n in e.nodes[i])n!==y.ID&&n!==y.TAGS&&n!==y.NODES&&n!==y.PID&&n!==y.STPID&&(e.nodeBinding[n]||y._arrayContains(t,n)||t.push(n));return t},y.server._getMostDeepChild=function(e){if(e){var t=e;return function e(i){i.sl>t.sl&&(t=i);for(var n=0;n<i.children.length;n++)e(i.children[n])}(e),t}},y.server._getResponse=function(e,t,i,n,r,o,a,l,s,d,c,p,h,f,u){var g=d[0],m=[],x={top:null,left:null,bottom:null,right:null,minX:null,maxX:null,minY:null,maxY:null},v=[[],[],[]],b=r-a+2*n.padding,w=o-l+2*n.padding,_=y.getScale(s,e,t,n.scaleInitial,n.scaleMax,n.scaleMin,b,w);if(x.top=l-n.padding,x.left=a-n.padding,x.bottom=o+n.padding-t/_,x.right=r+n.padding-e/_,x.maxX=r,x.minX=a,x.maxY=o,x.minY=l,0==d.length||null==s&&!u&&n.align==y.CENTER){var k=Math.ceil(e/_),S=Math.ceil(t/_),C=0,I=0;if(k-2*n.padding>=r-a)switch(C=(r+a)/2-k/2,n.orientation){case y.orientation.right:case y.orientation.right_top:C=(a-r)/2-k/2}else switch(C=g.x-k/2+y.server._getNodeWidth(g,n)/2,n.orientation){case y.orientation.right:case y.orientation.right_top:(C=-(k/2-(a-r)/2))<n.padding-k&&(C=n.padding-k);break;case y.orientation.left:case y.orientation.bottom_left:case y.orientation.top_left:case y.orientation.left_top:(C=-(k/2-(r-a)/2))>-n.padding&&(C=-n.padding)}if(S-2*n.padding>=o-l)switch(I=(o+l)/2-S/2,n.orientation){case y.orientation.bottom:case y.orientation.bottom_left:I=(l-o)/2-S/2}else switch((I=-(S/2-(o-l)/2))>-n.padding&&(I=-n.padding),n.orientation){case y.orientation.bottom:case y.orientation.bottom_left:(I=-(S/2-(l-o)/2))<n.padding-S&&(I=n.padding-S);break;case y.orientation.left:case y.orientation.right:I=g.y-S/2+y.server._getNodeWidth(g,n)/2}s=[C,I,k,S]}else if(null==s&&!u&&n.align==y.ORIENTATION){switch(k=Math.ceil(e/_),S=Math.ceil(t/_),C=0,I=0,n.orientation){case y.orientation.top:C=g.x-k/2+y.server._getNodeWidth(g,n)/2,I=-n.padding;break;case y.orientation.bottom:C=g.x-k/2+y.server._getNodeWidth(g,n)/2,I=n.padding-S;break;case y.orientation.left:C=-n.padding,I=g.y-S/2+y.server._getNodeWidth(g,n)/2;break;case y.orientation.right:C=n.padding-k,I=g.y-S/2+y.server._getNodeWidth(g,n)/2;break;case y.orientation.top_left:C=-n.padding,I=-n.padding;break;case y.orientation.right_top:C=n.padding-k,I=-n.padding;break;case y.orientation.left_top:C=-n.padding,I=-n.padding;break;case y.orientation.bottom_left:C=-n.padding,I=n.padding-S}s=[C,I,k,S],n.sticky&&(s[0]<x.left&&s[0]<x.right&&(s[0]=x.left>x.right?x.right:x.left),s[0]>x.right&&s[0]>x.left&&(s[0]=x.left>x.right?x.left:x.right),s[1]<x.top&&s[1]<x.bottom&&(s[1]=x.top>x.bottom?x.bottom:x.top),s[1]>x.bottom&&s[1]>x.top&&(s[1]=x.top>x.bottom?x.top:x.bottom))}if(c==y.action.centerNode||c==y.action.maximize){var A=h[p.id];1==p.options.horizontal&&(s[0]=A.x+A.w/2-s[2]/2),1==p.options.vertical&&(s[1]=A.y+A.h/2-s[3]/2),n.sticky&&(s[0]<x.left&&s[0]<x.right&&(s[0]=x.left>x.right?x.right:x.left),s[0]>x.right&&s[0]>x.left&&(s[0]=x.left>x.right?x.left:x.right),s[1]<x.top&&s[1]<x.bottom&&(s[1]=x.top>x.bottom?x.bottom:x.top),s[1]>x.bottom&&s[1]>x.top&&(s[1]=x.top>x.bottom?x.top:x.bottom))}if(c==y.action.insert||c==y.action.expand||c==y.action.collapse||c==y.action.update||c==y.action.centerNode||c==y.action.maximize){var E=null;if(c==y.action.insert&&p&&null!=p.insertedNodeId&&null!=p.insertedNodeId)E=h[p.insertedNodeId];else if(c==y.action.update&&p&&null!=p.visId&&null!=p.visId)E=h[p.visId];else if(c!=y.action.expand&&c!=y.action.collapse&&c!=y.action.maximize||!p||null==p.id||null==p.id){if(c==y.action.centerNode||c==y.action.maximize){switch(n.orientation){case y.orientation.top:case y.orientation.top_left:case y.orientation.bottom:case y.orientation.bottom_left:p.options.vertical||(E=h[p.id]);break;case y.orientation.right:case y.orientation.right_top:case y.orientation.left:case y.orientation.left_top:p.options.horizontal||(E=h[p.id])}E&&(E=y.server._getMostDeepChild(E,h))}}else E=h[p.id],E=y.server._getMostDeepChild(E,h);if(!y.FIXED_POSITION_ON_CLICK&&E)switch(n.orientation){case y.orientation.top:case y.orientation.top_left:var L=E.y+E.h-s[3]+n.padding;s[1]<L&&(s[1]=L);break;case y.orientation.bottom:case y.orientation.bottom_left:L=E.y-n.padding,s[1]>L&&(s[1]=L);break;case y.orientation.right:case y.orientation.right_top:L=E.x-n.padding,s[0]>L&&(s[0]=L);break;case y.orientation.left:case y.orientation.left_top:L=E.x+E.w-s[2]+n.padding,s[0]<L&&(s[0]=L)}}for(var M=0;M<d.length;M++)y.server._iterate2(d[M],h,n,s,c,p,m,f,i,v);return{animations:v,boundary:x,viewBox:s,visibleNodeIds:m,nodes:h,allFields:y.server.getAllFields(n)}},y.server._iterate2=function(e,t,i,n,r,o,a,l,s,d){if(y.server._isVisible(e,i,n,r)){a.push(e.id);var c=null;if((r==y.action.expand||r==y.action.collapse||r==y.action.maximize)&&l&&l[e.id]&&"expandCollapseToLevel"==o.method){if(c={x:(g=l[e.id]).x,y:g.y},g){c={x:g.x,y:g.y};for(var p=e,h=null;null!=p;)l[p.id]&&l[p.id].collapsed&&(h=p),p=p.parent;h&&h.parent&&(c={x:h.parent.x,y:h.parent.y})}if(f=t[o.id]){for(p=e.parent;null!=p;)p=p.parent;p&&(c={x:f.x+f.w/2-e.w/2,y:f.y+f.h/2-e.h/2})}}else if((r==y.action.expand||r==y.action.collapse)&&l&&l[e.id]){var f;if(c={x:(g=l[e.id]).x,y:g.y},"all"==o.ids&&g){for(c={x:g.x,y:g.y},p=e,h=null;null!=p;)l[p.id]&&l[p.id].collapsed&&(h=p),p=p.parent;h&&h.parent&&(c={x:h.parent.x,y:h.parent.y})}if(f=t[o.id]){for(p=e.parent;null!=p&&-1==o.ids.indexOf(e.id)&&-1==o.ids.indexOf(p.id);)p=p.parent;p&&(c={x:f.x+f.w/2-e.w/2,y:f.y+f.h/2-e.h/2})}}else if(r==y.action.centerNode&&l&&l[e.id])null!=(g=l[e.id]).x&&null!=g.y&&(c={x:g.x,y:g.y}),(u=t[o.id])&&u==e&&(p=e.parent)&&p.id==o.id&&(c={x:u.x+u.w/2-e.w/2,y:u.y+u.h/2-e.h/2});else if(r==y.action.maximize&&l&&l[e.id]){var u;null!=(g=l[e.id]).x&&null!=g.y&&(c={x:g.x,y:g.y}),(u=t[o.id])&&u==e&&(p=e.parent)&&p.id==o.id&&(c={x:u.x+u.w/2-e.w/2,y:u.y+u.h/2-e.h/2})}else if(r==y.action.minimize&&l&&l[e.id])c={x:(g=l[e.id]).x,y:g.y};else if(r==y.action.insert&&o&&o.insertedNodeId==e.id&&e.parent)c={x:e.parent.x,y:e.parent.y};else if((r==y.action.update||r==y.action.insert)&&l&&l[e.id]){var g;c={x:(g=l[e.id]).x,y:g.y}}else r!==y.action.exporting&&r!==y.action.init&&-1==s.indexOf(e.id)&&(d[0].push(e.id),d[1].push({opacity:0}),d[2].push({opacity:1}));null!=c&&null!=c.x&&null!=c.y&&(c.x==e.x&&c.y==e.y||(d[0].push(e.id),d[1].push({transform:[1,0,0,1,c.x,c.y]}),d[2].push({transform:[1,0,0,1,e.x,e.y]})))}for(var m=0;m<e.stChildren.length;m++)y.server._iterate2(e.stChildren[m],t,i,n,r,o,a,l,s,d);for(m=0;m<e.children.length;m++)y.server._iterate2(e.children[m],t,i,n,r,o,a,l,s,d)},y.server._addExpandedNodeIdsIterate=function(e,t,i){for(var n=0;n<e.childrenIds.length;n++)i.push(e.childrenIds[n]),y.server._addExpandedNodeIdsIterate(t[e.childrenIds[n]],t,i)},y.server._setMinMaxXYAdjustifyIterate=function(e,t,i,n,r,o,a){switch(a){case y.orientation.top:case y.orientation.top_left:case y.orientation.bottom:case y.orientation.bottom_left:e.x+=o.x;break;case y.orientation.right:case y.orientation.right_top:case y.orientation.left:case y.orientation.left_top:e.y+=o.y}y._setMinMaxXY(e,i);for(var l=0;l<e.stChildren.length;l++)y.server._setMinMaxXYAdjustifyIterate(e.stChildren[l],e.stChildren[l],i,0,r,o,a);for(e.isPartner?e.sl=n-1:e.sl=n,null==r[t.id]&&(r[t.id]={}),null==r[t.id][e.sl]&&(r[t.id][e.sl]={minX:null,minY:null,maxX:null,maxY:null}),e.layout||y._setMinMaxXY(e,r[t.id][e.sl]),n++,l=0;l<e.children.length;l++)y.server._setMinMaxXYAdjustifyIterate(e.children[l],t,i,n,r,o,a)},y.server._doNotChangePositionOfClickedNodeIfAny=function(e,t,i,n,r,o){if(i!=y.action.expand&&i!=y.action.collapse&&i!=y.action.minimize&&i!=y.action.maximize&&i!=y.action.centerNode&&i!=y.action.update&&i!=y.action.insert)return{x:0,y:0};if(i==y.action.update&&(!n||null==n.id)){if(!e||!e.length)return{x:0,y:0};n={id:e[0].id}}if(null==n.id)return{x:0,y:0};var a=n.id;(i==y.action.minimize&&t[a].parent||i==y.action.maximize&&t[a].parent)&&(a=t[a].pid);var l=t[a],s=r[a];return s?{x:(s.x?s.x:0)-l.x,y:(s.y?s.y:0)-l.y}:{x:0,y:0}},void 0===y&&(y={}),y.templates={},y.templates.base={defs:"",size:[250,120],expandCollapseSize:30,linkAdjuster:{fromX:0,fromY:0,toX:0,toY:0},ripple:{radius:0,color:"#e6e6e6",rect:null},assistanseLink:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="2px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} {xd},{yd} L{xe},{ye}"/>',svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:block;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',link:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} L{xd},{yd}"/>',pointer:'<g data-pointer="pointer" transform="matrix(0,0,0,0,100,100)"><radialGradient id="pointerGradient"><stop stop-color="#ffffff" offset="0" /><stop stop-color="#C1C1C1" offset="1" /></radialGradient><circle cx="16" cy="16" r="16" stroke-width="1" stroke="#acacac" fill="url(#pointerGradient)"></circle></g>',node:'<rect x="0" y="0" height="120" width="250" fill="none" stroke-width="1" stroke="#aeaeae"></rect>',plus:'<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#aeaeae"></line>',minus:'<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line>',nodeMenuButton:'<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',exportMenuButton:'<div style="position:absolute;right:{p}px;top:{p}px; width:40px;height:50px;cursor:pointer;" control-export-menu=""><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"></div>',img_0:'<clipPath id="{randId}"><circle cx="60" cy="60" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="20" y="20"  width="80" height="80"></image>',link_field_0:'<text text-anchor="middle" fill="#aeaeae" width="290" x="0" y="0" style="font-size:10px;">{val}</text>'},y.templates.ana={defs:"",size:[250,120],linkAdjuster:{fromX:0,fromY:0,toX:0,toY:0},ripple:{radius:0,color:"#e6e6e6",rect:null},expandCollapseSize:30,svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  style="display:block;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',link:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="1px" fill="none" d="{rounded}" />',assistanseLink:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="2px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} {xd},{yd} L{xe},{ye}"/>',pointer:'<g data-pointer="pointer" transform="matrix(0,0,0,0,100,100)"><radialGradient id="pointerGradient"><stop stop-color="#ffffff" offset="0" /><stop stop-color="#C1C1C1" offset="1" /></radialGradient><circle cx="16" cy="16" r="16" stroke-width="1" stroke="#acacac" fill="url(#pointerGradient)"></circle></g>',node:'<rect x="0" y="0" height="{h}" width="{w}" fill="#039BE5" stroke-width="1" stroke="#aeaeae" rx="5" ry="5"></rect>',plus:'<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#aeaeae"></line>',minus:'<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line>',nodeMenuButton:'<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',exportMenuButton:'<div style="position:absolute;right:{p}px;top:{p}px; width:40px;height:50px;cursor:pointer;" control-export-menu=""><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"></div>',img_0:'<clipPath id="{randId}"><circle cx="50" cy="30" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="-10"  width="80" height="80"></image>',link_field_0:'<text text-anchor="middle" fill="#aeaeae" width="290" x="0" y="0" style="font-size:10px;">{val}</text>',field_0:'<text width="230" style="font-size: 18px;" fill="#ffffff" x="125" y="95" text-anchor="middle">{val}</text>',field_1:'<text width="130" text-overflow="multiline" style="font-size: 14px;" fill="#ffffff" x="230" y="30" text-anchor="end">{val}</text>',padding:[50,20,35,20]},y.templates.split=Object.assign({},y.templates.ana),y.templates.split.size=[10,10],y.templates.split.node='<circle cx="5" cy="5" r="5" fill="none" stroke-width="1" stroke="#aeaeae"></circle>',y.templates.group=Object.assign({},y.templates.ana),y.templates.group.size=[250,120],y.templates.group.node='<rect rx="50" ry="50" x="0" y="0" height="{h}" width="{w}" fill="#f2f2f2" stroke-width="0"></rect>',y.templates.group.link='<path stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}"/>',y.templates.group.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,{ew},25)" control-node-menu-id="{id}"><g transform="matrix(1,0,0,1,-22,-8)"><rect x="0" y="0" fill="red" fill-opacity="0" width="18" height="22"></rect><line x1="0" y1="2" x2="9" y2="2" stroke="#aeaeae" stroke-width="1"></line><line x1="0" y1="9" x2="18" y2="9" stroke="#aeaeae" stroke-width="1"></line><line x1="0" y1="16" x2="22" y2="16" stroke="#aeaeae" stroke-width="1"></line></g></g>',y.templates.group.field_0='<text width="230" style="font-size: 18px;" fill="#aeaeae" x="{cw}" y="30" text-anchor="middle">{val}</text>',y.templates.group.field_1="",y.templates.group.ripple={radius:50,color:"#aeaeae"},y.templates.invisibleGroup=Object.assign({},y.templates.group),y.templates.invisibleGroup.node="",y.templates.invisibleGroup.padding=[0,0,0,0],y.templates.invisibleGroup.field_0="",y.templates.invisibleGroup.nodeMenuButton="",y.templates.mirror={linkAdjuster:{},link:"",node:"",nodeMenuButton:"",size:[0,0]},y.templates.ula=Object.assign({},y.templates.ana),y.templates.ula.field_0='<text width="145" style="font-size: 18px;" fill="#039BE5" x="100" y="55">{val}</text>',y.templates.ula.field_1='<text width="145" text-overflow="multiline" style="font-size: 14px;" fill="#afafaf" x="100" y="76">{val}</text>',y.templates.ula.node='<rect x="0" y="0" height="{h}" width="{w}" fill="#ffffff" stroke-width="1" stroke="#aeaeae"></rect><line x1="0" y1="0" x2="250" y2="0" stroke-width="2" stroke="#039BE5"></line>',y.templates.ula.img_0='<clipPath id="{randId}"><circle cx="50" cy="60" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="20" width="80" height="80" ></image>',y.templates.ula.menu='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,12)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#ffffff" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#039BE5"></circle><circle cx="7" cy="0" r="2" fill="#039BE5"></circle><circle cx="14" cy="0" r="2" fill="#039BE5"></circle></g>',y.templates.ula.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#AEAEAE"></circle><circle cx="7" cy="0" r="2" fill="#AEAEAE"></circle><circle cx="14" cy="0" r="2" fill="#AEAEAE"></circle></g>',y.templates.olivia=Object.assign({},y.templates.ana),y.templates.olivia.field_0='<text width="145" style="font-size: 18px;" fill="#757575" x="100" y="55">{val}</text>',y.templates.olivia.field_1='<text width="145" style="font-size: 14px;" fill="#757575" x="100" y="76">{val}</text>',y.templates.olivia.defs='<linearGradient id="{randId}" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#fff;stop-opacity:1" /><stop offset="100%" style="stop-color:#eee;stop-opacity:1" /></linearGradient>',y.templates.olivia.node='<rect fill="url(#{randId})" x="0" y="0" height="{h}" width="{w}" stroke-width="1" stroke="#aeaeae" rx="5" ry="5"></rect>',y.templates.olivia.img_0='<clipPath id="{randId}"><circle cx="50" cy="60" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="20" width="80" height="80" ></image>',y.templates.olivia.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#AEAEAE"></circle><circle cx="7" cy="0" r="2" fill="#AEAEAE"></circle><circle cx="14" cy="0" r="2" fill="#AEAEAE"></circle></g>',y.templates.belinda=Object.assign({},y.templates.ana),y.templates.belinda.size=[180,180],y.templates.belinda.ripple={radius:90,color:"#e6e6e6",rect:null},y.templates.belinda.node='<circle cx="90" cy="90" r="90" fill="#039BE5" stroke-width="1" stroke="#aeaeae"></circle>',y.templates.belinda.img_0='<clipPath id="{randId}"><circle cx="90" cy="45" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="50" y="5" width="80" height="80" ></image>',y.templates.belinda.field_0='<text width="170" style="font-size: 18px;" text-anchor="middle" fill="#ffffff"  x="90" y="105">{val}</text>',y.templates.belinda.field_1='<text width="160" style="font-size: 14px;" text-anchor="middle" fill="#ffffff"  x="90" y="125">{val}</text>',y.templates.belinda.link='<path stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}"/>',y.templates.belinda.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,79,5)" control-node-menu-id="{id}"><rect x="0" y="0" fill="#000000" fill-opacity="0" width="22" height="22"></rect><line stroke-width="2" stroke="#000" x1="0" y1="3" x2="22" y2="3"></line><line stroke-width="2" stroke="#000" x1="0" y1="9" x2="22" y2="9"></line><line stroke-width="2" stroke="#000" x1="0" y1="15" x2="22" y2="15"></line></g>',y.templates.rony=Object.assign({},y.templates.ana),y.templates.rony.svg='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="background-color:#E8E8E8;display:block;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',y.templates.rony.defs='<filter id="{randId}" x="0" y="0" width="200%" height="200%"><feOffset result="offOut" in="SourceAlpha" dx="5" dy="5"></feOffset><feGaussianBlur result="blurOut" in="offOut" stdDeviation="5"></feGaussianBlur><feBlend in="SourceGraphic" in2="blurOut" mode="normal"></feBlend></filter>',y.templates.rony.size=[180,250],y.templates.rony.ripple={color:"#F57C00",radius:5,rect:null},y.templates.rony.img_0='<clipPath id="{randId}"><circle cx="90" cy="160" r="60"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="30" y="100"  width="120" height="120"></image>',y.templates.rony.node='<rect filter="url(#{randId})" x="0" y="0" height="250" width="180" fill="#ffffff" stroke-width="0" rx="5" ry="5"></rect>',y.templates.rony.field_0='<text width="165" style="font-size: 18px;" fill="#039BE5" x="90" y="40" text-anchor="middle">{val}</text>',y.templates.rony.field_1='<text width="165" style="font-size: 14px;" fill="#F57C00" x="90" y="60" text-anchor="middle">{val}</text>',y.templates.rony.field_2='<text width="165" style="font-size: 14px;" fill="#FFCA28" x="90" y="80" text-anchor="middle">{val}</text>',y.templates.rony.link='<path stroke="#039BE5" stroke-width="1px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} L{xd},{yd}"/>',y.templates.rony.plus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#039BE5" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#039BE5"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#039BE5"></line>',y.templates.rony.minus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#039BE5" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#039BE5"></line>',y.templates.rony.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,155,235)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#F57C00"></circle><circle cx="7" cy="0" r="2" fill="#F57C00"></circle><circle cx="14" cy="0" r="2" fill="#F57C00"></circle></g>',y.templates.mery=Object.assign({},y.templates.ana),y.templates.mery.ripple={color:"#e6e6e6",radius:50,rect:null},y.templates.mery.node='<rect x="0" y="0" height="120" width="250" fill="#ffffff" stroke-width="1" stroke="#686868" rx="50" ry="50"></rect><rect x="0" y="45" height="30" width="250" fill="#039BE5" stroke-width="1"></rect>',y.templates.mery.link='<path stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}" />',y.templates.mery.img_0='<clipPath id="{randId}"><circle cx="125" cy="60" r="24"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="95" y="33"  width="60" height="60"></image>',y.templates.mery.field_0='<text width="220" style="font-size: 18px;" fill="#039BE5" x="125" y="30" text-anchor="middle">{val}</text>',y.templates.mery.field_1='<text width="220" style="font-size: 14px;" fill="#039BE5" x="125" y="100" text-anchor="middle">{val}</text>',y.templates.mery.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,60)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',y.templates.polina=Object.assign({},y.templates.ana),y.templates.polina.size=[300,80],y.templates.polina.ripple={color:"#e6e6e6",radius:40,rect:null},y.templates.polina.node='<rect x="0" y="0" height="80" width="300" fill="#039BE5" stroke-width="1" stroke="#686868" rx="40" ry="40"></rect>',y.templates.polina.img_0='<clipPath id="{randId}"><circle  cx="40" cy="40" r="35"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="0" y="0"  width="80" height="80"></image>',y.templates.polina.field_0='<text width="210" style="font-size: 18px;" fill="#ffffff" x="80" y="30" text-anchor="start">{val}</text>',y.templates.polina.field_1='<text width="210" style="font-size: 14px;" fill="#ffffff" x="80" y="55" text-anchor="start">{val}</text>',y.templates.polina.link='<path stroke="#686868" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}" />',y.templates.polina.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,285,33)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="0" cy="7" r="2" fill="#ffffff"></circle><circle cx="0" cy="14" r="2" fill="#ffffff"></circle></g>',y.templates.mila=Object.assign({},y.templates.ana),y.templates.mila.node='<rect x="0" y="0" height="120" width="250" fill="#039BE5" stroke-width="1" stroke="#aeaeae"></rect><rect x="-5" y="70" height="30" width="260" fill="#ffffff" stroke-width="1" stroke="#039BE5"></rect><line x1="-5" x2="0" y1="100" y2="105" stroke-width="1" stroke="#039BE5"/><line x1="255" x2="250" y1="100" y2="105" stroke-width="1" stroke="#039BE5"/>',y.templates.mila.img_0='<image preserveAspectRatio="xMidYMid slice" xlink:href="{val}" x="20" y="5"  width="64" height="64"></image>',y.templates.mila.field_0='<text width="240" style="font-size: 18px;" fill="#039BE5" x="125" y="92" text-anchor="middle">{val}</text>',y.templates.mila.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,110)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',y.templates.diva=Object.assign({},y.templates.ana),y.templates.diva.size=[200,170],y.templates.diva.node='<rect x="0" y="80" height="90" width="200" fill="#039BE5"></rect><circle cx="100" cy="50" fill="#ffffff" r="50" stroke="#039BE5" stroke-width="2"></circle>',y.templates.diva.img_0='<clipPath id="{randId}"><circle cx="100" cy="50" r="45"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="50" y="0"  width="100" height="100"></image>',y.templates.diva.field_0='<text width="185" style="font-size: 18px;" fill="#ffffff" x="100" y="125" text-anchor="middle">{val}</text>',y.templates.diva.field_1='<text width="185" style="font-size: 14px;" fill="#ffffff" x="100" y="145" text-anchor="middle">{val}</text>',y.templates.diva.pointer='<g data-pointer="pointer" transform="matrix(0,0,0,0,100,100)"><radialGradient id="pointerGradient"><stop stop-color="#ffffff" offset="0" /><stop stop-color="#039BE5" offset="1" /></radialGradient><circle cx="16" cy="16" r="16" stroke-width="1" stroke="#acacac" fill="url(#pointerGradient)"></circle></g>',y.templates.diva.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,175,155)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',y.templates.luba=Object.assign({},y.templates.ana),y.templates.luba.svg='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:block;background-color: #2E2E2E;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',y.templates.luba.defs='<linearGradient id="{randId}" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#646464;stop-opacity:1" /><stop offset="100%" style="stop-color:#363636;stop-opacity:1" /></linearGradient>',y.templates.luba.node='<rect fill="url(#{randId})" x="0" y="0" height="120" width="250" stroke-width="1" stroke="#aeaeae" rx="5" ry="5"></rect>',y.templates.luba.img_0='<clipPath id="{randId}"><circle cx="50" cy="25" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="-15"  width="80" height="80"></image>',y.templates.luba.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#aeaeae"></circle><circle cx="7" cy="0" r="2" fill="#aeaeae"></circle><circle cx="14" cy="0" r="2" fill="#aeaeae"></circle></g>',y.templates.luba.field_0='<text width="235" style="font-size: 18px;" fill="#aeaeae" x="125" y="90" text-anchor="middle">{val}</text>',y.templates.luba.field_1='<text width="140" style="font-size: 14px;" fill="#aeaeae" x="240" y="30" text-anchor="end">{val}</text>',y.templates.luba.plus='<rect x="0" y="0" width="36" height="36" rx="12" ry="12" fill="#2E2E2E" stroke="#aeaeae" stroke-width="1"></rect><line x1="4" y1="18" x2="32" y2="18" stroke-width="1" stroke="#aeaeae"></line><line x1="18" y1="4" x2="18" y2="32" stroke-width="1" stroke="#aeaeae"></line>',y.templates.luba.minus='<rect x="0" y="0" width="36" height="36" rx="12" ry="12" fill="#2E2E2E" stroke="#aeaeae" stroke-width="1"></rect><line x1="4" y1="18" x2="32" y2="18" stroke-width="1" stroke="#aeaeae"></line>',y.templates.luba.expandCollapseSize=36,y.templates.derek=Object.assign({},y.templates.ana),y.templates.derek.link='<path stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}"/>',y.templates.derek.field_0='<text width="235" style="font-size: 24px;" fill="#aeaeae" x="125" y="90" text-anchor="middle">{val}</text>',y.templates.derek.field_1='<text width="130" style="font-size: 16px;" fill="#aeaeae" x="230" y="30" text-anchor="end">{val}</text>',y.templates.derek.node='<rect x="0" y="0" height="120" width="250" fill="#ffffff" stroke-width="0" stroke="none" rx="5" ry="5"></rect><path d="M1.0464172536455116 0.43190469224125483 C53.84241668202045 -0.788936709486018, 103.41786516460891 -0.7020837047025514, 252.36637077877316 2.5880308844586395 M2.9051048929845287 1.416953777798454 C94.33574460557007 1.0012759229446266, 189.39715875173388 0.6456731199982935, 252.78978918302985 2.4201778360648074 M253.62699063660838 2.9193391477217157 C249.73034548542307 47.55931231380586, 252.87525930998083 91.26715478378368, 253.10179184315842 121.7440626272514 M251.37132919216776 1.8733470844542213 C252.2809675089866 32.73212950193807, 251.34402714677282 62.11470833534073, 251.87050951184997 121.58550827952904 M253.33945599552268 122.05611967964798 C171.36076589155192 123.47737863766969, 88.83808249906167 125.27259840604118, 3.1999393565128846 121.26868651191393 M252.26165120810887 122.5938901158243 C192.76996487394138 123.44664377223289, 131.37122563794998 122.94880221756583, 1.2373006891045732 121.88999197324904 M2.223863211672736 121.04511533445009 C1.4438124377596486 86.38398979211773, 2.8540468486809294 55.805566409478374, 3.8890451480896644 1.7483404843613926 M2.244347335490432 122.60147677858153 C2.100672267495622 92.31058899219087, 1.6261027388218166 64.160806803772, 1.6325734600065367 1.1945909353588222" stroke="#aeaeae" ></path>',y.templates.derek.defs=' <filter id="grayscale"><feColorMatrix type="matrix" values="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"/></filter>',y.templates.derek.img_0='<clipPath id="{randId}"><circle cx="60" cy="30" r="36"></circle></clipPath><path d="M59.27394950148486 -8.301766751084706 C67.69473471187919 -8.865443566034696, 80.29031463018414 -4.859224005049532, 87.18598909426663 0.33238763875740673 C94.08166355834912 5.523999282564345, 98.98110545022442 14.745947814116153, 100.64799628597981 22.847903111756924 C102.31488712173521 30.949858409397695, 101.71467046207992 41.576461864335656, 97.187334108799 48.944119424602036 C92.65999775551809 56.311776984868416, 82.03610997730354 64.08326918912249, 73.48397816629435 67.05384847335519 C64.93184635528516 70.02442775758789, 54.01035575000908 69.7708463163516, 45.874543242743854 66.76759512999827 C37.738730735478626 63.76434394364495, 29.04872278114092 56.18846598822666, 24.669103122702957 49.034341355235284 C20.289483464264993 41.88021672224391, 18.158053754175985 31.830144088547545, 19.596825292116065 23.84284733205002 C21.035596830056146 15.855550575552495, 25.795252700735308 6.49424361294595, 33.30173235034344 1.1105608162501355 C40.80821199995158 -4.273121980445679, 58.92971347412665 -7.0427741956040295, 64.63570318976488 -8.459249448124865 C70.34169290540312 -9.8757247006457, 67.62192977382313 -7.857597534262704, 67.53767064417285 -7.388290698874876 M62.748378255307365 -8.335850348284236 C71.26603403676657 -8.411982637093757, 83.3134559967999 -3.2332675886967737, 89.65944437868365 2.387927626929269 C96.00543276056739 8.00912284255531, 99.8018539626104 17.389209313563462, 100.82430854660979 25.39132094547202 C101.84676313060918 33.39343257738058, 100.69202080288338 43.23907526327184, 95.79417188267999 50.40059741838061 C90.8963229624766 57.56211957348938, 80.19607375493683 65.6933432424228, 71.43721502538948 68.36045387612462 C62.678356295842114 71.02756450982645, 51.31858275833087 70.03148525422704, 43.241019505395826 66.40326122059156 C35.16345625246078 62.775037186956084, 26.840434236544123 54.120081952867466, 22.971835507779204 46.59110967431175 C19.103236779014285 39.06213739575604, 17.94937086132579 28.992694575765086, 20.029427132806305 21.22942754925726 C22.10948340428682 13.466160522749433, 28.239699334668693 5.033316212766326, 35.452173136662296 0.011507515264803203 C42.6646469386559 -5.010301182236719, 59.029629541347575 -7.774813789367088, 63.30426994476793 -8.901424635751876 C67.57891034818829 -10.028035482136666, 61.20261013623477 -7.6019933587127815, 61.10001555718443 -6.748157563043929" style="stroke: #aeaeae; stroke-width: 2; fill: none;"></path><image filter="url(#grayscale)" preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="20" y="-10"  width="80" height="80"></image>',y.templates.derek.minus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke-width="0"></circle><path d="M17.23891044927774 1.1814294501322902 C20.29160626452551 1.030769196657948, 23.947970993006972 3.1719335544839753, 26.394853759110717 5.588671983418923 C28.84173652521446 8.005410412353871, 31.246576051221126 12.511831935158815, 31.920207045900206 15.681860023741976 C32.593838040579286 18.85188811232514, 32.286699675240925 21.948848714186923, 30.436639727185195 24.60884051491789 C28.586579779129462 27.268832315648858, 24.05246578668338 30.675892912089505, 20.819847357565806 31.64181082812777 C17.58722892844823 32.60772874416604, 13.992479948405318 31.588687222722193, 11.040929152479746 30.404348011147484 C8.089378356554175 29.220008799572774, 4.476346434761303 27.363985211380037, 3.110542582012373 24.535775558679525 C1.7447387292634435 21.707565905979013, 2.0125141957866703 16.770753327135857, 2.8461060359861694 13.435090094944405 C3.6796978761856685 10.099426862752953, 4.99838568665378 6.33816589513267, 8.112093623209367 4.521796165530812 C11.225801559764953 2.7054264359289544, 18.764666760207586 2.8505106971937155, 21.528353655319687 2.5368717173332556 C24.29204055043179 2.2232327374727956, 24.87088035867136 2.534909813412478, 24.69421499388197 2.6399622863680516 M17.281640595209783 0.19007885243722633 C20.364244435145494 -0.11577004716725742, 25.135133405402318 3.2303746945812075, 27.855952721223584 5.7353294427454955 C30.57677203704485 8.240284190909783, 33.34617538156587 11.802005102645245, 33.606556490137386 15.219807341422953 C33.8669375987089 18.637609580200664, 31.337125602828454 23.632355493641384, 29.418239372652685 26.24214287541175 C27.499353142476917 28.85193025718212, 25.044077583504755 30.13224182494988, 22.093239109082777 30.87853163204516 C19.1424006346608 31.62482143914044, 14.787723024669972 31.933646092018286, 11.713208526120809 30.719881717983426 C8.638694027571646 29.506117343948567, 5.1333408130933655 26.55826769548724, 3.6461521177877945 23.595945387835997 C2.1589634224822234 20.633623080184755, 1.9785010696309286 16.25773192692332, 2.7900763542873843 12.945947872075987 C3.60165163894384 9.634163817228652, 5.999109831161897 5.87039683716568, 8.51560382572653 3.7252410587519886 C11.032097820291161 1.5800852803382974, 16.377503419445155 0.40900388408914673, 17.88904032167518 0.0750132015938405 C19.400577223905202 -0.2589774809014657, 17.448582822593046 1.2406055078364167, 17.584825239106664 1.7212969637801514" style="stroke: rgb(174, 174, 174); stroke-width: 1; fill: none;"></path><path d="M8.571186416504453 17.64803469305822 C12.085276840999553 15.452815349785006, 19.337130848197884 16.101685575250833, 26.855223350440756 18.889299472836626 M7.857231507904164 16.840024354210055 C15.011849298914942 18.06824852479784, 22.352469730756894 17.800410681835732, 26.732355140012178 16.88515873797708" style="stroke: #aeaeae; stroke-width: 1; fill: none;"></path>',y.templates.derek.plus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke-width="0"></circle><path d="M12.257463787262992 2.40166003616363 C15.548960627027807 1.1768586505919105, 20.323768339136134 1.874732142276981, 23.661947633240565 3.0864861053786417 C27.000126927344997 4.298240068480302, 30.703811226452725 6.729324000523814, 32.286539551889575 9.672183814773595 C33.86926787732643 12.615043629023376, 33.788018167397944 17.557781915741554, 33.158317585861674 20.743644990877332 C32.528617004325405 23.92950806601311, 31.137543762406274 26.899980401737224, 28.508336062671955 28.787362265588257 C25.879128362937635 30.67474412943929, 21.064677192956335 31.99302804642975, 17.383071387455747 32.06793617398354 C13.701465581955157 32.14284430153733, 9.342085269075854 31.17242931287016, 6.418701229668416 29.236811030911003 C3.4953171902609785 27.301192748951845, 0.29124975331190645 23.792422306170057, -0.15723284898887968 20.454226482228595 C-0.6057154512896659 17.116030658287134, 1.5769138742615705 12.178626667602387, 3.7278056158636996 9.207636087262241 C5.878697357465828 6.236645506922095, 10.970632450860041 3.8471017540469195, 12.748117600623896 2.6282830001877198 C14.525602750387751 1.4094642463285199, 14.289563699001825 1.9470094191022314, 14.392716514446832 1.894723564107041 M22.43549828180672 1.2256088400576157 C25.69018250895055 1.7704365119039576, 29.24546322166512 4.979269460398017, 31.051492912414023 8.188373611713667 C32.85752260316293 11.397477763029316, 33.67207918890526 17.17514768034262, 33.27167642630015 20.480233747951512 C32.871273663695035 23.785319815560406, 31.41050911947538 25.966765564166938, 28.649076336783356 28.01889001736704 C25.887643554091333 30.07101447056714, 20.094058835586818 32.38500719321419, 16.70307973014802 32.79298046715211 C13.31210062470922 33.20095374109003, 10.940906263905317 32.367748192606626, 8.303201704150565 30.46672966099454 C5.665497144395813 28.565711129382457, 2.097338248187536 24.641108687248686, 0.8768523716195098 21.386869277479594 C-0.34363350494851663 18.132629867710502, -0.763694313917872 14.0433435213021, 0.980286444742406 10.941293202379995 C2.7242672034026842 7.83924288345789, 7.945090366802328 4.317959037402062, 11.340736923581177 2.774567363946959 C14.736383480360027 1.231175690491856, 19.39979547907987 1.5862021443476335, 21.354165785415507 1.6809431616493775 C23.308536091751144 1.7756841789511215, 22.887857886273373 3.132249638930103, 23.06695876159499 3.343013467757423" style="stroke: rgb(174, 174, 174); stroke-width: 1; fill: none;"></path><path d="M7.0048103933165935 18.109075284628886 C12.152504846776358 18.486044066779655, 15.926735549928488 18.85477711845977, 26.641287664541796 15.553207106118496 M6.796084928139555 16.174781745374535 C14.085050058006614 16.53898319893461, 19.579209483395115 16.725914747038104, 27.441803598385356 17.277875712554966" style="stroke: #aeaeae; stroke-width: 1; fill: none;"></path><path d="M16.293755471804 6.234638030793387 C17.448668211406996 11.453666045700338, 16.27043554943843 18.842895411477887, 16.90423703847114 28.952046969222806 M17.809777051185264 7.011866752183222 C17.599122858612276 13.07833796918755, 16.995204905243295 18.587342115968614, 17.888568853882067 26.844926419317094" style="stroke: #aeaeae; stroke-width: 1; fill: none;"></path>',y.templates.derek.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,210,80)" control-node-menu-id="{id}"><rect x="-4" y="-4" fill="#000000" fill-opacity="0" width="30" height="30"></rect><path d="M28.28024041166867 10.015533059199505 C16.45705393905741 10.81309700412131, 9.85276157405196 9.87162723980281, 3.5441213169168515 7.075531655648353 M27.551825308513525 8.923800642512257 C18.159502224784205 9.337153563754718, 7.451197502628936 9.284728719203128, 1.8548423867425456 8.753004894810802 M27.907104120536573 17.662200828300364 C18.343063985797404 18.998694042201137, 6.69417200021006 18.568117962359516, 2.7668346274558218 17.84920936843539 M26.99365966559525 17.444217688828093 C18.288291344549645 16.258053076066645, 10.047008592341617 16.913684103209345, 2.1772395910449567 17.55258716848472 M25.754130110044443 24.79648729629354 C19.716463597004157 24.059273917380096, 12.571903015673474 24.723484329803995, 1.2709092686545498 25.961416660790483 M26.031268385778997 24.853114475295413 C16.16958752624931 25.047162545233455, 7.4039608372111765 23.9169859615211, 1.4736400026930716 24.342985647697336" style="stroke: rgb(174, 174, 174); stroke-width: 1; fill: none;"></path></g>',y.templates.isla=Object.assign({},y.templates.ana),y.templates.isla.defs='<filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="isla-shadow"><feOffset dx="0" dy="4" in="SourceAlpha" result="shadowOffsetOuter1" /><feGaussianBlur stdDeviation="10" in="shadowOffsetOuter1" result="shadowBlurOuter1" /><feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.2 0" in="shadowBlurOuter1" type="matrix" result="shadowMatrixOuter1" /><feMerge><feMergeNode in="shadowMatrixOuter1" /><feMergeNode in="SourceGraphic" /></feMerge></filter>',y.templates.isla.size=[180,120],y.templates.isla.node='<rect filter="url(#isla-shadow)" x="0" y="20" rx="5" ry="5" height="100" width="180" fill="#FFF" stroke-width="1" stroke="#039BE5" ></rect><rect x="25" y="75" rx="10" ry="10" height="20" width="130" fill="#039BE5" stroke-width="3" stroke="#039BE5"></rect><rect fill="#ffffff" stroke="#039BE5" stroke-width="1" x="70" y="0" rx="13" ry="13" width="40" height="40"></rect><circle stroke="#FFCA28" stroke-width="3" fill="none" cx="90" cy="12" r="8"></circle><path d="M75,34 C75,17 105,17 105,34" stroke="#FFCA28" stroke-width="3" fill="none"></path>',y.templates.isla.field_0='<text width="120" style="font-size: 12px;" fill="#fff" x="90" y="90" text-anchor="middle">{val}</text>',y.templates.isla.field_1='<text width="160" style="font-size: 13px;" fill="#039BE5" x="90" y="64" text-anchor="middle">{val}</text>',y.templates.isla.img_0='<clipPath id="{randId}"><rect filter="url(#isla-shadow)" fill="#ffffff" stroke="#039BE5" stroke-width="1" x="70" y="0" rx="13" ry="13" width="40" height="40"></rect></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="70" y="0"  width="40" height="40"></image>',y.templates.isla.minus='<circle cx="15" cy="15" r="15" fill="#F57C00" stroke="#F57C00" stroke-width="1"></circle><line x1="8" y1="15" x2="22" y2="15" stroke-width="1" stroke="#ffffff"></line>',y.templates.isla.plus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#039BE5" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#039BE5"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#039BE5"></line>',y.templates.isla.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,83,45)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#F57C00"></circle><circle cx="7" cy="0" r="2" fill="#F57C00"></circle><circle cx="14" cy="0" r="2" fill="#F57C00"></circle></g>',y.templates.isla.ripple={radius:0,color:"#F57C00",rect:{x:0,y:20,width:180,height:100}},y.templates.deborah=Object.assign({},y.templates.polina),y.templates.deborah.size=[150,150],y.templates.deborah.node='<rect x="0" y="0" height="150" width="150" fill="#039BE5" stroke-width="1" stroke="#686868" rx="15" ry="15"></rect>',y.templates.deborah.img_0='<clipPath id="{randId}"><rect fill="#ffffff" stroke="#039BE5" stroke-width="1" x="5" y="5" rx="15" ry="15" width="140" height="140"></rect></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="5" y="5"  width="140" height="140"></image><rect x="3" y="5" height="30" width="144" fill="#039BE5" opacity="0.5" rx="3" ry="3"></rect><rect x="3" y="115" height="30" width="144" fill="#039BE5" opacity="0.5" rx="3" ry="3"></rect>',y.templates.deborah.field_0='<text width="125" text-overflow="ellipsis" style="font-size: 18px;" fill="#ffffff" x="15" y="25" text-anchor="start">{val}</text>',y.templates.deborah.field_1='<text width="105" text-overflow="ellipsis" style="font-size: 11px;" fill="#ffffff" x="15" y="135" text-anchor="start">{val}</text>',y.templates.deborah.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,125,130)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',y.templates.subLevel=Object.assign({},y.templates.base),y.templates.subLevel.size=[0,0],y.templates.subLevel.node="",y.templates.subLevel.plus="",y.templates.subLevel.minus="",y.templates.subLevel.nodeMenuButton="",y.ui={_defsIds:{},defs:function(e){var t="";for(var i in y.templates){var n=y.templates[i];n.defs?(y.ui._defsIds[i]=y.randomId(),t+=n.defs.replace("{randId}",y.ui._defsIds[i])):t+=n.defs}return"<defs>"+t+e+"</defs>"},css:function(){return'<style>.bg-ripple-container {position: absolute; top: 0; right: 0; bottom: 0; left: 0; }.drag-over rect { opacity: 0.5; } .bg-ripple-container span {transform: scale(0);border-radius:100%;position:absolute;opacity:0.75;background-color:#fff;animation: bg-ripple 1000ms; }@-moz-keyframes bg-ripple {to {opacity: 0;transform: scale(2);}}@-webkit-keyframes bg-ripple {to {opacity: 0;transform: scale(2);}}@-o-keyframes bg-ripple {to {opacity: 0;transform: scale(2);}}@keyframes bg-ripple {to {opacity: 0;transform: scale(2);}}.bg-switch {position:relative;display:inline-block;width:60px;height:24px;float:right;}.bg-switch input {opacity:0;width:0;height:0;}.bg-slider {position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color: #ccc;-webkit-transition:.4s;transition: .4s;}.bg-slider:before {position:absolute;content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:white;-webkit-transition:.4s;transition:.4s;}input:checked + .bg-slider {background-color:#2196F3;}input:focus + .bg-slider {box-shadow:0 0 1px #2196F3;}input:checked + .bg-slider:before {-webkit-transform:translateX(34px);-ms-transform:translateX(34px);transform:translateX(34px);}.bg-slider.round {border-radius:24px;}.bg-slider.round:before {border-radius:50%;}svg text:hover {cursor:default;}svg.cursor-grab, svg.cursor-grab text:hover {cursor:grab;}svg.cursor-nodrop, svg.cursor-nodrop text:hover {cursor:no-drop;}svg.cursor-copy, svg.cursor-copy text:hover {cursor:copy;}svg.cursor-move, svg.cursor-move text:hover  {cursor:move;}#close-btn:hover, #close-btn:focus {color: #000; text-decoration: none; cursor: pointer;} #id-select:focus, #pid-select:focus {outline: 0.5px solid #aeaeae;} #sampleDialog #title:hover{ cursor:default; background:gray;}</style>'},lonely:function(e){return e.nodes&&e.nodes.length?"":y.IT_IS_LONELY_HERE.replace("{link}",y.RES.IT_IS_LONELY_HERE_LINK)},pointer:function(e,t,i){return t===y.action.exporting?"":y.t(e.template,!1,i).pointer},node:function(e,t,i,n,r,o,a,l,s,d){var c=y.t(e.templateName,e.min,s),p=c.node.replaceAll("{w}",e.w).replaceAll("{h}",e.h);for(var h in c.defs&&(p=p.replace("{randId}",y.ui._defsIds[e.templateName])),null==a&&(a=n.nodeBinding),a){var f=a[h];if(t){var u=t[f];"function"==typeof f&&(u=f(d,e,t)),null!=u&&null!=u&&null!=c[h]&&(p+=(y._lblIsImg(n,h)||"string"!=typeof u||(u=y.wrapText(u,c[h])),c[h].replace("{val}",u)).replaceAll("{ew}",e.w-(e.padding?e.padding[1]:0)).replaceAll("{cw}",e.w/2).replaceAll("{randId}",y.randomId()).replaceAll("{randId2}",y.randomId()))}}var g=y._getPosition(i,e,r,o),m="node";Array.isArray(e.tags)&&e.tags.length&&(m+=" "+e.tags.join(" ")),e.layout&&(m+=" tree-layout");var x="";e.lcn&&(x='lcn="'+e.lcn+'"');var v=y.nodeOpenTag.replace("{lcn}",x).replace("{id}",e.id).replace("{class}",m).replace("{sl}",e.sl).replace("{level}",e.level).replace("{x}",g.x).replace("{y}",g.y),b=y._getOpacity(i,e);return v=v.replace("{opacity}",b),null!=n.nodeMenu&&"split"!=e.templateName&&l!==y.action.exporting&&(p+=c.nodeMenuButton.replace("{id}",e.id).replace("{cw}",e.w/2).replace("{ew}",e.w-(e.padding?e.padding[1]:0))),v+p+y.grCloseTag},expandCollapseBtn:function(e,t,i,n,r){var o="";if(n!==y.action.exporting&&0<t.childrenIds.length&&"split"!=t.templateName){if(t.hasPartners){for(var a=!1,l=0;l<t.children.length;l++)null!=t.children[l].ppid||t.children[l].isPartner||(a=!0);if(!a)return""}var s=i[t.lcn?t.lcn:"base"],d=0,c=0,p=y.t(t.templateName,t.min,r);switch(s.orientation){case y.orientation.top:case y.orientation.top_left:d=t.x+t.w/2,c=t.y+t.h;break;case y.orientation.bottom:case y.orientation.bottom_left:d=t.x+t.w/2,c=t.y;break;case y.orientation.right:case y.orientation.right_top:d=t.x,c=t.y+t.h/2;break;case y.orientation.left:case y.orientation.left_top:d=t.x+t.w,c=t.y+t.h/2}if(d-=p.expandCollapseSize/2,c-=p.expandCollapseSize/2,e.getCollapsedIds(t).length?(o+=y.expcollOpenTag.replace("{id}",t.id).replace("{x}",d).replace("{y}",c),o+=p.plus):(o+=y.expcollOpenTag.replace("{id}",t.id).replace("{x}",d).replace("{y}",c),o+=p.minus),(o+=y.grCloseTag).indexOf("{collapsed-children-count}")){var h=y.collapsedChildrenCount(e,t);o=o.replace("{collapsed-children-count}",h)}}var f={html:o,node:t};return y.events.publish("renderbuttons",[e,f]),f.html},link:function(e,t,i,n,r){var o=e.lcn?e.lcn:"base",a=t._layoutConfigs[o],l=y.t(e.templateName,e.min,i),s=[],d=a.levelSeparation/2;e.layout!=y.mixed&&e.layout!=y.tree||(d=a.mixedHierarchyNodesSeparation/2);var c=0,p=y.getRootOf(e).id,h=n[p][e.sl],f=void 0;if(e.hasPartners){f={ids:[],indexes:{},ppnodes:{},lastLeft:null,firstRight:null,maxSidePartnersWithChildren:0,rightIds:[],leftIds:[],partnerChildrenSplitSeparation:t.config.partnerChildrenSplitSeparation};for(var u=0;u<e.children.length;u++){var g=null;null!=(m=e.children[u]).ppid&&(g=r[m.ppid]),g?(f.ppnodes[m.id]=g,f.ids.push(m.id),1==g.isPartner?(-1==f.rightIds.indexOf(g.id)&&f.rightIds.push(g.id),f.indexes[m.id]=f.rightIds.indexOf(g.id),f.firstRight||(f.firstRight=m)):2==g.isPartner&&(-1==f.leftIds.indexOf(g.id)&&f.leftIds.push(g.id),f.indexes[m.id]=f.leftIds.indexOf(g.id),f.lastLeft=m)):m.isPartner||(f.lastLeft=m,f.firstRight||(f.firstRight=m))}f.maxSidePartnersWithChildren=Math.max(f.leftIds.length,f.rightIds.length),c=0==f.maxSidePartnersWithChildren?t.config.minPartnerSeparation/2:t.config.minPartnerSeparation/2+f.partnerChildrenSplitSeparation*f.maxSidePartnersWithChildren+f.partnerChildrenSplitSeparation/2}for(u=0;u<e.children.length;u++){var m=e.children[u],x=n[p][m.sl],v={xa:0,ya:0,xb:0,yb:0,xc:0,yc:0,xd:0,yd:0,x:0,y:0,rotate:0},b=(l=y.t(m.templateName,m.min,i)).link;if(f&&-1!=f.ids.indexOf(m.id))switch(a.orientation){case y.orientation.top:case y.orientation.top_left:v=y.ui._linkPpTop(f,e,m,x,h,l);break;case y.orientation.bottom:case y.orientation.bottom_left:v=y.ui._linkPpBottom(f,e,m,x,h,l);break;case y.orientation.right:case y.orientation.right_top:v=y.ui._linkPpRight(f,e,m,x,h,l);break;case y.orientation.left:case y.orientation.left_top:v=y.ui._linkPpLeft(f,e,m,x,h,l)}else if((m.isAssistant||2==m.layout)&&m.rightNeighbor&&m.rightNeighbor.isSplit)switch(a.orientation){case y.orientation.top:case y.orientation.top_left:v=y.ui._linkRightToLeft(m.rightNeighbor,m,l,d);break;case y.orientation.bottom:case y.orientation.bottom_left:v=y.ui._linkRightToLeft(m.rightNeighbor,m,l,d);break;case y.orientation.right:case y.orientation.right_top:v=y.ui._linkBottomToTop(m.rightNeighbor,m,l,d);break;case y.orientation.left:case y.orientation.left_top:v=y.ui._linkBottomToTop(m.rightNeighbor,m,l,d)}else if((m.isAssistant||2==m.layout)&&m.leftNeighbor&&m.leftNeighbor.isSplit)switch(a.orientation){case y.orientation.top:case y.orientation.top_left:v=y.ui._linkLeftToRight(m.leftNeighbor,m,l,d);break;case y.orientation.bottom:case y.orientation.bottom_left:v=y.ui._linkLeftToRight(m.leftNeighbor,m,l,d);break;case y.orientation.right:case y.orientation.right_top:v=y.ui._linkTopToBottom(m.leftNeighbor,m,l,d);break;case y.orientation.left:case y.orientation.left_top:v=y.ui._linkTopToBottom(m.leftNeighbor,m,l,d)}else switch(a.orientation){case y.orientation.top:case y.orientation.top_left:if(1==m.isPartner)v=y.ui._linkLeftToRight(e,m,l,c);else if(2==m.isPartner)v=y.ui._linkRightToLeft(e,m,l,c);else{var w=1==m.layout?void 0:x.minY-(x.minY-h.maxY)/2;v=y.ui._linkTopToBottom(e,m,l,d,w)}break;case y.orientation.bottom:case y.orientation.bottom_left:1==m.isPartner?v=y.ui._linkLeftToRight(e,m,l,c):2==m.isPartner?v=y.ui._linkRightToLeft(e,m,l,c):(w=1==m.layout?void 0:x.maxY-(x.maxY-h.minY)/2,v=y.ui._linkBottomToTop(e,m,l,d,w));break;case y.orientation.right:case y.orientation.right_top:1==m.isPartner?v=y.ui._linkTopToBottom(e,m,l,c):2==m.isPartner?v=y.ui._linkBottomToTop(e,m,l,c):(w=1==m.layout?void 0:x.maxX-(x.maxX-h.minX)/2,v=y.ui._linkRightToLeft(e,m,l,d,w));break;case y.orientation.left:case y.orientation.left_top:1==m.isPartner?v=y.ui._linkTopToBottom(e,m,l,c):2==m.isPartner?v=y.ui._linkBottomToTop(e,m,l,c):(w=1==m.layout?void 0:x.minX-(x.minX-h.maxX)/2,v=y.ui._linkLeftToRight(e,m,l,d,w))}if(-1!=b.indexOf("{rounded}"))if(v.xa==v.xb&&v.xa==v.xc&&v.xa==v.xd||v.ya==v.yb&&v.ya==v.yc&&v.ya==v.yd)b=b.replace("{rounded}","M"+v.xa+","+v.ya+" L"+v.xd+","+v.yd);else{var _=y.ui._roundedEdge(v.xa,v.ya,v.xb,v.yb,v.xc,v.yc),k=y.ui._roundedEdge(v.xb,v.yb,v.xc,v.yc,v.xd,v.yd);b=b.replace("{rounded}","M"+_.x1+","+_.y1+" "+_.x2+","+_.y2+" Q"+_.qx1+","+_.qy1+" "+_.qx2+","+_.qy2+" L"+k.x2+","+k.y2+" Q"+k.qx1+","+k.qy1+" "+k.qx2+","+k.qy2+" L"+k.x3+","+k.y3)}else b=-1!=b.indexOf("{edge}")?b.replace("{edge}","M"+v.xa+","+v.ya+" "+v.xb+","+v.yb+" "+v.xc+","+v.yc+" L"+v.xd+","+v.yd):-1!=b.indexOf("{curve}")?b.replace("{curve}","M"+v.xa+","+v.ya+" C"+v.xb+","+v.yb+" "+v.xc+","+v.yc+" "+v.xd+","+v.yd):b.replaceAll("{xa}",v.xa).replaceAll("{ya}",v.ya).replaceAll("{xb}",v.xb).replaceAll("{yb}",v.yb).replaceAll("{xc}",v.xc).replaceAll("{yc}",v.yc).replaceAll("{xd}",v.xd).replaceAll("{yd}",v.yd);s.push(y.linkOpenTag.replace("{id}",e.id).replace("{class}","link "+m.tags.join(" ")).replace("{child-id}",m.id));var S={node:e,cnode:m,p:v,html:b};y.events.publish("render-link",[t,S]),s.push(S.html);var C="";for(var I in t.config.linkBinding){var A=t.config.linkBinding[I],E=t._get(m.id);if(E){var L=E[A];null!=L&&null!=L&&null!=l[I]&&(C+=l[I].replace("{val}",L))}}""!=C&&(C=y.linkFieldsOpenTag.replace("{x}",v.x).replace("{y}",v.y).replace("{rotate}",0)+C+y.grCloseTag,s.push(C)),s.push(y.grCloseTag)}return s.join("")},svg:function(e,t,i,n,r,o){return y.t(n.template,!1,o).svg.replace("{w}",e).replace("{h}",t).replace("{viewBox}",i).replace("{content}",r)},exportMenuButton:function(e){return null==e.menu?"":y.t(e.template,!1).exportMenuButton.replaceAll("{p}",e.padding)},_roundedEdge:function(e,t,i,n,r,o){var a,l,s,d=0;return e==i&&e==r||t==n&&t==o?(a=s=i,l=d=n):(e!=r&&i==r&&(a=s=i,l=n,t<o?d=n+y.LINK_ROUNDED_CORNERS:o<t&&(d=n-y.LINK_ROUNDED_CORNERS)),e<r&&i==r?i-=y.LINK_ROUNDED_CORNERS:r<e&&i==r&&(i+=y.LINK_ROUNDED_CORNERS),t!=o&&n==o&&(a=i,l=d=n,e<r?s=i+y.LINK_ROUNDED_CORNERS:r<e&&(s=i-y.LINK_ROUNDED_CORNERS)),t<o&&n==o?n-=y.LINK_ROUNDED_CORNERS:o<t&&n==o&&(n+=y.LINK_ROUNDED_CORNERS)),{x1:e,y1:t,x2:i,y2:n,x3:r,y3:o,qx1:a,qy1:l,qx2:s,qy2:d}},_linkTopToBottom:function(e,t,i,n,r){var o,a,l,s,d,c,p,h=0;return o=e.x+e.w/2+i.linkAdjuster.toX,a=e.y+e.h+i.linkAdjuster.toY,d=s=t.x+t.w/2+i.linkAdjuster.fromX,c=t.y+i.linkAdjuster.fromY,{xa:l=o,ya:a,xb:l,yb:h=e.rightNeighbor&&e.rightNeighbor.isAssistant&&"split"==t.templateName?e.rightNeighbor.y+e.rightNeighbor.h+n:"split"!=e.templateName||!t.isAssistant&&2!=t.layout?"split"==t.templateName?a+n:null!=r?r:c-n:c,xc:p=s,yc:h,xd:d,yd:c,x:p,y:h+16,rotate:0}},_linkBottomToTop:function(e,t,i,n,r){var o,a,l,s,d,c,p,h=0;return o=e.x+e.w/2+i.linkAdjuster.toX,a=e.y+i.linkAdjuster.toY,d=s=t.x+t.w/2+i.linkAdjuster.fromX,c=t.y+t.h+i.linkAdjuster.fromY,{xa:l=o,ya:a,xb:l,yb:h=e.rightNeighbor&&e.rightNeighbor.isAssistant&&"split"==t.templateName?e.rightNeighbor.y-n:"split"!=e.templateName||!t.isAssistant&&2!=t.layout?"split"==t.templateName?a-n:null!=r?r:c+n:c,xc:p=s,yc:h,xd:d,yd:c,x:p,y:h-14,rotate:0}},_linkRightToLeft:function(e,t,i,n,r){var o,a,l,s,d,c,p,h=0;return o=e.x+i.linkAdjuster.toX,a=e.y+e.h/2+i.linkAdjuster.toY,d=t.x+t.w+i.linkAdjuster.fromX,c=s=t.y+t.h/2+i.linkAdjuster.fromY,{xa:o,ya:l=a,xb:h=e.rightNeighbor&&e.rightNeighbor.isAssistant&&"split"==t.templateName?e.rightNeighbor.x-n:"split"!=e.templateName||!t.isAssistant&&2!=t.layout?"split"==t.templateName?o-n:null!=r?r:d+n:d,yb:l,xc:h,yc:p=s,xd:d,yd:c,x:h-16,y:p,rotate:90}},_linkLeftToRight:function(e,t,i,n,r){var o,a,l,s,d,c,p,h=0;return o=e.x+e.w+i.linkAdjuster.toX,a=e.y+e.h/2+i.linkAdjuster.toY,d=t.x+i.linkAdjuster.fromX,c=s=t.y+t.h/2+i.linkAdjuster.fromY,{xa:o,ya:l=a,xb:h=e.rightNeighbor&&e.rightNeighbor.isAssistant&&"split"==t.templateName?e.rightNeighbor.x+e.rightNeighbor.w+n:"split"!=e.templateName||!t.isAssistant&&2!=t.layout?"split"==t.templateName?o+n:null!=r?r:d-n:d,yb:l,xc:h,yc:p=s,xd:d,yd:c,x:h+14,y:p,rotate:270}},_linkPpTop:function(e,t,i,n,r,o){var a=e.ppnodes[i.id],l=a.y+a.h/2,s=n.minY-(n.minY-r.maxY)/2,d=(n.minY-r.maxY)/e.maxSidePartnersWithChildren/4,c=y.ui.__linkPpBottomTop(e,t,i,s,d,a),p=c.x;return s=c.mid,y.ui._linkTopToBottom({x:p,y:l,w:0,h:0},i,o,0,s)},_linkPpBottom:function(e,t,i,n,r,o){var a=e.ppnodes[i.id],l=a.y+a.h/2,s=n.maxY-(n.maxY-r.minY)/2,d=(n.maxY-r.minY)/e.maxSidePartnersWithChildren/4,c=y.ui.__linkPpBottomTop(e,t,i,s,d,a),p=c.x;return s=c.mid,y.ui._linkBottomToTop({x:p,y:l,w:0,h:0},i,o,0,s)},_linkPpLeft:function(e,t,i,n,r,o){var a=e.ppnodes[i.id],l=n.minX-(n.minX-r.maxX)/2,s=(n.minX-r.maxX)/e.maxSidePartnersWithChildren/4,d=a.x+a.w/2,c=y.ui.__linkPpLeftRight(e,t,i,l,s,a),p=c.y;return l=c.mid,y.ui._linkLeftToRight({x:d,y:p,w:0,h:0},i,o,0,l)},_linkPpRight:function(e,t,i,n,r,o){var a=e.ppnodes[i.id],l=n.maxX-(n.maxX-r.minX)/2,s=(n.maxX-r.minX)/e.maxSidePartnersWithChildren/4,d=a.x+a.w/2,c=y.ui.__linkPpLeftRight(e,t,i,l,s,a),p=c.y;return l=c.mid,y.ui._linkRightToLeft({x:d,y:p,w:0,h:0},i,o,0,l)},__linkPpBottomTop:function(e,t,i,n,r,o){var a=0;return 1==o.isPartner?(a=o.x-t.partnerSeparation/2+e.indexes[i.id]*e.partnerChildrenSplitSeparation-(e.rightIds.length-1)*e.partnerChildrenSplitSeparation/2,e.lastLeft&&a<e.lastLeft.x+e.lastLeft.w/2?a<i.x+i.w/2?n-=(e.indexes[i.id]+1)*r:n-=(e.rightIds.length-e.indexes[i.id])*r:a<i.x+i.w/2?n+=(e.rightIds.length-e.indexes[i.id])*r:n+=(e.indexes[i.id]+1)*r):2==o.isPartner&&(a=o.x+o.w+t.partnerSeparation/2+e.indexes[i.id]*e.partnerChildrenSplitSeparation-(e.leftIds.length-1)*e.partnerChildrenSplitSeparation/2,e.firstRight&&a>e.firstRight.x+e.firstRight.w/2?a<i.x+i.w/2?n-=(e.indexes[i.id]+1)*r:n-=(e.leftIds.length-e.indexes[i.id])*r:a<i.x+i.w/2?n+=(e.leftIds.length-e.indexes[i.id])*r:n+=(e.indexes[i.id]+1)*r),{x:a,mid:n}},__linkPpLeftRight:function(e,t,i,n,r,o){var a=0;return 1==o.isPartner?(a=o.y-t.partnerSeparation/2+e.indexes[i.id]*e.partnerChildrenSplitSeparation-(e.rightIds.length-1)*e.partnerChildrenSplitSeparation/2,e.lastLeft&&a<e.lastLeft.y+e.lastLeft.h/2?a<i.y+i.h/2?n-=(e.indexes[i.id]+1)*r:n-=(e.rightIds.length-e.indexes[i.id])*r:a<i.y+i.h/2?n+=(e.rightIds.length-e.indexes[i.id])*r:n+=(e.indexes[i.id]+1)*r):2==o.isPartner&&(a=o.y+o.h+t.partnerSeparation/2+e.indexes[i.id]*e.partnerChildrenSplitSeparation-(e.leftIds.length-1)*e.partnerChildrenSplitSeparation/2,e.firstRight&&a>e.firstRight.y+e.firstRight.h/2?a<i.y+i.h/2?n-=(e.indexes[i.id]+1)*r:n-=(e.leftIds.length-e.indexes[i.id])*r:a<i.y+i.h/2?n+=(e.leftIds.length-e.indexes[i.id])*r:n+=(e.indexes[i.id]+1)*r),{y:a,mid:n}}},void 0===y&&(y={}),y._validateConfig=function(e){return!!e||(console.error("config is not defined"),!1)},y._arrayContains=function(e,t){if(e&&Array.isArray(e))for(var i=e.length;i--;)if(e[i]===t)return!0;return!1},y._interceptions=function(e,t){if(!e)return[];if(!t)return[];var i=[];if(Array.isArray(e)&&Array.isArray(t))for(var n in e)for(var r in t)e[n]==t[r]&&i.push(e[n]);else if(Array.isArray(e)&&!Array.isArray(t))for(var n in e)for(var r in t)e[n]==r&&i.push(e[n]);else if(!Array.isArray(e)&&Array.isArray(t))for(var n in e)for(var r in t)n==t[r]&&i.push(t[r]);return i},y._getTags=function(e){return e.tags&&!Array.isArray(e.tags)?e.tags.split(","):e.tags&&Array.isArray(e.tags)?e.tags:[]},y._centerPointInPercent=function(e,t,i){var n=e.getBoundingClientRect(),r=t-n.left,o=i-n.top;return[r/(n.width/100),o/(n.height/100)]},y._trim=function(e){return e.replace(/^\s+|\s+$/g,"")},y._getTransform=function(e){var t=e.getAttribute("transform");return t=t.replace("matrix","").replace("(","").replace(")",""),y._browser().msie&&(t=t.replace(/ /g,",")),t="["+(t=y._trim(t))+"]",JSON.parse(t)},y.getScale=function(e,t,i,n,r,o,a,l){var s=1;if(e||n!==y.match.boundary)if(e||n!==y.match.width)if(e||n!==y.match.height)if(e){var d,c=t/e[2];s=(d=i/e[3])<c?d:c}else s=n;else s=i/l;else s=t/a;else s=(d=i/l)<(c=t/a)?d:c;return s&&r<s&&(s=r),s&&s<o&&(s=o),s},y._mergeObject=function(e,t){var i={};for(var n in e)i[n]=e[n];for(n in t)i[n]=t[n];return i},y._lblIsImg=function(e,t){return!(!e.nodeBinding||"string"!=typeof t||-1==t.indexOf("img")||!e.nodeBinding[t])},y._getFistImgField=function(e){if(e.nodeBinding)for(var t in e.nodeBinding)if(-1!=t.indexOf("img"))return e.nodeBinding[t];return!1},y._fieldIsImg=function(e,t){if(e.nodeBinding)for(var i in e.nodeBinding)if(e.nodeBinding[i]==t)return y._lblIsImg(e,i);return!1},y._guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},y.htmlRipple=function(e){var t=document.createElement("style");t.type="text/css",t.innerHTML=" .bg-ripple-container {position: absolute; top: 0; right: 0; bottom: 0; left: 0; } .bg-ripple-container span {transform: scale(0);border-radius:100%;position:absolute;opacity:0.75;background-color:#fff;animation: bg-ripple 1000ms; }@-moz-keyframes bg-ripple {to {opacity: 0;transform: scale(2);}}@-webkit-keyframes bg-ripple {to {opacity: 0;transform: scale(2);}}@-o-keyframes bg-ripple {to {opacity: 0;transform: scale(2);}}@keyframes bg-ripple {to {opacity: 0;transform: scale(2);}}",document.head.appendChild(t);var i,n,r,o=document.createElement("div");o.className="bg-ripple-container",e.addEventListener("mousedown",(function(t){var i,n,r,o,a;return n=document.createElement("span"),r=this.offsetWidth,i=this.getBoundingClientRect(),a=t.pageX-i.left-r/2,o="top:"+(t.pageY-i.top-r/2)+"px; left: "+a+"px; height: "+r+"px; width: "+r+"px;",e.rippleContainer.appendChild(n),n.setAttribute("style",o)})),e.addEventListener("mouseup",(i=function(){for(;this.rippleContainer.firstChild;)this.rippleContainer.removeChild(this.rippleContainer.firstChild)},n=2e3,r=void 0,function(){var e,t;return t=this,e=arguments,clearTimeout(r),r=setTimeout((function(){return i.apply(t,e)}),n)})),e.rippleContainer=o,e.appendChild(o)},y._moveToBoundaryArea=function(e,t,i,n){var r=t.slice(0);t[0]<i.left&&t[0]<i.right&&(r[0]=i.left>i.right?i.right:i.left),t[0]>i.right&&t[0]>i.left&&(r[0]=i.left>i.right?i.left:i.right),t[1]<i.top&&t[1]<i.bottom&&(r[1]=i.top>i.bottom?i.bottom:i.top),t[1]>i.bottom&&t[1]>i.top&&(r[1]=i.top>i.bottom?i.top:i.bottom),t[0]!==r[0]||t[1]!==r[1]?y.anim(e,{viewBox:t},{viewBox:r},300,y.anim.outPow,(function(){n&&n()})):n&&n()},y.randomId=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},y._getClientXY=function(e){return-1==e.type.indexOf("touch")?{x:e.clientX,y:e.clientY}:e.changedTouches.length?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:void 0},y._getClientTouchesXY=function(e,t){return-1!=e.type.indexOf("touch")?e.touches.length<t+1?{x:null,y:null}:{x:e.touches[t].clientX,y:e.touches[t].clientY}:{x:e.clientX,y:e.clientY}},y._getOffset=function(e,t){e&&(t.x+=e.offsetLeft,t.y+=e.offsetTop,y._getOffset(e.offsetParent,t))},y._getTopLeft=function(e){var t={x:0,y:0};return y._getOffset(e,t),t},y._getOffsetXY=function(e,t){if(-1==t.type.indexOf("touch"))return{x:t.offsetX,y:t.offsetY};if(t.touches.length){var i=y._getTopLeft(e);return{x:t.touches[0].pageX-i.x,y:t.touches[0].pageY-i.y}}return t.changedTouches.length?(i=y._getTopLeft(e),{x:t.changedTouches[0].pageX-i.x,y:t.changedTouches[0].pageY-i.y}):void 0},y._pinchMiddlePointInPercent=function(e,t,i,n){var r=y._getTopLeft(e),o=n.touches[0].pageX-r.x,a=n.touches[0].pageY-r.y,l=n.touches[1].pageX-r.x,s=n.touches[1].pageY-r.y;return[((o-l)/2+l)/(t/100),((a-s)/2+s)/(i/100)]},y._browser=function(){var e=!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),t="undefined"!=typeof InstallTrigger,i=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&safari.pushNotification).toString(),n=!!document.documentMode,r=!n&&!!window.StyleMedia,o=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime);return{opera:e,firefox:t,safari:i,msie:n,edge:r,chrome:o,blink:(o||e)&&!!window.CSS}},y._menuPosition=function(e,t,i){var n=e.getBoundingClientRect(),r=i.getBoundingClientRect(),o=t.getBoundingClientRect(),a=n.left-r.left,l=n.top-r.top;return n.top+o.height>r.top+r.height&&(l-=o.height),n.left-o.width<r.left&&(a+=o.width),{x:a,y:l}},y._getTemplate=function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=t[e[n]];if(r&&r.template)return r.template}return i},y._getMin=function(e,t){if(e.tags&&e.tags.length&&t.tags)for(var i=0;i<e.tags.length;i++){var n=t.tags[e.tags[i]];if(n&&!0===n.min)return!0}return t.min},y._getSubLevels=function(e,t){if(e&&e.length)for(var i=0;i<e.length;i++){var n=t[e[i]];if(n&&n.subLevels)return n.subLevels}return 0},y._isHTML=function(e){var t=document.createElement("div");t.innerHTML=e;for(var i=t.childNodes,n=i.length;n--;)if(1==i[n].nodeType)return!0;return!1},y._getTestDiv=function(){var e=document.getElementById("orgchart_js_test_div");return e||((e=document.createElement("div")).id="orgchart_js_test_div",e.style.position="fixed",e.style.top="-10000px",e.style.left="-10000px",document.body.appendChild(e)),e},y._getLabelSize=function(e){var t=y._getTestDiv();return t.innerHTML="<svg>"+e+"</svg>",t.querySelector("text").getBoundingClientRect()},y.wrapText=function(e,t){if(-1==t.indexOf("<text"))return e;if(-1==t.indexOf("width"))return e;if(y._isHTML(e))return e;var i=y._getTestDiv();t=t.replaceAll("{cw}",0),i.innerHTML="<svg>"+t+"</svg>";var n=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("text")[0],r=parseFloat(n.getAttribute("x")),o=parseFloat(n.getAttribute("y")),a=n.getAttribute("text-anchor"),l=n.getAttribute("width"),s=n.getAttribute("text-overflow"),d="http://www.w3.org/2000/svg",c=i.getElementsByTagName("svg")[0].getElementsByTagName("text")[0],p=parseFloat(n.getAttribute("text-overflow-lines"));if(p||(p=0),!l)return e;if(l=parseFloat(l),r||(r=0),o||(o=0),r||(a="start"),s||(s="ellipsis"),"ellipsis"==s){c.removeChild(c.firstChild),c.textContent=e;for(var h=c.getComputedTextLength(),f=2;l<h;)c.textContent=e.substring(0,e.length-f),c.textContent+="...",h=c.getComputedTextLength(),f++;return 2<f?"<title>"+e+"</title>"+c.textContent:e}if("multiline"==s){var u=e.split(" "),g=c.getBBox().height;c.textContent="";var m=document.createElementNS(d,"tspan"),x=document.createTextNode(u[0]);m.setAttributeNS(null,"x",r),m.setAttributeNS(null,"y",o),m.setAttributeNS(null,"text-anchor",a),m.appendChild(x),c.appendChild(m),f=1;for(var v=1,b=1;b<u.length;b++){var w=m.firstChild.data.length;if(m.firstChild.data+=" "+u[b],m.getComputedTextLength()>l){if(m.firstChild.data=m.firstChild.data.slice(0,w),v++,0!==p&&p<v)break;(m=document.createElementNS(d,"tspan")).setAttributeNS(null,"x",r),m.setAttributeNS(null,"y",o+g*f),m.setAttributeNS(null,"text-anchor",a),x=document.createTextNode(u[b]),m.appendChild(x),c.appendChild(m),f++}}var _="";if(null!=c.innerHTML)_=c.innerHTML,c.innerHTML="";else{var k="";for(b=c.childNodes.length-1;0<=b;b--)k=XMLSerializer().serializeToString(c.childNodes[b])+k,c.removeChild(c.childNodes[b]);_=k}return _}},y._downloadFile=function(e,t,i,n){var r=new Blob([t],{type:e});if(1==n){var o=URL.createObjectURL(r);window.open(o,"_blank").focus()}else if(navigator.msSaveBlob)navigator.msSaveBlob(r,i);else{var a=document.createElement("a");void 0!==a.download&&(o=URL.createObjectURL(r),a.setAttribute("href",o),a.setAttribute("download",i),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a))}},y._getPosition=function(e,t,i,n){var r={x:t.x,y:t.y};if(null!=i&&(r.x=i),null!=n&&(r.y=i),e&&3==e.length){var o=e[0].indexOf(t.id);-1!=o&&null!=e[1][o].transform&&(null==i&&(r.x=e[1][o].transform[4]),null==n&&(r.y=e[1][o].transform[5]))}return r},y._getOpacity=function(e,t){var i=1;if(e&&3==e.length){var n=e[0].indexOf(t.id);-1!=n&&null!=e[1][n].opacity&&(i=e[1][n].opacity)}return i},y.t=function(e,t,i){var n=y.templates[e],r=null;if(null!=i&&n.scaleLessThen){var o=[];for(var a in n.scaleLessThen){var l=parseFloat(a);i<l&&o.push(l)}if(0<o.length){o.sort((function(e,t){return e-t}));var s=n.scaleLessThen[o[0]];for(var d in s)null==r&&(r=Object.assign({},n)),r[d]=s[d]}}return t?null==r?n.min?n.min:n:r.min?r.min:r:null==r?n:r},y.setNodeSize=function(e){var t=y.t(e.templateName,e.min);e.w=t&&t.size?t.size[0]:0,e.h=t&&t.size?t.size[1]:0},y._imgs2base64=function(e,t,i,n){var r=e.getElementsByTagName(t),o=r.length;0==o&&n();for(var a=0;a<o;a++)!function(){var e=a,t=r[e];y._getDataUri(t.getAttribute(i),(function(r){r.success&&t.setAttribute(i,r.result),e==o-1&&n()}))}()},y._getDataUri=function(e,t){if(-1!=e.indexOf("base64"))t({success:!1});else{var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){200===i.status?n.readAsDataURL(i.response):404===i.status&&t({success:!1,result:i.status})};var n=new FileReader;n.onloadend=function(){t({success:!0,result:n.result})},i.send()}},y._csvToArray=function(e,t){t=t||",";for(var i=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),n=[[]],r=null;r=i.exec(e);){var o,a=r[1];a.length&&a!==t&&n.push([]),o=r[2]?r[2].replace(new RegExp('""',"g"),'"'):r[3],n[n.length-1].push(o)}return n},y._json2xml=function(e){for(var t=document.implementation.createDocument("","",null),i=t.createElement("nodes"),n=0;n<e.length;n++){var r=t.createElement("node"),o=e[n];for(var a in o){var l=o[a];"tags"==a&&(l=l.join()),r.setAttribute(a,l)}i.appendChild(r)}return t.appendChild(i),'<?xml version="1.0" encoding="utf-8" ?>'+(new XMLSerializer).serializeToString(t.documentElement)},y._xml2json=function(e){for(var t=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("node"),i=[],n=0;n<t.length;n++){for(var r=t[n],o={},a=0;a<r.attributes.length;a++){var l=r.attributes[a],s=l.value;"tags"==l.name&&(s=s.split(",")),o[l.name]=s}i.push(o)}return i},y._json2csv=function(e){for(var t=[],i=function(e){for(var i="",n=0;n<t.length;n++){var r;(r="reportsTo"==t[n]?null:null==e[t[n]]?"":e[t[n]])instanceof Date&&(r=r.toLocaleString());var o=(r=null===r?"":r.toString()).replace(/"/g,'""');0<=o.search(/("|,|\n)/g)&&(o='"'+o+'"'),0<n&&(i+=","),i+=o}return i+"\n"},n="",r=0;r<e.length;r++)for(var o in e[r])y._arrayContains(t,o)||(t.push(o),n+=o+",");for(n+="\n",r=0;r<e.length;r++)n+=i(e[r]);return n},y.accentFold=function(e){return(e=e.toString().toLowerCase()).replace(/([])|([])|([])|([])|([])|([])|([])|([])|([])|([])/g,(function(e,t,i,n,r,o,a,l,s,d,c){return t?"a":i?"c":n?"e":r?"i":o?"n":a?"o":l?"s":s?"u":d?"y":c?"ae":void 0}))},y.copy=function(e){if(null===e||"object"!=typeof e||"isActiveClone"in e)return e;if(e instanceof Date)var t=new e.constructor;else t=e.constructor();for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(e.isActiveClone=null,t[i]=y.copy(e[i]),delete e.isActiveClone);return t},y._getScrollSensitivity=function(){var e=y._browser();return e.msie&&y.scroll.ie?y.scroll.ie:e.edge&&y.scroll.edge?y.scroll.edge:e.safari&&y.scroll.safari?y.scroll.safari:e.chrome&&y.scroll.chrome?y.scroll.chrome:e.firefox&&y.scroll.firefox?y.scroll.firefox:e.opera&&y.scroll.opera?y.scroll.opera:{smooth:y.scroll.smooth,speed:y.scroll.speed}},y.isTrial=function(){return void 0!==y.remote},y.childrenCount=function(e,t,i){null==i&&(i=0);for(var n=0;n<t.childrenIds.length;n++){var r=e.nodes[t.childrenIds[n]];r&&(i++,y.childrenCount(e,r,i))}return i},y.collapsedChildrenCount=function(e,t,i){null==i&&(i=0);for(var n=0;n<t.childrenIds.length;n++){var r=e.nodes[t.childrenIds[n]];r&&(!0===r.collapsed&&i++,y.collapsedChildrenCount(e,r,i))}return i},y._setMinMaxXY=function(e,t){(null==t.minX||null!=e.x&&e.x<t.minX)&&(t.minX=e.x),(null==t.minY||null!=e.y&&e.y<t.minY)&&(t.minY=e.y),(null==t.maxX||null!=e.x&&e.x+e.w>t.maxX)&&(t.maxX=e.x+e.w),(null==t.maxY||null!=e.y&&e.y+e.h>t.maxY)&&(t.maxY=e.y+e.h)},y.getStParentNodes=function(e,t){for(t||(t=[]);e.parent;)e=e.parent;return e.stParent&&(t.push(e.stParent),y.getStParentNodes(e.stParent,t)),t},y.getRootOf=function(e){for(;e&&e.parent;)e=e.parent;return e},y._getViewBox=function(e){var t=null;return e?(t=(t="["+(t=e.getAttribute("viewBox"))+"]").replace(/\ /g,","),t=JSON.parse(t)):null},y.isNullOrEmpty=function(e){return null==e||""===e},y.xScrollUI=function(e,t,i,n,r){this.element=e,this.requestParams=i,this.config=t,this.onSetViewBoxCallback=n,this.onDrawCallback=r,this.pos=0},y.xScrollUI.prototype.addListener=function(e){var t=this;if((this.config.mouseScrool==y.action.xScroll||this.config.mouseScrool==y.action.scroll)&&this.bar){var i=y._getScrollSensitivity();!function(e,i,n){var r=!1;function o(){r=!0;var e=(t.pos-t.bar.scrollLeft)/n;if(0<e)e++;else{if(0==e)return void(r=!1);e--}Math.ceil(t.bar.scrollLeft)==Math.ceil(t.pos)?r=!1:(t.bar.scrollLeft+=e,a(o))}e.addEventListener("wheel",(function(e){var n=0;if(t.config.mouseScrool==y.action.xScroll)(n=e.deltaX||e.wheelDeltaX)||(n=e.deltaY||e.wheelDeltaY);else if(t.config.mouseScrool==y.action.scroll&&!(n=e.shiftKey?e.deltaY||e.wheelDeltaY:e.deltaX||e.wheelDeltaX))return;n=-n,n=Math.max(-1,Math.min(1,n)),t.pos+=-n*i;var a=parseFloat(t.innerBar.clientWidth)-parseFloat(t.bar.clientWidth);t.pos<0&&(t.pos=0),t.pos>a&&(t.pos=a),r||o()}),{passive:!0});var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,20)}}(e,i.speed,i.smooth)}},y.xScrollUI.prototype.create=function(e){if(this.config.showXScroll===y.scroll.visible||this.config.mouseScrool===y.action.scroll||this.config.mouseScrool===y.action.xScroll){var t=this;this.bar&&this.bar.parentNode.removeChild(this.bar),this.bar=document.createElement("div"),this.config.showXScroll!==y.scroll.visible&&(this.bar.style.visibility="hidden"),this.innerBar=document.createElement("div"),this.requestParams(),this.innerBar.innerHTML="&nbsp",Object.assign(this.bar.style,{position:"absolute",left:0,bottom:0,width:e+"px","overflow-x":"scroll",height:"20px"}),this.element.appendChild(this.bar),this.bar.appendChild(this.innerBar),this.bar.addEventListener("scroll",(function(){if(this.ignore)this.ignore=!1;else{var e=t.requestParams(),i=(parseFloat(t.innerBar.clientWidth)-parseFloat(t.bar.clientWidth))/100,n=this.scrollLeft/i,r=(e.boundary.right-e.boundary.left)/100;e.viewBox[0]=n*r+e.boundary.left,t.onSetViewBoxCallback(e.viewBox),clearTimeout(this._timeout),this._timeout=setTimeout((function(){t.onDrawCallback()}),500)}}))}},y.xScrollUI.prototype.setPosition=function(){if(this.bar){var e=this.requestParams(),t=Math.abs(e.boundary.maxX-e.boundary.minX)*e.scale;switch(this.config.orientation){case y.orientation.bottom:case y.orientation.bottom_left:innerHeight=Math.abs(e.boundary.minY*e.scale);break;case y.orientation.right:case y.orientation.right_top:t=Math.abs(e.boundary.minX*e.scale)}this.innerBar.style.width=t+"px";var i=(e.boundary.right-e.boundary.left)/100,n=(e.viewBox[0]-e.boundary.left)/i;n<0?n=0:100<n&&(n=100);var r=(parseFloat(this.innerBar.clientWidth)-parseFloat(this.bar.clientWidth))/100,o=n*r;this.bar.ignore=!0,this.bar.scrollLeft=o,this.pos=this.bar.scrollLeft,this.bar.style.visibility=r<=0?"hidden":""}},y.yScrollUI=function(e,t,i,n,r){this.element=e,this.requestParams=i,this.config=t,this.onSetViewBoxCallback=n,this.onDrawCallback=r,this.pos=0},y.yScrollUI.prototype.addListener=function(e){var t=this;if(this.config.mouseScrool==y.action.yScroll||this.config.mouseScrool==y.action.scroll){var i=y._getScrollSensitivity();!function(e,i,n){var r=!1;function o(){r=!0;var e=(t.pos-t.bar.scrollTop)/n;if(0<e)e++;else{if(0==e)return void(r=!1);e--}Math.ceil(t.bar.scrollTop)==Math.ceil(t.pos)?r=!1:(t.bar.scrollTop+=e,a(o))}e.addEventListener("wheel",(function(e){var n=0;if(t.config.mouseScrool==y.action.yScroll)(n=e.deltaY||e.wheelDeltaY)||(n=e.deltaX||e.wheelDeltaX);else if(t.config.mouseScrool==y.action.scroll&&!(n=e.shiftKey?e.deltaX||e.wheelDeltaX:e.deltaY||e.wheelDeltaY))return;n=-n,n=Math.max(-1,Math.min(1,n)),t.pos+=-n*i;var a=parseFloat(t.innerBar.clientHeight)-parseFloat(t.bar.clientHeight);t.pos<0&&(t.pos=0),t.pos>a&&(t.pos=a),r||o()}),{passive:!0});var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,20)}}(e,i.speed,i.smooth)}},y.yScrollUI.prototype.create=function(e){if(this.config.showYScroll===y.scroll.visible||this.config.mouseScrool===y.action.scroll||this.config.mouseScrool===y.action.yScroll){var t=this;this.bar&&this.bar.parentNode.removeChild(this.bar),this.bar=document.createElement("div"),this.config.showYScroll!==y.scroll.visible&&(this.bar.style.visibility="hidden"),this.innerBar=document.createElement("div"),this.innerBar.innerHTML="&nbsp",Object.assign(this.bar.style,{position:"absolute",right:0,bottom:0,height:e+"px","overflow-y":"scroll",width:"20px"}),this.element.appendChild(this.bar),this.bar.appendChild(this.innerBar),this.bar.addEventListener("scroll",(function(){if(this.ignore)this.ignore=!1;else{var e=t.requestParams(),i=(parseFloat(t.innerBar.clientHeight)-parseFloat(t.bar.clientHeight))/100,n=this.scrollTop/i,r=(e.boundary.bottom-e.boundary.top)/100;e.viewBox[1]=n*r+e.boundary.top,t.onSetViewBoxCallback(e.viewBox),clearTimeout(this._timeout),this._timeout=setTimeout((function(){t.onDrawCallback()}),500)}}))}},y.yScrollUI.prototype.setPosition=function(){if(this.bar){var e=this.requestParams(),t=e.boundary.maxY*e.scale;switch(this.config.orientation){case y.orientation.bottom:case y.orientation.bottom_left:t=Math.abs(e.boundary.minY*e.scale);break;case y.orientation.right:case y.orientation.right_top:innerWidth=Math.abs(e.boundary.minX*e.scale)}this.innerBar.style.height=t+"px";var i=(e.boundary.bottom-e.boundary.top)/100,n=(e.viewBox[1]-e.boundary.top)/Math.abs(i);n<0?n=0:100<n&&(n=100);var r=(parseFloat(this.innerBar.clientHeight)-parseFloat(this.bar.clientHeight))/100,o=n*r;this.bar.ignore=!0,this.bar.scrollTop=o,this.pos=this.bar.scrollTop,this.bar.style.visibility=r<=0?"hidden":""}},y.prototype.zoom=function(e,t,i){var n=this.getViewBox().slice(0),r=n,o=n[2],a=n[3];!0===e?(n[2]=n[2]/y.SCALE_FACTOR,n[3]=n[3]/y.SCALE_FACTOR):!1===e?(n[2]=n[2]*y.SCALE_FACTOR,n[3]=n[3]*y.SCALE_FACTOR):(n[2]=n[2]/e,n[3]=n[3]/e),t||(t=[50,50]),n[0]=r[0]-(n[2]-o)/(100/t[0]),n[1]=r[1]-(n[3]-a)/(100/t[1]);var l=this.getScale(n);if(n[2]=this.width()/l,n[3]=this.height()/l,!0===e&&l<this.config.scaleMax||!1===e&&l>this.config.scaleMin||0!=e&&1!=e&&l<this.config.scaleMax&&l>this.config.scaleMin){this._hideBeforeAnimation();var s=this;i?(clearTimeout(s._timeout),y.anim(this.getSvg(),{viewbox:this.getViewBox()},{viewbox:n},this.config.anim.duration,this.config.anim.func,(function(){clearTimeout(s._timeout),s._timeout=setTimeout((function(){s._draw(!0,y.action.zoom)}),500)}))):(this.setViewBox(n),clearTimeout(s._timeout),s._timeout=setTimeout((function(){s._draw(!0,y.action.zoom)}),500))}},y.loading={},y.loading.show=function(e){var t=document.createElement("div");t.id="bg-loading",t.innerHTML='<style>@-webkit-keyframes dot-keyframes {0% { opacity: .4; -webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}@keyframes dot-keyframes {0% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}.bg-loading-dots div {margin: 10px;}      .bg-dot-1 {background-color: #039BE5;}.bg-dot-2 {background-color: #F57C00;}.bg-dot-3 {background-color: #FFCA28;}      .bg-loading-dots {text-align: center;width: 100%; position: absolute; top: 0;}.bg-loading-dots--dot {-webkit-animation: dot-keyframes 1.5s infinite ease-in-out;animation: dot-keyframes 1.5s infinite ease-in-out;        border-radius: 10px;display: inline-block;height: 10px;width: 10px;}.bg-loading-dots--dot:nth-child(2) {-webkit-animation-delay: .5s;animation-delay: .5s;}.bg-loading-dots--dot:nth-child(3) {-webkit-animation-delay: 1s;animation-delay: 1s;}</style><div class="bg-loading-dots"><div class="bg-loading-dots--dot bg-dot-1"></div><div class="bg-loading-dots--dot bg-dot-2"></div><div class="bg-loading-dots--dot bg-dot-3"></div></div>',e.element.appendChild(t)},y.loading.hide=function(e){var t=e.element.querySelector("#bg-loading");t&&t.parentNode.removeChild(t)},y.pdfPrevUI={},y.loc||(y.loc={}),y.loc.ppdfCmdTitle="PDF Preview",y.loc.ppdfSave="Save",y.loc.ppdfCancel="Cancel",y.loc.ppdfFormat="Format",y.loc.ppdfFitToDrwaing="Fit",y.loc.ppdfA4="A4",y.loc.ppdfA3="A3",y.loc.ppdfA2="A2",y.loc.ppdfA1="A1",y.loc.ppdfLetter="Letter",y.loc.ppdfLegal="Legal",y.loc.ppdfLayout="Layout",y.loc.ppdfPortrait="Portrait",y.loc.ppdfLandscape="Landscape",y.loc.ppdfFittopagewidth="Fit to page width",y.loc.ppdfMargin="Margin",y.loc.ppdfHeader="Header",y.loc.ppdfFooter="Footer",y.loc.ppdfScale="Scale",y.pdfPrevUI.show=function(e,t){t=e._defaultExportOptions(t,"pdf");var i=document.createElement("div");i.id="bg-ppdf-btns",Object.assign(i.style,{position:"absolute",top:0,left:0,"background-color":"#fff","z-index":5,margin:"0 0 0 -250px","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",width:"250px",height:"100%","font-family":"Roboto,Helvetica",color:"#757575","text-align":"right",padding:"10px"}),e.element.appendChild(i),i.innerHTML="<h1>"+y.loc.ppdfCmdTitle+'</h1><div><button type="button" id="bg-prev-save" style="font-size: 14px; width: 90px;">'+y.loc.ppdfSave+'</button>&nbsp;<button type="button" id="bg-prev-cancel" style="width: 90px;font-size: 14px;">'+y.loc.ppdfCancel+'</button></div><div style="margin-top:30px; height:10px;border-bottom:1px solid #eeeeee;"></div><div style="padding-top:30px;"><label for="bg-size">'+y.loc.ppdfFormat+': </label><select id="bg-ppdf-size" style="color: #757575; width: 150px; font-size: 14px;" id="bg-size"><option value="fit">'+y.loc.ppdfFitToDrwaing+'</option><option value="A4">'+y.loc.ppdfA4+'</option><option value="A3">'+y.loc.ppdfA3+'</option><option value="A2">'+y.loc.ppdfA2+'</option><option value="A1">'+y.loc.ppdfA1+'</option><option value="Letter">'+y.loc.ppdfLetter+'</option><option value="Legal">'+y.loc.ppdfLegal+'</option></select></div><div style="padding-top:10px;"><label for="bg-ppdf-layout">'+y.loc.ppdfLayout+': </label><select id="bg-ppdf-layout" style="color: #757575; width: 150px;font-size: 14px;" ><option value="false">'+y.loc.ppdfPortrait+'</option><option value="true">'+y.loc.ppdfLandscape+'</option></select></div><div style="padding-top:10px;"><label for="bg-scale">'+y.loc.ppdfScale+': </label><select id="bg-ppdf-scale" style="color: #757575; width: 150px;font-size: 14px;" id="bg-scale"><option value="fit">'+y.loc.ppdfFittopagewidth+'</option><option value="10">10%</option><option value="20">20%</option><option value="30">30%</option><option value="40">40%</option><option value="50">50%</option><option value="60">60%</option><option value="70">70%</option><option value="80">80%</option><option value="90">90%</option><option value="100">100%</option><option value="110">110%</option><option value="120">120%</option><option value="130">130%</option><option value="140">140%</option><option value="150">150%</option><option value="160">160%</option><option value="170">170%</option><option value="180">180%</option><option value="190">190%</option><option value="200">200%</option></select></div><div style="margin-top:10px;margin-bottom:10px; height:10px;border-bottom:1px solid #eeeeee;"></div><div style="padding-top:10px;"><label for="bg-ppdf-header">'+y.loc.ppdfHeader+': </label><input id="bg-ppdf-header" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div><div style="padding-top:10px;"><label for="bg-ppdf-footer">'+y.loc.ppdfFooter+': </label><input id="bg-ppdf-footer" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div><div style="padding-top:10px;"><label for="bg-ppdf-margin">'+y.loc.ppdfMargin+': </label><input id="bg-ppdf-margin" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div>';var n=document.createElement("div");n.id="bg-ppdf-wrapper",Object.assign(n.style,{"overflow-y":"scroll",position:"absolute",top:0,left:"270px","background-color":"#eee",width:e.width()-270+"px",height:"100%"}),e.element.appendChild(n),n.innerHTML='<div id="bg-ppdf-content" style="width: 100%;margin-top:10px;margin-bottom:10px;opacity:0;"></div>';var r,o,a,l=e.element.querySelector("#bg-ppdf-size"),s=e.element.querySelector("#bg-ppdf-layout"),d=e.element.querySelector("#bg-ppdf-scale"),c=e.element.querySelector("#bg-ppdf-margin"),p=e.element.querySelector("#bg-ppdf-header"),h=e.element.querySelector("#bg-ppdf-footer");l.value=t.format,s.value=t.landscape,d.value=t.scale,c.value=t.margin,p.value=t.header,h.value=t.footer,y.anim(e.element.querySelector("#bg-ppdf-btns"),{margin:[0,0,0,-250]},{margin:[0,0,0,0]},300,y.anim.outSin,(function(){e.exportPDF(t,y.pdfPrevUI._handler)})),e.element.querySelector("#bg-prev-cancel").addEventListener("click",(function(){y.pdfPrevUI.hide(e)})),e.element.querySelector("#bg-prev-save").addEventListener("click",(function(){e.exportPDF(t),y.pdfPrevUI.hide(e)})),y.pdfPrevUI._showHide(l,s,d),l.addEventListener("change",(function(){y.anim(e.element.querySelector("#bg-ppdf-content"),{opacity:1},{opacity:0},300,y.anim.inSin,(function(){e.element.querySelector("#bg-ppdf-content").innerHTML="",t.format=l.value,e.exportPDF(t,y.pdfPrevUI._handler),y.pdfPrevUI._showHide(l,s,d)}))})),s.addEventListener("change",(function(){y.anim(e.element.querySelector("#bg-ppdf-content"),{opacity:1},{opacity:0},300,y.anim.inSin,(function(){e.element.querySelector("#bg-ppdf-content").innerHTML="",t.landscape="true"==s.value,e.exportPDF(t,y.pdfPrevUI._handler),y.pdfPrevUI._showHide(l,s,d)}))})),d.addEventListener("change",(function(){y.anim(e.element.querySelector("#bg-ppdf-content"),{opacity:1},{opacity:0},300,y.anim.inSin,(function(){e.element.querySelector("#bg-ppdf-content").innerHTML="",t.scale=d.value,e.exportPDF(t,y.pdfPrevUI._handler),y.pdfPrevUI._showHide(l,s,d)}))})),c.addEventListener("keyup",(function(){clearTimeout(r),r=setTimeout((function(){y.anim(e.element.querySelector("#bg-ppdf-content"),{opacity:1},{opacity:0},300,y.anim.inSin,(function(){e.element.querySelector("#bg-ppdf-content").innerHTML="";var i=c.value.split(",");if(4==i.length){for(var n=0;n<i.length;n++)i[n]=parseInt(i[n]);t.margin=i,e.exportPDF(t,y.pdfPrevUI._handler)}}))}),1e3)})),p.addEventListener("keyup",(function(){clearTimeout(o),o=setTimeout((function(){y.anim(e.element.querySelector("#bg-ppdf-content"),{opacity:1},{opacity:0},300,y.anim.inSin,(function(){e.element.querySelector("#bg-ppdf-content").innerHTML="",t.header=p.value,e.exportPDF(t,y.pdfPrevUI._handler)}))}),1e3)})),h.addEventListener("keyup",(function(){clearTimeout(a),a=setTimeout((function(){y.anim(e.element.querySelector("#bg-ppdf-content"),{opacity:1},{opacity:0},300,y.anim.inSin,(function(){e.element.querySelector("#bg-ppdf-content").innerHTML="",t.footer=h.value,e.exportPDF(t,y.pdfPrevUI._handler)}))}),1e3)}))},y.pdfPrevUI._showHide=function(e,t,i){"A4"==e.value||"A3"==e.value||"A2"==e.value||"A1"==e.value||"Letter"==e.value||"Legal"==e.value?(t.parentNode.style.display="block",i.parentNode.style.display="block"):(t.parentNode.style.display="none",i.parentNode.style.display="none")},y.pdfPrevUI._handler=function(e,t,i){var n=t.options,r=t.pages,o=n.margin[0],a=n.margin[2],l=document.createElement("div");l.innerHTML=i.outerHTML,y._browser().msie&&(l.innerHTML=(new XMLSerializer).serializeToString(i));for(var s=l.querySelector("svg"),d=e.element.querySelector("#bg-ppdf-content"),c=0;c<r.length;c++){var p=document.createElement("iframe");Object.assign(p.style,{display:"block",margin:"10px auto",border:"1px solid #eeeeee","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}),d.appendChild(p),s&&s.style.backgroundColor?p.style.backgroundColor=s.style.backgroundColor:p.style.backgroundColor="#fff";var h=p.contentWindow.document;h.open(),p.style.width=r[c].size.w+"px",p.style.height=r[c].size.h+"px",p.style.margin="10 auto",r[c].backgroundColor&&(p.style.backgroundColor=r[c].backgroundColor);var f=n.header;r[c].header&&(f=r[c].header),f&&(f=f.replace("{current-page}",c+1).replace("{total-pages}",r.length));var u=n.footer;r[c].footer&&(u=r[c].footer),u&&(u=u.replace("{current-page}",c+1).replace("{total-pages}",r.length)),r[c].html?h.write(y._exportHtml(r[c].html+t.styles,n,r[c].innerSize.w,r[c].innerSize.h,f,u)):(s.setAttribute("viewBox",r[c].vb),h.write(y._exportHtml(l.innerHTML+t.styles,n,r[c].innerSize.w,r[c].innerSize.h,f,u)));var g=h.getElementById("bg-header"),m=h.getElementById("bg-footer");if(g){var x=o-g.offsetHeight-7;g.style.top=x+"px"}if(m){var v=a-m.offsetHeight-7;m.style.bottom=v+"px"}h.close()}var b=e.element.querySelector("#bg-ppdf-content");y.anim(b,{opacity:0},{opacity:1},300,y.anim.outSin)},y.pdfPrevUI._getViewBox=function(e){var t=null;return e?(t=(t="["+(t=e.getAttribute("viewBox"))+"]").replace(/\ /g,","),t=JSON.parse(t)):null},y._exportHtml=function(e,t,i,n,r,o){for(var a="",l=0;l<t.margin.length;l++)a+=t.margin[l]+"px ";var s='<!DOCTYPE html><html style="margin:0;padding:0;"><head></head><body style="margin:0; padding:0;"><div style="margin: '+a+";overflow:hidden;width:"+i+"px;height:"+n+'px">';return r&&(s+='<div id="bg-header" style="width:'+i+"px;color:#757575;position:absolute;left:"+t.margin[3]+'px;top:0;">'+r+"</div>"),s+=e,o&&(s+='<div id="bg-footer" style="width:'+i+"px;color:#757575;position:absolute;left:"+t.margin[3]+'px;bottom:0;">'+o+"</div>"),s+="</div>",s+"</body></html>"},y.pdfPrevUI.hide=function(e){var t=e.element.querySelector("#bg-ppdf-wrapper");t&&y.anim(t,{opacity:1},{opacity:0},300,y.anim.inSin,(function(){t.parentNode.removeChild(t);var i=e.element.querySelector("#bg-ppdf-btns");y.anim(i,{margin:[0,0,0,0]},{margin:[0,0,0,-280]},300,y.anim.inSin,(function(){i.parentNode.removeChild(i)}))}))},void 0===y&&(y={}),y.events.on("renderdefs",(function(e,t){for(var i=0;i<e.config.clinks.length;i++){var n=e.config.clinks[i].template;n||(n="orange");var r=y.clinkTemplates[n];t.defs+=r.defs}})),y.events.on("render",(function(e,t){e._clink(e,t)})),y.prototype._clink=function(e,t){for(var i,n,r,o,a,l="",s=0;s<this.config.clinks.length;s++){var d=this.config.clinks[s];if(-1!=t.res.visibleNodeIds.indexOf(d.from)&&-1!=t.res.visibleNodeIds.indexOf(d.to)){var c=e.getNode(d.from),p=e.getNode(d.to),h=c.x,f=c.y,u=p.x,g=p.y,m={},x={},v=h+c.w/2,b=u+p.w/2,w=f+c.h/2,_=g+p.h/2,k=1;switch(this.config.orientation){case y.orientation.top:case y.orientation.top_left:v<=b?(k=1,m.x=v+c.w/10,x.x=b-p.w/10):(k=-1,m.x=v-c.w/10,x.x=b+p.w/10),f==g?(k=1,m.y=f,x.y=g):g<f?(m.y=f,x.y=g+p.h):(m.y=f+c.h,x.y=g);break;case y.orientation.bottom:case y.orientation.bottom_left:m.x=v<=b?(k=-1,v+c.w/10):(k=1,v-c.w/10),x.x=b+p.w/10,f==g?(k=-1,m.y=f+c.h,x.y=g+p.h):g<f?(m.y=f,x.y=g+p.h):(m.y=f+c.h,x.y=g);break;case y.orientation.left:case y.orientation.left_top:m.y=w<=_?(k=-1,w+c.h/5):(k=1,w-c.h/5),x.y=_+p.h/5,h==u?(k=-1,m.x=h,x.x=u):u<h?(m.x=h,x.x=u+p.w):(m.x=h+c.w,x.x=u);break;case y.orientation.right:case y.orientation.right_top:m.y=w<=_?(k=1,w+c.h/5):(k=-1,w-c.h/5),x.y=_+p.h/5,h==u?(k=1,m.x=h+c.w,x.x=u+p.w):u<h?(m.x=h,x.x=u+p.w):(m.x=h+c.w,x.x=u)}var S=E(m,x,k),C=d.template;C||(C="orange");var I=y.clinkTemplates[C];l+='<g c-link-from="{from}" c-link-to="{to}">'.replace("{from}",c.id).replace("{to}",p.id)+I.link.replaceAll("{d}","M{a.x},{a.y} C{a.x},{a.y} {c.x},{c.y} {b.x},{b.y}").replaceAll("{b.x}",x.x).replaceAll("{b.y}",x.y).replaceAll("{a.x}",m.x).replaceAll("{a.y}",m.y).replaceAll("{c.x}",S.x).replaceAll("{c.y}",S.y);var A=(i=m,r=S,o=((n=x).x-i.x)/2+i.x,a=(n.y-i.y)/2+i.y,{x:(o-r.x)/2+r.x,y:(a-r.y)/2+r.y});d.label&&(l+=I.label.replace("{x}",A.x).replace("{y}",A.y).replace("{val}",d.label)),l+=y.grCloseTag}function E(e,t,i){null==i&&(i=1);var n=t.x-e.x,r=t.y-e.y,o=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))/3;return o=o/(Math.sqrt(n*n+r*r)*i)*y.CLINK_CURVE,{x:e.x+n/2-r*o,y:e.y+r/2+n*o}}}t.content+=l},y.prototype.addClink=function(e,t,i,n){return this.removeClink(e,t),this.config.clinks.push({from:e,to:t,label:i,template:n}),this},y.prototype.removeClink=function(e,t){for(var i=this.config.clinks.length-1;0<=i;i--){var n=this.config.clinks[i];n.from==e&&n.to==t&&this.config.clinks.splice(i,1)}return this},y.clinkTemplates={},y.clinkTemplates.orange={defs:'<marker id="arrowOrange" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#F57C00" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotOrange" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#F57C00" /></marker>',link:'<path marker-start="url(#dotOrange)" marker-end="url(#arrowOrange)" stroke="#F57C00" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#F57C00" text-anchor="middle" x="{x}" y="{y}">{val}</text>'},y.clinkTemplates.blue={defs:'<marker id="arrowBlue" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#039BE5" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotBlue" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#039BE5" /></marker>',link:'<path marker-start="url(#dotBlue)" marker-end="url(#arrowBlue)" stroke="#039BE5" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#039BE5"  text-anchor="middle" x="{x}" y="{y}">{val}</text>'},y.clinkTemplates.yellow={defs:'<marker id="arrowYellow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#FFCA28" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotYellow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#FFCA28" /></marker>',link:'<path marker-start="url(#dotYellow)" marker-end="url(#arrowYellow)" stroke="#FFCA28" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#FFCA28"  text-anchor="middle" x="{x}" y="{y}">{val}</text>'},void 0===y&&(y={}),y.events.on("renderdefs",(function(e,t){for(var i=0;i<e.config.slinks.length;i++){var n=e.config.slinks[i].template;n||(n="orange");var r=y.slinkTemplates[n];t.defs+=r.defs}})),y.events.on("render",(function(e,t){e._slinks(e,t)})),y.prototype._slinks=function(e,t){var i="",n=this.getScale(),r=t.res.boundary;function o(o,a,s){var d=[],c=null,p="left",h=o.lcn?o.lcn:"base",f=e._layoutConfigs[h];switch(f.orientation){case y.orientation.top:case y.orientation.top_left:case y.orientation.bottom:case y.orientation.bottom_left:a.x>o.x&&(p="right");break;case y.orientation.left:case y.orientation.left_top:case y.orientation.right:case y.orientation.right_top:p="top",a.y>o.y&&(p="bottom")}var u=y.t(o.templateName,o.min,n),g=f.levelSeparation;(o.parent&&o.parent.layout==y.mixed||o.parent&&o.parent.layout==y.tree)&&(g=f.mixedHierarchyNodesSeparation);var m={p:o.x+o.w/2+u.expandCollapseSize,q:o.y,r:o.x+o.w/2+u.expandCollapseSize,s:r.minY+g};if(o.level==a.level)switch(c=a,f.orientation){case y.orientation.top:case y.orientation.top_left:d.push([m.p,m.q]),d.push([m.p,m.q-g/3]),u=y.t(c.templateName,c.min,n),d.push([c.x+c.w/2+u.expandCollapseSize,d[d.length-1][1]]),d.push([d[d.length-1][0],c.y]);break;case y.orientation.bottom:case y.orientation.bottom_left:m.q=o.y+o.h,m.s=r.maxY-g,d.push([m.p,m.q]),d.push([m.r,o.y+o.h+g/3]),u=y.t(c.templateName,c.min,n),d.push([c.x+c.w/2+u.expandCollapseSize,d[d.length-1][1]]),d.push([d[d.length-1][0],c.y+c.h]);break;case y.orientation.left:case y.orientation.left_top:m.p=o.x,m.q=o.y+o.h/2+u.expandCollapseSize,m.r=r.minX-g,m.s=o.y+o.h/2+u.expandCollapseSize,d.push([m.p,m.q]),d.push([o.x-g/3,m.q]),u=y.t(c.templateName,c.min,n),d.push([d[d.length-1][0],c.y+c.h/2+u.expandCollapseSize]),d.push([c.x,d[d.length-1][1]]);break;case y.orientation.right:case y.orientation.right_top:m.p=o.x+o.w,m.q=o.y+o.h/2+u.expandCollapseSize,m.r=r.maxX+g,m.s=o.y+o.h/2+u.expandCollapseSize,d.push([m.p,m.q]),d.push([o.x+o.w+g/3,m.q]),u=y.t(c.templateName,c.min,n),d.push([d[d.length-1][0],c.y+c.h/2+u.expandCollapseSize]),d.push([c.x+c.w,d[d.length-1][1]])}else{switch(f.orientation){case y.orientation.top:case y.orientation.top_left:d.push([m.p,m.q]),d.push([m.r,o.y-g/3]);break;case y.orientation.bottom:case y.orientation.bottom_left:m.q=o.y+o.h,m.s=r.maxY-g,d.push([m.p,m.q]),d.push([m.r,o.y+o.h+g/3]);break;case y.orientation.left:case y.orientation.left_top:m.p=o.x,m.q=o.y+o.h/2+u.expandCollapseSize,m.r=r.minX-g,m.s=o.y+o.h/2+u.expandCollapseSize,d.push([m.p,m.q]),d.push([o.x-g/3,m.q]);break;case y.orientation.right:case y.orientation.right_top:m.p=o.x+o.w,m.q=o.y+o.h/2+u.expandCollapseSize,m.r=r.maxX+g,m.s=o.y+o.h/2+u.expandCollapseSize,d.push([m.p,m.q]),d.push([o.x+o.w+g/3,m.q])}for(var x=o;null==c;){var v=!1,b=x.parent,w=b.leftNeighbor,_=b.rightNeighbor;if(b.id==a.id?c=b:y._intersects(b,m,e.config)&&(m=y._addPoint(b,d,e.config,m,p),v=!0),b.id!=a.id){for(;w;){if(w.id==a.id){c=w;break}y._intersects(w,m,e.config)&&(m=y._addPoint(w,d,e.config,m,p),v=!0),w=w.leftNeighbor}for(;_;){if(_.id==a.id){c=_;break}y._intersects(_,m,e.config)&&(m=y._addPoint(_,d,e.config,m,p),v=!0),_=_.rightNeighbor}}if(!v){var k=d[d.length-1][0],S=0;if(b.parent)switch(g=f.levelSeparation,b.parent.layout!=y.mixed&&b.parent.layout!=y.tree||(g=f.mixedHierarchyNodesSeparation),f.orientation){case y.orientation.top:case y.orientation.top_left:S=b.parent.y+b.parent.h+g*(2/3);break;case y.orientation.bottom:case y.orientation.bottom_left:S=b.parent.y-g*(2/3);break;case y.orientation.left:case y.orientation.left_top:k=b.parent.x+b.parent.w+g*(2/3),S=d[d.length-1][1];break;case y.orientation.right:case y.orientation.right_top:k=b.parent.x-g*(2/3),S=d[d.length-1][1]}d.push([k,S])}x=b}switch(u=y.t(c.templateName,c.min,n),d.splice(d.length-1,1),f.orientation){case y.orientation.top:case y.orientation.top_left:d.push([c.x+c.w/2+u.expandCollapseSize,d[d.length-1][1]]),d.push([d[d.length-1][0],c.y+c.h]);break;case y.orientation.bottom:case y.orientation.bottom_left:d.push([c.x+c.w/2+u.expandCollapseSize,d[d.length-1][1]]),d.push([d[d.length-1][0],c.y]);break;case y.orientation.left:case y.orientation.left_top:d.push([d[d.length-1][0],c.y+c.h/2+u.expandCollapseSize]),d.push([c.x+c.w,d[d.length-1][1]]);break;case y.orientation.right:case y.orientation.right_top:d.push([d[d.length-1][0],c.y+c.h/2+u.expandCollapseSize]),d.push([c.x,d[d.length-1][1]])}}var C=l.template;C||(C="orange");var I=null;switch((u=y.slinkTemplates[C]).labelPosition){case"start":I={x:d[1][0],y:d[1][1]};break;case"middle":var A=Math.ceil(d.length/2);I=function(e,t){return{x:(e[0]+t[0])/2,y:(e[1]+t[1])/2}}(d[A],d[A-1]);break;case"end":I={x:d[d.length-2][0],y:d[d.length-2][1]}}s&&(d=d.reverse()),d[0]="M"+d[0].join(",");for(var E=1;E<d.length;E++)d[E]="L"+d[E].join(",");var L=d.join(" ");if(i+='<g c-link-from="{from}" c-link-to="{to}">'.replace("{from}",o.id).replace("{to}",a.id)+u.link.replaceAll("{d}",L),l.label){var M=u.label.replace("{x}",I.x).replace("{y}",I.y).replace("{val}",l.label),N=y._getLabelSize(M),T=-N.height/2;switch(f.orientation){case y.orientation.bottom:case y.orientation.bottom_left:T=N.height}i+=u.label.replace("{x}",I.x).replace("{y}",I.y+T).replace("{val}",l.label)}i+=y.grCloseTag,t.content+=i}for(var a=0;a<this.config.slinks.length;a++){var l=this.config.slinks[a];if(-1!=t.res.visibleNodeIds.indexOf(l.from)&&-1!=t.res.visibleNodeIds.indexOf(l.to)){var s=e.getNode(l.from),d=e.getNode(l.to);s.level>=d.level?o(s,d,!1):o(d,s,!0)}}},y.prototype.addSlink=function(e,t,i,n){return this.removeClink(e,t),this.config.slinks.push({from:e,to:t,label:i,template:n}),this},y.prototype.removeSlink=function(e,t){for(var i=this.config.slinks.length-1;0<=i;i--){var n=this.config.slinks[i];n.from==e&&n.to==t&&this.config.slinks.splice(i,1)}return this},y.slinkTemplates={},y.slinkTemplates.orange={defs:'<marker id="arrowSlinkOrange" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#F57C00" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkOrange" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#F57C00" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkOrange)" marker-end="url(#arrowSlinkOrange)" stroke-linejoin="round" stroke="#F57C00" stroke-width="2" fill="none" d="{d}" />',label:'<text dominant-baseline="middle" fill="#F57C00" alignment-baseline="middle" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},y.slinkTemplates.blue={defs:'<marker id="arrowSlinkBlue" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#039BE5" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkBlue" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#039BE5" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkBlue)" marker-end="url(#arrowSlinkBlue)" stroke-linejoin="round" stroke="#039BE5" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#039BE5" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},y.slinkTemplates.yellow={defs:'<marker id="arrowSlinkYellow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#FFCA28" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkYellow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#FFCA28" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkYellow)" marker-end="url(#arrowSlinkYellow)" stroke-linejoin="round" stroke="#FFCA28" stroke-width="2" fill="none" d="{d}" />',label:'<text  fill="#FFCA28" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},y.events.on("redraw",(function(e,t){if(e.config.miniMap){var i=y.miniMap._getCanvas(e),n=i.getContext("2d");i.width=i.width,i.height=i.height;var r=e.response.boundary.maxX-e.response.boundary.minX,o=e.response.boundary.maxY-e.response.boundary.minY,a=Math.min(i.width/r,i.height/o),l=(i.width-r*a)/2,s=(i.height-o*a)/2;n.clearRect(0,0,i.width,i.height),n.translate(-e.response.boundary.minX*a+l,-e.response.boundary.minY*a+s),n.scale(a,a);var d=0,c=[];!function e(t,i){if(Array.isArray(i))for(var r=0;r<i.length;r++)e(t,i[r]);else{for(n.fillStyle=y.miniMap.colors[3],n.beginPath(),n.lineWidth="0.5",n.fillRect(i.x,i.y,i.w,i.h),n.strokeRect(i.x,i.y,i.w,i.h),r=0;r<i.stChildrenIds.length;r++)d++,c.includes(i.id)||(1==d?n.fillStyle=y.miniMap.colors[0]:2==d?n.fillStyle=y.miniMap.colors[1]:3==d&&(n.fillStyle=y.miniMap.colors[2]),n.beginPath(),n.fillRect(i.x,i.y,i.w,i.h),n.strokeRect(i.x,i.y,i.w,i.h),c.push(i.id)),e(t,t.getNode(i.stChildrenIds[r])),d--;for(r=0;r<i.childrenIds.length;r++)e(t,t.getNode(i.childrenIds[r]))}}(e,e.roots);var p=e.getViewBox()[0],h=e.getViewBox()[1],f=e.getViewBox()[2],u=e.getViewBox()[3];n.lineWidth=.5/a,n.strokeStyle="#f57c00",n.strokeRect(p,h,f,u),n.globalAlpha=.4,n.fillStyle=y.miniMap.selectorBackgroundColor,n.fillRect(p,h,f,u)}})),y.miniMap={},y.miniMap._getCanvas=function(e){if(!(t=e.element.querySelector('[data-id="mini-map"]'))){var t;(t=document.createElement("canvas")).width=250,t.height=140,t.setAttribute("data-id","mini-map"),t.style.display="inline-block",t.style.backgroundColor=y.miniMap.backgroundColor;var i=document.createElement("div");i.style.position="absolute",i.style.bottom="10px",i.style.left="10px",i.style.border="1px solid #aeaeae",i.style.padding="5px",i.style.margin=e.config.padding+"px",i.style.backgroundColor=y.miniMap.backgroundColor,i.appendChild(t),e.element.appendChild(i)}return t},y.miniMap.colors=["#E0E0E0","#BDBDBD","#9E9E9E","#757575"],y.miniMap.selectorBackgroundColor="white",y.miniMap.backgroundColor="white",y._search={},y._search.search=function(e,t,i,n,r,o){var a=[],l=t.toLowerCase().split(" ");l=l.filter((function(e,t,i){return i.indexOf(e)===t}));for(var s={},d=0;d<e.length;d++)for(var c=e[d],p=0;p<i.length;p++){var h=i[p];if(!y.isNullOrEmpty(c[h])){var f=c[h];if(null!=(t=y._search.searchAndComputeScore(l,f,h,o))){var u=c.id;if(s[u]){if(s[u]&&s[u]<t.__score){s[u]=t.__score;for(var g=a.length-1;0<=g;g--)a[g].id==u&&a.splice(g,1);y._search.addNodeToResult(a,n,c,t,h,r)}}else s[u]=t.__score,y._search.addNodeToResult(a,n,c,t,h,r)}}}return a.sort((function(e,t){return e.__score<t.__score?1:e.__score>t.__score?-1:0})),a},y._search.addNodeToResult=function(e,t,i,n,r,o){var a={};a.id=i.id,y.isNullOrEmpty(i[o])||(a[o]=i[o]);for(var l=0;l<t.length;l++){var s=t[l];y.isNullOrEmpty(i[s])||y.isNullOrEmpty(a[s])&&(a[s]=i[s])}null!=n&&(y.isNullOrEmpty(a.__score)&&(a.__score=n.__score),y.isNullOrEmpty(a.__searchField)&&(a.__searchField=r),y.isNullOrEmpty(a.__searchMarks)&&(a.__searchMarks=n.__searchMarks)),e.push(a)},y._search.searchAndComputeScore=function(e,t,i,n){if(y.isNullOrEmpty(t))return null;if(y.isNullOrEmpty(e))return null;if(!e.length)return null;"string"!=typeof t&&(t=t.toString());var r=t.toLowerCase(),o=y._search.searchIndexesOf(r,e);if(!o.length)return null;var a=r.length/100,l=0,s=0,d=0<l?100:0;if(o.length){s=o[0].start;for(var c=0;c<o.length;c++)if(l+=o[c].length,o[c].start<s&&(s=o[c].start),1<=c&&o[c-1].start>o[c].start){d=0;break}}var p=0;0!=l&&(p=l/a);var h=0<l?100:0;0!=s&&(h=100-s/a);var f=0;n&&n[i]&&(f=n[i]),0<p&&(p=p/100*20),0<h&&(h=h/100*20),0<d&&(d=d/100*20),0<f&&(f=f/100*40);var u=parseInt(p+h+d+f);100<u&&(u=100),o.sort((function(e,t){return e.start<t.start?-1:e.start>t.start?1:0}));var g=t;for(c=o.length-1;0<=c;c--)g=(g=g.insert(o[c].start+o[c].length,"</mark>")).insert(o[c].start,"<mark>");return{__searchMarks:g,__score:u}},y._search.searchIndexesOf=function(e,t){var i=[];if(!y.isNullOrEmpty(e))for(var n=0;n<t.length;n++){var r=t[n];if(!y.isNullOrEmpty(r))for(var o=0;-1<(o=e.indexOf(r,o));)i.push({length:r.length,start:o}),o+=r.length}return i.sort((function(e,t){return e.length<t.length?1:e.length>t.length||e.start<t.start?-1:e.start>t.start?1:0})),i=i.filter((function(e){for(var t=!1,n=0;n<i.length;n++){var r=i[n].start,o=i[n].start+i[n].length-1,a=e.start,l=e.start+e.length-1;if(r==a&&o==l){t=!1;break}if(a<=r&&o<=l){t=!0;break}if(r<=a&&l<=o){t=!0;break}}return!t}))},y.events.on("redraw",(function(e,t){if(e.config.state){var i=[],n=[];!function e(t){if(Array.isArray(t))for(var r=0;r<t.length;r++)e(t[r]);else{for(("string"!=typeof t.id||"string"==typeof t.id&&-1==t.id.indexOf("split")&&-1==t.id.indexOf("mirror"))&&(i.push(t.id),1==t.min&&n.push(t.id)),r=0;r<t.stChildren.length;r++)e(t.stChildren[r]);for(r=0;r<t.children.length;r++)e(t.children[r])}}(e.roots),y.state._put(e.width(),e.height(),e.response.viewBox,i,n,e.response.adjustify,e.config.state)}})),y.state={},y.state._buildStateNames=function(e){return{paramScale:e+"-scale",paramX:e+"-x",paramY:e+"-y",paramExp:e+"-exp",paramMin:e+"-min",paramAdjustify:e+"-adjustify"}},y.state._put=function(e,t,i,n,r,o,a){if(a){var l=y.state._buildStateNames(a.name),s={scale:Math.min(e/i[2],t/i[3]),x:i[0],y:i[1],exp:n,min:r,adjustify:o};if(a.writeToUrlParams){var d=new URLSearchParams(window.location.search);d.has(l.paramScale)?d.set(l.paramScale,s.scale):d.append(l.paramScale,s.scale),d.has(l.paramX)?d.set(l.paramX,s.x):d.append(l.paramX,s.x),d.has(l.paramY)?d.set(l.paramY,s.y):d.append(l.paramY,s.y),d.has(l.paramExp)?d.set(l.paramExp,s.exp.join("*")):d.append(l.paramExp,s.exp.join("*")),d.has(l.paramMin)?d.set(l.paramMin,s.min.join("*")):d.append(l.paramMin,s.min.join("*")),d.has(l.paramAdjustify)?d.set(l.paramAdjustify,s.adjustify.x+"*"+s.adjustify.y):d.append(l.paramAdjustify,s.adjustify.x+"*"+s.adjustify.y),window.history.replaceState(null,null,"?"+d)}a.writeToIndexedDB&&(s.id=a.name,y.idb.put(s,(function(e){0==e&&console.error("Cannot write row - "+a.name)}))),a.writeToLocalStorage&&y.localStorage.setItem(a.name,JSON.stringify(s))}},y.state._get=function(e,t,i,n){if(e){var r=y.state._buildStateNames(e.name);if(e.readFromUrlParams){var o=new URLSearchParams(window.location.search);if(o.has(r.paramScale)&&o.has(r.paramX)&&o.has(r.paramY)&&o.has(r.paramExp)&&o.has(r.paramMin)&&o.has(r.paramAdjustify)){var a={},l=parseFloat(o.get(r.paramScale)),s=parseFloat(o.get(r.paramX)),d=parseFloat(o.get(r.paramY));(p=[])[0]=s,p[1]=d,p[2]=t/l,p[3]=i/l,a.vb=p,a.scale=l,a.x=s,a.y=d,a.exp=o.get(r.paramExp).split("*"),a.min=o.get(r.paramMin).split("*");var c=o.get(r.paramAdjustify).split("*");return a.adjustify={x:parseFloat(c[0]),y:parseFloat(c[1])},void n(a)}if(!e.readFromIndexedDB&&!e.readFromLocalStorage)return void n(null)}if(e.readFromLocalStorage){var p;if(null!=(a=y.localStorage.getItem(e.name)))return a=JSON.parse(a),(p=[])[0]=a.x,p[1]=a.y,p[2]=t/a.scale,p[3]=i/a.scale,a.vb=p,void n(a);if(!e.readFromIndexedDB)return void n(null)}e.readFromIndexedDB&&y.idb.read(e.name,(function(r,o){if(0==r)console.error("Cannot read from - "+e.name),n(null);else if(null==r)n(null);else{var a=[];a[0]=o.x,a[1]=o.y,a[2]=t/o.scale,a[3]=i/o.scale,o.vb=a,n(o)}}))}else n(null)},y.state.clear=function(e){if(!e)return!1;var t=y.state._buildStateNames(e),i=new URLSearchParams(window.location.search);i.has(t.paramScale)&&i.delete(t.paramScale),i.has(t.paramX)&&i.delete(t.paramX),i.has(t.paramY)&&i.delete(t.paramY),i.has(t.paramExp)&&i.delete(t.paramExp),i.has(t.paramMin)&&i.delete(t.paramMin),i.has(t.paramAdjustify)&&i.delete(t.paramAdjustify),window.history.replaceState(null,null,"?"+i),y.idb.delete(e,(function(t){0==t&&console.error("Cannot delete row - "+e)}))},y._magnify={},y.prototype.magnify=function(e,t,i,n,r){n||(n=this.config.anim);var o=this.getNode(e),a=this.getNodeElement(e);if(o||a){var l=y._magnify[e];l&&(null!=l.timer&&clearInterval(l.timer),null!=l.timerBack&&clearInterval(l.timerBack),a.setAttribute("transform","matrix("+l.transformStart.toString()+")"),y._magnify[e]),i&&(a=a.cloneNode(!0),this.getSvg().appendChild(a));var s=y._getTransform(a),d=JSON.parse(JSON.stringify(s));d[0]=t,d[3]=t;var c=o.w+o.w*(t-1),p=o.h+o.h*(t-1);d[4]+=(o.w-c)/2,d[5]+=(o.h-p)/2;var h=y.anim(a,{transform:s},{transform:d},n.duration,n.func);y._magnify[e]={timer:h,transformStart:s,nodeElement:a,front:i},r&&r(a)}},y.prototype.magnifyBack=function(e,t,i){t||(t=this.config.anim);var n=y._magnify[e];if(n){null!=n.timer&&clearInterval(n.timer),null!=n.timerBack&&clearInterval(n.timerBack);var r=y._getTransform(n.nodeElement);n.timerBack=y.anim(n.nodeElement,{transform:r},{transform:n.transformStart},t.duration,t.func,(function(e){var t=e[0].getAttribute("node-id");y._magnify[t]&&y._magnify[t].front&&(e[0].parentNode.removeChild(e[0]),y._magnify[t]=null),i&&i(e[0])}))}};var v=y,b={name:"tree",data:function(){return{users:[],nodes:[]}},methods:{listarUsers:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.get("user/all").then((function(t){e.users=t.data.rows,console.log(e.users);for(var i=0;i<e.users.length;i++){e.users[i];1===e.users[i].id?e.nodes.push({id:e.users[i].id,name:e.users[i].nombre,title:e.users[i].cargo,img:e.users[i].imagen}):(e.nodes.push({id:e.users[i].id,pid:e.users[i].dependencia,name:e.users[i].nombre,title:e.users[i].cargo,img:e.users[i].imagen}),e.oc(e.$refs.tree,e.nodes))}})).catch((function(e){console.log("error"+e)}));case 2:case"end":return t.stop()}}),t)})))()},oc:function(e,t){this.chart=new v(e,{nodes:t,nodeBinding:{field_0:"name",field_1:"title",img_0:"img"}})}},mounted:function(){this.listarUsers()}},w=b,_=i("2877"),k=Object(_["a"])(w,u,g,!1,null,"2b2ba4b6",null),S=k.exports,C=Object(o["a"])({components:{vueDropzone:d.a,Layout:h["a"],PageHeader:f["a"],ValidationProvider:p["b"],ValidationObserver:p["a"],OrgChart:S},data:function(){return{title:"Organigrama",dropzoneOptions:{thumbnailWidth:150,maxFilesize:.5,headers:{"My-Awesome-Header":"header value"}},ver:!1,url:"",url_firma:"",modal:!0,file:null,firma:null,email:"",password:"",totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"age",sortDesc:!1,fields:["nombre_tercero","descripcion_tercero","actions"],terceros:[],editMode:!1,form:{id:"",nombre_tercero:"",descripcion_tercero:""}}},computed:Object(a["a"])({},Object(c["d"])(["counter"])),methods:Object(a["a"])(Object(a["a"])({onFiltered:function(e){this.totalRows=e.length,this.currentPage=1}},Object(c["b"])(["guardarUsuario"])),{},{oc:function(e,t){this.chart=new S(e,{nodes:t,nodeBinding:{field_0:"name",field_1:"title",img_0:"img"}})},session:function(){if(localStorage.getItem("token")){var e=localStorage.getItem("token");this.guardarUsuario(e)}else this.$router.push({name:"Home"})}}),created:function(){this.session()}},"computed",{}),I=C,A=(i("a5ea"),Object(_["a"])(I,n,r,!1,null,null,null));t["default"]=A.exports},"4b33":function(e,t,i){},a5ea:function(e,t,i){"use strict";i("4b33")},f6560:function(e,t,i){}}]);
//# sourceMappingURL=chunk-4d6a9aeb.a7ac48f4.js.map